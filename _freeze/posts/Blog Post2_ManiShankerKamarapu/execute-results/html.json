{
  "hash": "7add39b93d1d4d741ed32e5f747f4c0d",
  "result": {
    "markdown": "---\ntitle: \"Blog Post 2\"\nauthor: \"Mani Shanker Kamarapu\"\ndesription: \"Acquiring data\"\ndate: \"10/2/2022\"\nformat:\n  html:\n    df-print: paged\n    css: styles.css\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - Post2\n  - ManiShankerKamarapu\n  - Symptoms and Disease diagnosis\n---\n\n\n::: callout-tip\n## New Research Questions\n\n1.  To find the most common symptoms that can effect the function in the body.\n2.  To diagnosis the disease through analysis of the symptoms.\n:::\n\n## Data sources\n\nI am web-scrapping the data using *rvest* package from *https://webmd.com* and concentarting mainly on the top common and important diseases.\n\n## Loading the libraries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(polite)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError: package or namespace load failed for 'polite' in loadNamespace(i, c(lib.loc, .libPaths()), versionCheck = vI[[i]]):\n namespace 'rlang' 1.0.4 is already loaded, but >= 1.0.6 is required\n```\n:::\n\n```{.r .cell-code}\nlibrary(rvest)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError: package or namespace load failed for 'rvest' in loadNamespace(i, c(lib.loc, .libPaths()), versionCheck = vI[[i]]):\n namespace 'rlang' 1.0.4 is already loaded, but >= 1.0.6 is required\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError: package or namespace load failed for 'tidyverse' in loadNamespace(i, c(lib.loc, .libPaths()), versionCheck = vI[[i]]):\n namespace 'rlang' 1.0.4 is already loaded, but >= 1.0.6 is required\n```\n:::\n\n```{.r .cell-code}\nlibrary(stringr)\nlibrary(splitstackshape)\n\nknitr::opts_chunk$set(echo = TRUE)\n```\n:::\n\n\n## Scraping the sample data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nurl <- \"https://www.webmd.com/heart-disease/guide/heart-disease-symptoms\"\nbow(url)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in bow(url): could not find function \"bow\"\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nname <- url %>%\n  read_html() %>%\n  html_nodes(\"h2\") %>%\n  html_text2()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in html_text2(.): could not find function \"html_text2\"\n```\n:::\n\n```{.r .cell-code}\nname <- tibble(name)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in tibble(name): could not find function \"tibble\"\n```\n:::\n\n```{.r .cell-code}\nname\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'name' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsymptoms <- url %>%\n  read_html() %>%\n  html_nodes(\"section~ section+ section ul , p+ ul\") %>%\n  html_text2()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in html_text2(.): could not find function \"html_text2\"\n```\n:::\n\n```{.r .cell-code}\nsymptoms <- str_replace_all(symptoms, \"\\n\", \";\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in stri_replace_all_regex(string, pattern, fix_replacement(replacement), : object 'symptoms' not found\n```\n:::\n\n```{.r .cell-code}\nsymptoms[5] <- paste(symptoms[5], symptoms[6])\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in paste(symptoms[5], symptoms[6]): object 'symptoms' not found\n```\n:::\n\n```{.r .cell-code}\nsymptoms <- tibble(symptoms)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in tibble(symptoms): could not find function \"tibble\"\n```\n:::\n\n```{.r .cell-code}\nsymptoms <- symptoms[-6,]\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'symptoms' not found\n```\n:::\n\n```{.r .cell-code}\nsymptoms\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'symptoms' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nheart_diagnosis <- tibble(name, symptoms)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in tibble(name, symptoms): could not find function \"tibble\"\n```\n:::\n\n```{.r .cell-code}\nheart_diagnosis\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'heart_diagnosis' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nheart_diagnosis <- cSplit(heart_diagnosis, \"symptoms\", \";\", direction = \"long\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in is.data.table(indt): object 'heart_diagnosis' not found\n```\n:::\n\n```{.r .cell-code}\nheart_diagnosis\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'heart_diagnosis' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nheart_diagnosis <- heart_diagnosis %>%\n  mutate(\"Type of disease\" = \"Heart disease\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in mutate(., `Type of disease` = \"Heart disease\"): could not find function \"mutate\"\n```\n:::\n\n```{.r .cell-code}\nheart_diagnosis\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'heart_diagnosis' not found\n```\n:::\n:::\n\n\n## Further study\n\nI have scrapped and collect the data for one type of disease and planning to do the same for the top common diseases and analysis the symptoms and do the models based on the symptoms.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}