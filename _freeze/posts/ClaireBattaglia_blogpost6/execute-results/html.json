{
  "hash": "80ce3ce00cc0d069e75a02b09acde390",
  "result": {
    "markdown": "---\ntitle: \"Blog Post 6\"\nauthor: \"Claire Battaglia\"\ndesription: \"STM, continued\"\ndate: \"12/04/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - Claire Battaglia\n  - text-as-data\n  - blog post 6\n  - open-text survey response\n  - unsupervised learning\n  - topic models\n  - causal inference\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\nlibrary(plyr)\nlibrary(tidyverse)\nlibrary(tidytext)\nlibrary(quanteda)\nlibrary(quanteda.textplots)\n\nknitr::opts_chunk$set(echo = TRUE)\n```\n:::\n\n\nFor this final blog post I will be exploring Structural Topic Modeling (STM) further and thinking about causal inference in the context of my research question and hypotheses.\n\nIn my last post I constructed a Structural Topic Model where $k$ = 5 but didn't explore other values for $k$ or spend much time thinking about the substantive interpretation of my results. To begin, then, I'll explore other values for $k$.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load tidy dataset\nload(\"CFA_tidy_2.RData\")\n\n# load dfm\nload(\"dfm_change_2.RData\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# create wordcloud\npng(filename = \"WordCloud.png\")\ntextplot_wordcloud(dfm_change_2, min_count = 5, max_words = 50, random_order = FALSE)\ndev.off()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nquartz_off_screen \n                2 \n```\n:::\n:::\n\n\n## Comparing Models With Different $k$ Values\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# specify number of topics\nk <- 3\nk1 <- 5\nk2 <- 7\n\n# MODEL W/ 3 TOPICS\n# specify model w/ k\nstm_change <- stm(dfm_change_2,\n               K = k,\n               prevalence = ~ zip,\n               data = CFA_tidy_2,\n               max.em.its = 1000,\n               seed = 1234,\n               init.type = \"Spectral\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in stm(dfm_change_2, K = k, prevalence = ~zip, data = CFA_tidy_2, : could not find function \"stm\"\n```\n:::\n\n```{.r .cell-code}\n# label topics w/ k\nlabelTopics(stm_change)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in labelTopics(stm_change): could not find function \"labelTopics\"\n```\n:::\n\n```{.r .cell-code}\n# plot model w/ k\nplot(stm_change, type = \"summary\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in plot(stm_change, type = \"summary\"): object 'stm_change' not found\n```\n:::\n\n```{.r .cell-code}\n# MODEL W/ 5 TOPICS\n# specify model w/ k1\nstm_change_1 <- stm(dfm_change_2,\n               K = k1,\n               prevalence = ~ zip,\n               data = CFA_tidy_2,\n               max.em.its = 1000,\n               seed = 1234,\n               init.type = \"Spectral\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in stm(dfm_change_2, K = k1, prevalence = ~zip, data = CFA_tidy_2, : could not find function \"stm\"\n```\n:::\n\n```{.r .cell-code}\n# label topics w/ k1\nlabelTopics(stm_change_1)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in labelTopics(stm_change_1): could not find function \"labelTopics\"\n```\n:::\n\n```{.r .cell-code}\n# plot model w/ k1\nplot(stm_change_1, type = \"summary\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in plot(stm_change_1, type = \"summary\"): object 'stm_change_1' not found\n```\n:::\n\n```{.r .cell-code}\n# MODEL W/ 7 TOPICS\n# specify model w/ k2\nstm_change_2 <- stm(dfm_change_2,\n               K = k2,\n               prevalence = ~ zip,\n               data = CFA_tidy_2,\n               max.em.its = 1000,\n               seed = 1234,\n               init.type = \"Spectral\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in stm(dfm_change_2, K = k2, prevalence = ~zip, data = CFA_tidy_2, : could not find function \"stm\"\n```\n:::\n\n```{.r .cell-code}\n# label topics w/ k2\nlabelTopics(stm_change_2)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in labelTopics(stm_change_2): could not find function \"labelTopics\"\n```\n:::\n\n```{.r .cell-code}\n# plot model w/ k2\nplot(stm_change_2, type = \"summary\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in plot(stm_change_2, type = \"summary\"): object 'stm_change_2' not found\n```\n:::\n:::\n\n\n\n\n\n\n\nmultidimensional scaling - intertopic distance map\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}