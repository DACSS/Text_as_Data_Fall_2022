<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nayan Jani">
<meta name="dcterms.date" content="2022-11-07">
<meta name="description" content="Sentiment Analysis">

<title>Text-as-Data Fall 2022 - Blog Post 4</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<meta name="twitter:title" content="Text-as-Data Fall 2022 - Blog Post 4">
<meta name="twitter:description" content="Sentiment Analysis">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../index.html">
    <img src="../images/UMass White Wordmark Horiz.png" alt="">
    <span class="navbar-title">Text-as-Data Fall 2022</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://dacss.github.io/Text_as_Data_Fall_2022/">Fall 2022</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">Contributors</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss">DACSS</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DACSS/Text_as_Data_Fall_2022"><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 </a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#my-data" id="toc-my-data" class="nav-link active" data-scroll-target="#my-data">My Data</a></li>
  <li><a href="#key-questions" id="toc-key-questions" class="nav-link" data-scroll-target="#key-questions">Key Questions</a></li>
  <li><a href="#wordclouds-and-tf-idf" id="toc-wordclouds-and-tf-idf" class="nav-link" data-scroll-target="#wordclouds-and-tf-idf">WordClouds and TF-IDF</a></li>
  <li><a href="#sentiment-analysis" id="toc-sentiment-analysis" class="nav-link" data-scroll-target="#sentiment-analysis">Sentiment Analysis</a></li>
  <li><a href="#comparing-dictionaries" id="toc-comparing-dictionaries" class="nav-link" data-scroll-target="#comparing-dictionaries">Comparing Dictionaries</a></li>
  <li><a href="#semantic-network" id="toc-semantic-network" class="nav-link" data-scroll-target="#semantic-network">Semantic Network</a></li>
  <li><a href="#next-post" id="toc-next-post" class="nav-link" data-scroll-target="#next-post">Next Post</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Blog Post 4</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">Nayan Jani</div>
    <div class="quarto-category">Blog4</div>
  </div>
  </div>

<div>
  <div class="description">
    Sentiment Analysis
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Nayan Jani </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 7, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textplots)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textmodels)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.dictionaries)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.sentiment)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(syuzhet)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="my-data" class="level1">
<h1>My Data</h1>
<p>Using Youtube API, I was able to extract comments from multiple videos covering the world cup in Qatar. One of the Videos is from Nov 13, 2021 and has 421,163 views and 1,862 comments. The reason that I chose this video is because it is the most interacted video on youtube that talks about some of the controversies that surround this years World Cup I Qatar. I realize that this video is not current but my goal does not include comparison of language and thoughts over a period of time. The Qatar World cup has been a controversy for years and the discussion leading up to it has not changed because of the possible human rights violations. The comments I have scraped are the top 100 most relevant comments and the top 100 most recent comments. This only leaves me with 400 comments to deal with at the moment . For now I will only keep it at 400 so that I can figure out my thought process for analysis but for my next blog post I will scrape more comments and videos that discuss the controversies of the World Cup.</p>
</section>
<section id="key-questions" class="level1">
<h1>Key Questions</h1>
<p>My Goal is to:</p>
<ul>
<li><p>Find the overall Sentiment of the comments (Positive and Negative, Other emotions)</p></li>
<li><p>What is the main focus in the comments (what topic is most important to the people in the comments)</p></li>
<li><p>Based on the most important topics and the sentiment of those comments, are those comments classified correctly positive or negative? If yes, what are the comments POV? Are those comments “socially correct”? (logical/acceptable POV vs Stereotyped/Stigmatized POV)</p></li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df_bbc<span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/comments_bbc.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 100 Columns: 1
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (1): i

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df_bbc<span class="ot">&lt;-</span> df_bbc<span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">text =</span> <span class="st">"i"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>df_bbc<span class="ot">&lt;-</span> df_bbc <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"39"</span>))</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>df_bbc <span class="ot">&lt;-</span> df_bbc <span class="sc">%&gt;%</span> </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&lt;"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&gt;"</span>))</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>corpus_bbc <span class="ot">&lt;-</span> <span class="fu">corpus</span>(df_bbc)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>corpus_bbc_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(corpus_bbc)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>corpus_bbc_summary<span class="sc">$</span>video <span class="ot">&lt;-</span> <span class="st">"BBC"</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(corpus_bbc) <span class="ot">&lt;-</span> corpus_bbc_summary</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>df_q<span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/comments_q.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 99 Columns: 1
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (1): I’ll try to get the next video essay out in less than a month lol

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df_q<span class="ot">&lt;-</span> df_q <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">text =</span> <span class="st">"I’ll try to get the next video essay out in less than a month lol"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>df_q<span class="ot">&lt;-</span> df_q <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"39"</span>))</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>df_q <span class="ot">&lt;-</span> df_q <span class="sc">%&gt;%</span> </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&lt;"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&gt;"</span>))</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>corpus_q <span class="ot">&lt;-</span> <span class="fu">corpus</span>(df_q)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>corpus_q_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(corpus_q)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>corpus_q_summary<span class="sc">$</span>video <span class="ot">&lt;-</span> <span class="st">"Maqwell"</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(corpus_q) <span class="ot">&lt;-</span> corpus_q_summary</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>df_qRev<span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/comments_qRev.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 99 Columns: 1
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (1): I’ll try to get the next video essay out in less than a month lol

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df_qRev <span class="ot">&lt;-</span> df_qRev<span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">text =</span> <span class="st">"I’ll try to get the next video essay out in less than a month lol"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>df_qRev<span class="ot">&lt;-</span> df_qRev <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"39"</span>))</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>df_qRev <span class="ot">&lt;-</span> df_qRev <span class="sc">%&gt;%</span> </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&lt;"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&gt;"</span>))</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>corpus_qRev <span class="ot">&lt;-</span> <span class="fu">corpus</span>(df_qRev)</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>corpus_qRev_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(corpus_qRev)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>corpus_qRev_summary<span class="sc">$</span>video <span class="ot">&lt;-</span> <span class="st">"MaqwellRev"</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(corpus_qRev) <span class="ot">&lt;-</span> corpus_qRev_summary</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>df_sky<span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/comments_sky.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, see `problems()` for details</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 99 Columns: 1
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (1): i

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df_sky<span class="ot">&lt;-</span> df_sky<span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">text =</span> <span class="st">"i"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>df_sky<span class="ot">&lt;-</span> df_sky <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"39"</span>))</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>df_sky <span class="ot">&lt;-</span> df_sky <span class="sc">%&gt;%</span> </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&lt;"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&gt;"</span>))</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>corpus_sky <span class="ot">&lt;-</span> <span class="fu">corpus</span>(df_sky)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>corpus_sky_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(corpus_sky)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>corpus_sky_summary<span class="sc">$</span>video <span class="ot">&lt;-</span> <span class="st">"sky"</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(corpus_sky) <span class="ot">&lt;-</span> corpus_sky_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>corpus_bbc_summary1<span class="ot">&lt;-</span> <span class="fu">as.tibble</span>(corpus_bbc_summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: `as.tibble()` was deprecated in tibble 2.0.0.
ℹ Please use `as_tibble()` instead.
ℹ The signature and semantics have changed, see `?as_tibble`.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>corpus_bbc_summary1<span class="ot">&lt;-</span> corpus_bbc_summary1 <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Text =</span><span class="fu">str_replace_all</span>(Text,<span class="st">"text"</span>, <span class="st">"bbc-text"</span>))</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>corpus_q_summary1<span class="ot">&lt;-</span> <span class="fu">as.tibble</span>(corpus_q_summary)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>corpus_q_summary1<span class="ot">&lt;-</span> corpus_q_summary1 <span class="sc">%&gt;%</span> </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Text =</span><span class="fu">str_replace_all</span>(Text,<span class="st">"text"</span>, <span class="st">"Maqwell-text"</span>))</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>corpus_qRev_summary1<span class="ot">&lt;-</span> <span class="fu">as.tibble</span>(corpus_qRev_summary)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>corpus_qRev_summary1<span class="ot">&lt;-</span> corpus_qRev_summary1 <span class="sc">%&gt;%</span> </span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Text =</span><span class="fu">str_replace_all</span>(Text,<span class="st">"text"</span>, <span class="st">"MaqwellRev-text"</span>))</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>corpus_sky_summary1<span class="ot">&lt;-</span> <span class="fu">as.tibble</span>(corpus_sky_summary)</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>corpus_sky_summary1<span class="ot">&lt;-</span> corpus_sky_summary1 <span class="sc">%&gt;%</span> </span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Text =</span><span class="fu">str_replace_all</span>(Text,<span class="st">"text"</span>, <span class="st">"sky-text"</span>))</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>full <span class="ot">&lt;-</span> <span class="fu">rbind</span>(corpus_bbc_summary1,corpus_q_summary1,corpus_qRev_summary1,corpus_sky_summary1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>full_df1 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df_bbc,df_q,df_qRev,df_sky)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(full_df1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  text                                                                          
  &lt;chr&gt;                                                                         
1 Looking forward to it if you just act normal respect the culture and country …
2 Honestly every country in the world has done bad. May Allah bless these worke…
3 if you don't like it stay home and the last people talking about human rights…
4 So we can’t boycott a football game ( a trivial matter)  to protest a repress…
5 I see everyone kept their mouth shut with Russia&amp;#;s world cup                
6 Did Qatar invade any country and kill millions? Who are robbing Africa? Weste…</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>full_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(full_df1)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>full_corpus_summary<span class="ot">&lt;-</span> <span class="fu">summary</span>(full_corpus)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(full_corpus)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Corpus consisting of 6 documents.
text1 :
"Looking forward to it if you just act normal respect the cul..."

text2 :
"Honestly every country in the world has done bad. May Allah ..."

text3 :
"if you don't like it stay home and the last people talking a..."

text4 :
"So we can’t boycott a football game ( a trivial matter)  to ..."

text5 :
"I see everyone kept their mouth shut with Russia&amp;#;s world c..."

text6 :
"Did Qatar invade any country and kill millions? Who are robb..."</code></pre>
</div>
</div>
<p>For this blog post I will only be analyzing the full corpus.</p>
</section>
<section id="wordclouds-and-tf-idf" class="level1">
<h1>WordClouds and TF-IDF</h1>
<p>My first step is to discover which words are the most frequent and important in my corpus.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>full_tokens <span class="ot">&lt;-</span> <span class="fu">tokens</span>(full_corpus,</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_numbers =</span> T,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_punct =</span> T,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_symbols =</span> T)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>full_tokens <span class="ot">&lt;-</span><span class="fu">tokens_tolower</span>(full_tokens)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>full_tokens <span class="ot">&lt;-</span> <span class="fu">tokens_select</span>(full_tokens, </span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">pattern =</span> <span class="fu">c</span>(<span class="fu">stopwords</span>(<span class="st">"en"</span>),<span class="st">"[a-z]"</span>,<span class="st">"t"</span>,<span class="st">"m"</span>,<span class="st">"="</span>,<span class="st">"ve"</span>,<span class="st">"don"</span>,<span class="st">"s"</span>),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>                              <span class="at">selection =</span> <span class="st">"remove"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1245</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>full_dfm <span class="ot">&lt;-</span> <span class="fu">dfm</span>(full_tokens)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(full_dfm, <span class="at">min_count =</span> <span class="dv">10</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost4_NayanJani_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This word clouds depicts the frequency of each word in the corpus. Words like workers, culture, respect, western, rights and human shown in the word cloud imply that the common discussion within these comments could be about the cultural difference between visitors of the world cup and the people who live in Qatar. The word workers being large suggests that the discussion of how workers were treated during the build up of the World Cup is common in the corpus.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>full_dfm_tfidf <span class="ot">&lt;-</span> <span class="fu">dfm_tfidf</span>(full_dfm)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">topfeatures</span>(full_dfm_tfidf,<span class="dv">50</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    world     qatar      quot       cup    people   country      just      like 
 92.14272  84.35479  78.10155  77.33323  71.51482  70.43851  61.26745  60.19609 
  workers       can countries       one   million      laws     video   respect 
 59.77415  57.09799  55.98868  54.05803  53.04173  51.21717  47.95445  45.45570 
   rights  football      must     human   culture        go      know      time 
 43.76203  42.69246  41.57572  40.91013  40.85994  40.38009  38.00387  37.63505 
      war      fifa      even      many      href        🇺🇦       see      work 
 36.76417  35.89342  35.87482  35.64100  35.07385  34.46641  33.62381  33.58795 
      say       get    russia      west      also   migrant    really      want 
 33.40069  32.66556  32.44401  32.07742  31.96306  31.91179  31.40920  31.22211 
     make   western       law      much        us     going      good       god 
 30.63771  30.63771  30.39713  29.84849  29.84849  29.04081  28.89646  28.87258 
    think     great 
 28.55073  28.55073 </code></pre>
</div>
</div>
<p>Based on TF_IDF ranking, I pulled the top 50 most important terms from my corpus. Numerically, I can see words like workers, laws, respect, rights, human and culture are ranked highly in my corpus. The wordcloud will show a better depiction.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(full_dfm_tfidf, <span class="at">min_count =</span> <span class="dv">10</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in dfm_trim.dfm(x, min_termfreq = min_count): dfm has been previously
weighted</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
including could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
homophobic could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
construction could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
beliefs could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : since
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : major
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : point
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : times
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
deaths could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
second could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
degrees could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
germany could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
security could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
sponsor could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
christianity could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
united could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
alcohol could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : needs
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
russian could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : event
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : party
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
bloody could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : happy
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
except could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
perfect could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
english could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : views
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
simply could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
happening could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
paying could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : south
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : shame
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : topic
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
migrants could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : day
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
homosexuality could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
violations could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : lived
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
abuses could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
islamic could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
common could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
national could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
little could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
though could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : power
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
deserve could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : two
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
interesting could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
mentioned could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
throughout could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
definitely could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
important could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
informative could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
visiting could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : enjoy
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
opportunity could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : gulf
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : face
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
differences could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : light
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : woman
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
according could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
agency could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : drunk
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, : guy
could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
future could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
continued could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in wordcloud(x, min_size, max_size, min_count, max_words, color, :
opportunities could not be fit on page. It will not be plotted.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost4_NayanJani_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The word cloud gives me a better look for which words stand out the most. Still I can see that the main discussion in the corpus is about the human rights violation and respecting the host country based on the top words.</p>
</section>
<section id="sentiment-analysis" class="level1">
<h1>Sentiment Analysis</h1>
<p>For now, the two dictionaries that I am using are NRC and General Inquirer. I chose these because they both evaluate positive and negative sentiment values. In the my next post I will add at least on more dictionary to compare with these two. The dictionary I will use to detect emotions is NRC.</p>
<p>Here is used the liwcalike() function, which takes a corpus or character vector and carries out an analysis–based on the provided dictionary (NRC). The LIWC software calculates the percentage of the document that reflects a host of different characteristics. My focus is on positive and negative language. I can evaluate that language using polarity.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>reviewSentiment_nrc <span class="ot">&lt;-</span> <span class="fu">liwcalike</span>(full_corpus, data_dictionary_NRC)</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>reviewSentiment_nrc<span class="sc">$</span>polarity <span class="ot">&lt;-</span> reviewSentiment_nrc<span class="sc">$</span>positive <span class="sc">-</span> reviewSentiment_nrc<span class="sc">$</span>negative</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(reviewSentiment_nrc) <span class="sc">+</span></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(polarity)) <span class="sc">+</span></span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost4_NayanJani_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>full_corpus[<span class="fu">which</span>(reviewSentiment_nrc<span class="sc">$</span>polarity <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">25</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Corpus consisting of 3 documents.
text20 :
"Shame on qatar killing 100000 workers"

text329 :
"Ruined it"

text387 :
"Boycott"</code></pre>
</div>
</div>
<p>To check for correctness I looked at the lowest polarity comments. Based on the comments the NRC analysis is classifying the comments correctly for now. These comments have such low polarity because of how short they are. If the sentence is only 3-4 words long containing negative words, the polarity will be very low. I will take this into consideration.</p>
<p>Using Dictionaries with DFMs, I implement the same method but now the values are counts rather than percentages.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>FullDfm_nrc <span class="ot">&lt;-</span> <span class="fu">tokens</span>(full_corpus,</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_punct =</span> <span class="cn">TRUE</span>,</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_symbols =</span> <span class="cn">TRUE</span>,</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_numbers =</span> <span class="cn">TRUE</span>,</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_url =</span> <span class="cn">TRUE</span>,</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">split_hyphens =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_tolower</span>() <span class="sc">%&gt;%</span></span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm</span>() <span class="sc">%&gt;%</span></span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_lookup</span>(data_dictionary_NRC)</span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>df_nrc <span class="ot">&lt;-</span> <span class="fu">convert</span>(FullDfm_nrc, <span class="at">to =</span> <span class="st">"data.frame"</span>)</span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a>df_nrc<span class="sc">$</span>polarity <span class="ot">&lt;-</span> (df_nrc<span class="sc">$</span>positive <span class="sc">-</span> df_nrc<span class="sc">$</span>negative)<span class="sc">/</span>(df_nrc<span class="sc">$</span>positive <span class="sc">+</span> df_nrc<span class="sc">$</span>negative)</span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>df_nrc<span class="sc">$</span>polarity[(df_nrc<span class="sc">$</span>positive <span class="sc">+</span> df_nrc<span class="sc">$</span>negative) <span class="sc">==</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_nrc) <span class="sc">+</span></span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x=</span>polarity)) <span class="sc">+</span></span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost4_NayanJani_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">writeLines</span>(<span class="fu">head</span>(full_corpus[<span class="fu">which</span>(df_nrc<span class="sc">$</span>polarity <span class="sc">==</span> <span class="dv">1</span>)]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Looking forward to it if you just act normal respect the culture and country and you will be ok.  No one needs to know someone is gay just like no one needs to know if you hetero.  Just save that for behind closed doors and make sure it&amp;#;s between consenting adults.  Children and animals are not consenting adults btw you perverts.
Just respect other countries laws and beliefs.
Well hope  qp kp  ero  3 code  brIncome  you I&amp;#;m  3 layar brQp   KP   iERO EEE/ibrYOU I&amp;#;M AZ ORGANIZATION
An apology won’t bring those dead labour  back alive
When is the west going to respecting other countries without pushing their agenda, I mean we all know this ain’t about the workers sharing rooms or the stadium being moveable ( it’s about the west pushing so called LGBQT) no wonder why only the west condemned Russia and the world didn’t
Arab using western accent .......he even hates hiz own culture 😂😂</code></pre>
</div>
</div>
<p>Based on the results of the most positive comments, I can see a mix of comments that are positive and some that are negative. The POV of most of these comments come from people who are from Qatar. They are defending their countries culture whilst calling out western culture. Some of the comments are stigmatized based on some of the language and assumptions drawn.</p>
<p>Here I look at the NRC emotions of the full corpus. The graph below shows words from the corpus that contribute to each sentiment. The graph displays the most common words for each sentiment.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidytext' was built under R version 4.2.1</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(textdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'textdata' was built under R version 4.2.1</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>post_clean <span class="ot">&lt;-</span> full_df1 <span class="sc">%&gt;%</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text)</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>sentiment_word_counts <span class="ot">&lt;-</span> post_clean <span class="sc">%&gt;%</span></span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(<span class="fu">get_sentiments</span>(<span class="st">"nrc"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, sentiment, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Joining, by = "word"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>sentiment_word_counts<span class="ot">&lt;-</span> sentiment_word_counts <span class="sc">%&gt;%</span> </span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(word <span class="sc">!=</span> <span class="st">"don"</span>)</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>sentiment_word_counts <span class="sc">%&gt;%</span></span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sentiment) <span class="sc">%&gt;%</span></span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">9</span>) <span class="sc">%&gt;%</span></span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb110-9"><a href="#cb110-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">reorder</span>(word, n)) <span class="sc">%&gt;%</span></span>
<span id="cb110-10"><a href="#cb110-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(word, n, <span class="at">fill =</span> sentiment)) <span class="sc">+</span></span>
<span id="cb110-11"><a href="#cb110-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb110-12"><a href="#cb110-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>sentiment, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb110-13"><a href="#cb110-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sentiment terms"</span>,</span>
<span id="cb110-14"><a href="#cb110-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Contribution to sentiment"</span>,</span>
<span id="cb110-15"><a href="#cb110-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb110-16"><a href="#cb110-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Selecting by n</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost4_NayanJani_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The graph below shows the percentage of each emotion in the text plotted as a bar graph:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>s_v <span class="ot">&lt;-</span> <span class="fu">get_sentences</span>(full_df1<span class="sc">$</span>text)</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>nrc_data <span class="ot">&lt;-</span> <span class="fu">get_nrc_sentiment</span>(s_v)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: `spread_()` was deprecated in tidyr 1.2.0.
ℹ Please use `spread()` instead.
ℹ The deprecated feature was likely used in the syuzhet package.
  Please report the issue to the authors.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>valence <span class="ot">&lt;-</span> (nrc_data[, <span class="dv">9</span>]<span class="sc">*-</span><span class="dv">1</span>) <span class="sc">+</span> nrc_data[, <span class="dv">10</span>]</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(</span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sort</span>(<span class="fu">colSums</span>(<span class="fu">prop.table</span>(nrc_data[, <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>]))), </span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">horiz =</span> <span class="cn">TRUE</span>, </span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex.names =</span> <span class="fl">0.7</span>, </span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">las =</span> <span class="dv">1</span>, </span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">"Emotions in full corpus"</span>, <span class="at">xlab=</span><span class="st">"Percentage"</span></span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost4_NayanJani_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Trust and anticipation are the highest values because of the word “respect”. This could imply that the overarching theme of the comments is trying to convey respect between cultures.</p>
<p>Here I use the dictionary Genreal Inquirer to evalute the polarity of the comments in the corpus.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>reviewSentiment_genq <span class="ot">&lt;-</span> <span class="fu">liwcalike</span>(full_corpus, data_dictionary_geninqposneg)</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>reviewSentiment_genq<span class="sc">$</span>polarity <span class="ot">&lt;-</span> reviewSentiment_genq<span class="sc">$</span>positive <span class="sc">-</span> reviewSentiment_genq<span class="sc">$</span>negative</span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(reviewSentiment_genq) <span class="sc">+</span></span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(polarity)) <span class="sc">+</span></span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost4_NayanJani_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>full_corpus[<span class="fu">which</span>(reviewSentiment_genq<span class="sc">$</span>polarity <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">20</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Corpus consisting of 4 documents.
text6 :
"Did Qatar invade any country and kill millions? Who are robb..."

text34 :
"Radical Country n Radical People"

text343 :
"hypocrisy and audacity of western civilization is unbelievab..."

text356 :
"Load of bolllox"</code></pre>
</div>
</div>
<p>Here I see the correct classification of negative comments. I can also see that most of the comment are charged with emotions rather than logical thought.</p>
<p>Next, I performed a DFM dictionary analysis using GenInq.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>FullDfm_genq <span class="ot">&lt;-</span> <span class="fu">tokens</span>(full_corpus,</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_punct =</span> <span class="cn">TRUE</span>,</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_symbols =</span> <span class="cn">TRUE</span>,</span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_numbers =</span> <span class="cn">TRUE</span>,</span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_url =</span> <span class="cn">TRUE</span>,</span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">split_hyphens =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_tolower</span>() <span class="sc">%&gt;%</span></span>
<span id="cb119-8"><a href="#cb119-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm</span>() <span class="sc">%&gt;%</span></span>
<span id="cb119-9"><a href="#cb119-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_lookup</span>(data_dictionary_geninqposneg)</span>
<span id="cb119-10"><a href="#cb119-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-11"><a href="#cb119-11" aria-hidden="true" tabindex="-1"></a>df_genq <span class="ot">&lt;-</span> <span class="fu">convert</span>(FullDfm_genq, <span class="at">to =</span> <span class="st">"data.frame"</span>)</span>
<span id="cb119-12"><a href="#cb119-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-13"><a href="#cb119-13" aria-hidden="true" tabindex="-1"></a>df_genq<span class="sc">$</span>polarity <span class="ot">&lt;-</span> (df_genq<span class="sc">$</span>positive <span class="sc">-</span> df_genq<span class="sc">$</span>negative)<span class="sc">/</span>(df_genq<span class="sc">$</span>positive <span class="sc">+</span> df_genq<span class="sc">$</span>negative)</span>
<span id="cb119-14"><a href="#cb119-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-15"><a href="#cb119-15" aria-hidden="true" tabindex="-1"></a>df_genq<span class="sc">$</span>polarity[(df_genq<span class="sc">$</span>positive <span class="sc">+</span> df_genq<span class="sc">$</span>negative) <span class="sc">==</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb119-16"><a href="#cb119-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-17"><a href="#cb119-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_genq) <span class="sc">+</span></span>
<span id="cb119-18"><a href="#cb119-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x=</span>polarity)) <span class="sc">+</span></span>
<span id="cb119-19"><a href="#cb119-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost4_NayanJani_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">writeLines</span>(<span class="fu">head</span>(full_corpus[<span class="fu">which</span>(df_genq<span class="sc">$</span>polarity <span class="sc">==</span> <span class="dv">1</span>)]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>if you don't like it stay home and the last people talking about human rights is the west.
well................
Just respect other countries laws and beliefs.
Well hope  qp kp  ero  3 code  brIncome  you I&amp;#;m  3 layar brQp   KP   iERO EEE/ibrYOU I&amp;#;M AZ ORGANIZATION
why don&amp;#;t the rich arab take ther middeleast people to Labour  .. same culture..
People talking about Qatar bribing FIFA forget that in 1990s USA hosted the world cup. USA will host again next world cup. This is in a country where  Football is not a major sport and is played by kids and women. How do you think US got to host it? 😂😂😂😂😂</code></pre>
</div>
</div>
<p>For the most positive comments I see a mix of positive and negative comments. I also see a lot of comments that are baised against the USA and their beliefs.</p>
</section>
<section id="comparing-dictionaries" class="level1">
<h1>Comparing Dictionaries</h1>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df_nrc) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"nrc"</span>, <span class="fu">colnames</span>(df_nrc), <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df_genq) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"genq"</span>, <span class="fu">colnames</span>(df_genq), <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a>sent_df <span class="ot">&lt;-</span> <span class="fu">merge</span>(df_nrc, df_genq, <span class="at">by.x =</span> <span class="st">"nrc_doc_id"</span>, <span class="at">by.y =</span> <span class="st">"genq_doc_id"</span>)</span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(sent_df<span class="sc">$</span>nrc_polarity, sent_df<span class="sc">$</span>genq_polarity)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4817672</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sent_df, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> nrc_polarity,</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">y =</span> genq_polarity)) <span class="sc">+</span></span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost4_NayanJani_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Here I compare the similarity between NRC and General Inquirer dictionaries. As the plots make clear, while the measures are correlated, they are decidedly not identical to one another. We can observe really significant variance across each in the estimates of polarity.</p>
</section>
<section id="semantic-network" class="level1">
<h1>Semantic Network</h1>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>full_fcm <span class="ot">&lt;-</span> <span class="fu">fcm</span>(full_dfm)</span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="co"># keep only top features.</span></span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>small_fcm <span class="ot">&lt;-</span> <span class="fu">fcm_select</span>(full_fcm, <span class="at">pattern =</span> <span class="fu">names</span>(<span class="fu">topfeatures</span>(full_fcm, <span class="dv">53</span>)), <span class="at">selection =</span> <span class="st">"keep"</span>)</span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a><span class="co"># compute weights.</span></span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a>size <span class="ot">&lt;-</span> <span class="fu">log</span>(<span class="fu">colSums</span>(small_fcm))</span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-9"><a href="#cb127-9" aria-hidden="true" tabindex="-1"></a><span class="co"># create network.</span></span>
<span id="cb127-10"><a href="#cb127-10" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_network</span>(small_fcm, <span class="at">vertex_size =</span> size <span class="sc">/</span> <span class="fu">max</span>(size) <span class="sc">*</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost4_NayanJani_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Here I created a Semantic Network of the top 53 terms in the corpus. I see the heart of the network revolves around politcal terms. Thus could imply that some of the policies that are followed or have been created for the world cup have been at the heart of discussion. I also see a sub network in the bottom left that link travelers to law and laws. Thuis implies that people visiting the world cup must follow the laws in place.</p>
</section>
<section id="next-post" class="level1">
<h1>Next Post</h1>
<p>For my next post I want to use topic modeling. I also would like to implement Custom Sentiment Lexicons using key words in context to see which important words that signify political correctness. I also would like to use mixed messages to identify areas of the text where there is emotional ambiguity. I will keep adding comments to my data.</p>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/Text_as_Data_Fall_2022" data-repo-id="R_kgDOH5675w" data-category="Announcements" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb128" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Blog Post 4"</span></span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Nayan Jani"</span></span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "Sentiment Analysis"</span></span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "11/07/2022"</span></span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb128-8"><a href="#cb128-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb128-9"><a href="#cb128-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb128-10"><a href="#cb128-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb128-11"><a href="#cb128-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb128-12"><a href="#cb128-12" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span></span>
<span id="cb128-13"><a href="#cb128-13" aria-hidden="true" tabindex="-1"></a><span class="co">  - Nayan Jani</span></span>
<span id="cb128-14"><a href="#cb128-14" aria-hidden="true" tabindex="-1"></a><span class="co">  - Blog4</span></span>
<span id="cb128-15"><a href="#cb128-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-16"><a href="#cb128-16" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb128-17"><a href="#cb128-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-20"><a href="#cb128-20" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-21"><a href="#cb128-21" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb128-22"><a href="#cb128-22" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb128-23"><a href="#cb128-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-24"><a href="#cb128-24" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb128-25"><a href="#cb128-25" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb128-26"><a href="#cb128-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textplots)</span>
<span id="cb128-27"><a href="#cb128-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textmodels)</span>
<span id="cb128-28"><a href="#cb128-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb128-29"><a href="#cb128-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.dictionaries)</span>
<span id="cb128-30"><a href="#cb128-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.sentiment)</span>
<span id="cb128-31"><a href="#cb128-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(syuzhet)</span>
<span id="cb128-32"><a href="#cb128-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-33"><a href="#cb128-33" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb128-34"><a href="#cb128-34" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-35"><a href="#cb128-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-36"><a href="#cb128-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-37"><a href="#cb128-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-38"><a href="#cb128-38" aria-hidden="true" tabindex="-1"></a><span class="fu"># My Data </span></span>
<span id="cb128-39"><a href="#cb128-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-40"><a href="#cb128-40" aria-hidden="true" tabindex="-1"></a>Using Youtube API, I was able to extract comments from multiple videos covering the world cup in Qatar. One of the Videos is from Nov 13, 2021 and has 421,163 views and 1,862 comments. The reason that I chose this video is because it is the most interacted video on  youtube that talks about some of the controversies that surround this years World Cup I Qatar. I realize that this video is not current but my goal does not include comparison of language and thoughts over a period of time. The Qatar World cup has been a controversy for years and the discussion leading up to it has not changed because of the possible human rights violations. The comments I have scraped are the top 100 most relevant comments and the top 100 most recent comments. This only leaves me with 400 comments to deal with at the moment . For now I will only keep it at 400 so that I can figure out my thought process for analysis but for my next blog post I will scrape more comments and videos that discuss the controversies of the World Cup.</span>
<span id="cb128-41"><a href="#cb128-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-42"><a href="#cb128-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-43"><a href="#cb128-43" aria-hidden="true" tabindex="-1"></a><span class="fu"># Key Questions</span></span>
<span id="cb128-44"><a href="#cb128-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-45"><a href="#cb128-45" aria-hidden="true" tabindex="-1"></a>My Goal is to:</span>
<span id="cb128-46"><a href="#cb128-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-47"><a href="#cb128-47" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Find the overall Sentiment of the comments (Positive and Negative, Other emotions)</span>
<span id="cb128-48"><a href="#cb128-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb128-49"><a href="#cb128-49" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>What is the main focus in the comments (what topic is most important to the people in the comments)</span>
<span id="cb128-50"><a href="#cb128-50" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb128-51"><a href="#cb128-51" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Based on the most important topics and the sentiment of those comments, are those comments classified correctly positive or negative? If yes, what are the comments POV? Are those comments "socially correct"? (logical/acceptable POV vs Stereotyped/Stigmatized POV)</span>
<span id="cb128-52"><a href="#cb128-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb128-53"><a href="#cb128-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-54"><a href="#cb128-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-57"><a href="#cb128-57" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-58"><a href="#cb128-58" aria-hidden="true" tabindex="-1"></a>df_bbc<span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/comments_bbc.csv"</span>)</span>
<span id="cb128-59"><a href="#cb128-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-60"><a href="#cb128-60" aria-hidden="true" tabindex="-1"></a>df_bbc<span class="ot">&lt;-</span> df_bbc<span class="sc">%&gt;%</span> </span>
<span id="cb128-61"><a href="#cb128-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">text =</span> <span class="st">"i"</span>)</span>
<span id="cb128-62"><a href="#cb128-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-63"><a href="#cb128-63" aria-hidden="true" tabindex="-1"></a>df_bbc<span class="ot">&lt;-</span> df_bbc <span class="sc">%&gt;%</span></span>
<span id="cb128-64"><a href="#cb128-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb128-65"><a href="#cb128-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"39"</span>))</span>
<span id="cb128-66"><a href="#cb128-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-67"><a href="#cb128-67" aria-hidden="true" tabindex="-1"></a>df_bbc <span class="ot">&lt;-</span> df_bbc <span class="sc">%&gt;%</span> </span>
<span id="cb128-68"><a href="#cb128-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb128-69"><a href="#cb128-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&lt;"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb128-70"><a href="#cb128-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&gt;"</span>))</span>
<span id="cb128-71"><a href="#cb128-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-72"><a href="#cb128-72" aria-hidden="true" tabindex="-1"></a>corpus_bbc <span class="ot">&lt;-</span> <span class="fu">corpus</span>(df_bbc)</span>
<span id="cb128-73"><a href="#cb128-73" aria-hidden="true" tabindex="-1"></a>corpus_bbc_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(corpus_bbc)</span>
<span id="cb128-74"><a href="#cb128-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-75"><a href="#cb128-75" aria-hidden="true" tabindex="-1"></a>corpus_bbc_summary<span class="sc">$</span>video <span class="ot">&lt;-</span> <span class="st">"BBC"</span></span>
<span id="cb128-76"><a href="#cb128-76" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(corpus_bbc) <span class="ot">&lt;-</span> corpus_bbc_summary</span>
<span id="cb128-77"><a href="#cb128-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-78"><a href="#cb128-78" aria-hidden="true" tabindex="-1"></a>df_q<span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/comments_q.csv"</span>)</span>
<span id="cb128-79"><a href="#cb128-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-80"><a href="#cb128-80" aria-hidden="true" tabindex="-1"></a>df_q<span class="ot">&lt;-</span> df_q <span class="sc">%&gt;%</span> </span>
<span id="cb128-81"><a href="#cb128-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">text =</span> <span class="st">"I’ll try to get the next video essay out in less than a month lol"</span>)</span>
<span id="cb128-82"><a href="#cb128-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-83"><a href="#cb128-83" aria-hidden="true" tabindex="-1"></a>df_q<span class="ot">&lt;-</span> df_q <span class="sc">%&gt;%</span></span>
<span id="cb128-84"><a href="#cb128-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb128-85"><a href="#cb128-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"39"</span>))</span>
<span id="cb128-86"><a href="#cb128-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-87"><a href="#cb128-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-88"><a href="#cb128-88" aria-hidden="true" tabindex="-1"></a>df_q <span class="ot">&lt;-</span> df_q <span class="sc">%&gt;%</span> </span>
<span id="cb128-89"><a href="#cb128-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb128-90"><a href="#cb128-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&lt;"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb128-91"><a href="#cb128-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&gt;"</span>))</span>
<span id="cb128-92"><a href="#cb128-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-93"><a href="#cb128-93" aria-hidden="true" tabindex="-1"></a>corpus_q <span class="ot">&lt;-</span> <span class="fu">corpus</span>(df_q)</span>
<span id="cb128-94"><a href="#cb128-94" aria-hidden="true" tabindex="-1"></a>corpus_q_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(corpus_q)</span>
<span id="cb128-95"><a href="#cb128-95" aria-hidden="true" tabindex="-1"></a>corpus_q_summary<span class="sc">$</span>video <span class="ot">&lt;-</span> <span class="st">"Maqwell"</span></span>
<span id="cb128-96"><a href="#cb128-96" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(corpus_q) <span class="ot">&lt;-</span> corpus_q_summary</span>
<span id="cb128-97"><a href="#cb128-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-98"><a href="#cb128-98" aria-hidden="true" tabindex="-1"></a>df_qRev<span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/comments_qRev.csv"</span>)</span>
<span id="cb128-99"><a href="#cb128-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-100"><a href="#cb128-100" aria-hidden="true" tabindex="-1"></a>df_qRev <span class="ot">&lt;-</span> df_qRev<span class="sc">%&gt;%</span> </span>
<span id="cb128-101"><a href="#cb128-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">text =</span> <span class="st">"I’ll try to get the next video essay out in less than a month lol"</span>)</span>
<span id="cb128-102"><a href="#cb128-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-103"><a href="#cb128-103" aria-hidden="true" tabindex="-1"></a>df_qRev<span class="ot">&lt;-</span> df_qRev <span class="sc">%&gt;%</span></span>
<span id="cb128-104"><a href="#cb128-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb128-105"><a href="#cb128-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"39"</span>))</span>
<span id="cb128-106"><a href="#cb128-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-107"><a href="#cb128-107" aria-hidden="true" tabindex="-1"></a>df_qRev <span class="ot">&lt;-</span> df_qRev <span class="sc">%&gt;%</span> </span>
<span id="cb128-108"><a href="#cb128-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb128-109"><a href="#cb128-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&lt;"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb128-110"><a href="#cb128-110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&gt;"</span>))</span>
<span id="cb128-111"><a href="#cb128-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-112"><a href="#cb128-112" aria-hidden="true" tabindex="-1"></a>corpus_qRev <span class="ot">&lt;-</span> <span class="fu">corpus</span>(df_qRev)</span>
<span id="cb128-113"><a href="#cb128-113" aria-hidden="true" tabindex="-1"></a>corpus_qRev_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(corpus_qRev)</span>
<span id="cb128-114"><a href="#cb128-114" aria-hidden="true" tabindex="-1"></a>corpus_qRev_summary<span class="sc">$</span>video <span class="ot">&lt;-</span> <span class="st">"MaqwellRev"</span></span>
<span id="cb128-115"><a href="#cb128-115" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(corpus_qRev) <span class="ot">&lt;-</span> corpus_qRev_summary</span>
<span id="cb128-116"><a href="#cb128-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-117"><a href="#cb128-117" aria-hidden="true" tabindex="-1"></a>df_sky<span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/comments_sky.csv"</span>)</span>
<span id="cb128-118"><a href="#cb128-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-119"><a href="#cb128-119" aria-hidden="true" tabindex="-1"></a>df_sky<span class="ot">&lt;-</span> df_sky<span class="sc">%&gt;%</span> </span>
<span id="cb128-120"><a href="#cb128-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">text =</span> <span class="st">"i"</span>)</span>
<span id="cb128-121"><a href="#cb128-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-122"><a href="#cb128-122" aria-hidden="true" tabindex="-1"></a>df_sky<span class="ot">&lt;-</span> df_sky <span class="sc">%&gt;%</span></span>
<span id="cb128-123"><a href="#cb128-123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb128-124"><a href="#cb128-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"39"</span>))</span>
<span id="cb128-125"><a href="#cb128-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-126"><a href="#cb128-126" aria-hidden="true" tabindex="-1"></a>df_sky <span class="ot">&lt;-</span> df_sky <span class="sc">%&gt;%</span> </span>
<span id="cb128-127"><a href="#cb128-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb128-128"><a href="#cb128-128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&lt;"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb128-129"><a href="#cb128-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(text,<span class="st">"&gt;"</span>))</span>
<span id="cb128-130"><a href="#cb128-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-131"><a href="#cb128-131" aria-hidden="true" tabindex="-1"></a>corpus_sky <span class="ot">&lt;-</span> <span class="fu">corpus</span>(df_sky)</span>
<span id="cb128-132"><a href="#cb128-132" aria-hidden="true" tabindex="-1"></a>corpus_sky_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(corpus_sky)</span>
<span id="cb128-133"><a href="#cb128-133" aria-hidden="true" tabindex="-1"></a>corpus_sky_summary<span class="sc">$</span>video <span class="ot">&lt;-</span> <span class="st">"sky"</span></span>
<span id="cb128-134"><a href="#cb128-134" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(corpus_sky) <span class="ot">&lt;-</span> corpus_sky_summary</span>
<span id="cb128-135"><a href="#cb128-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-136"><a href="#cb128-136" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-137"><a href="#cb128-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-138"><a href="#cb128-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-139"><a href="#cb128-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-140"><a href="#cb128-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-141"><a href="#cb128-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-144"><a href="#cb128-144" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-145"><a href="#cb128-145" aria-hidden="true" tabindex="-1"></a>corpus_bbc_summary1<span class="ot">&lt;-</span> <span class="fu">as.tibble</span>(corpus_bbc_summary)</span>
<span id="cb128-146"><a href="#cb128-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-147"><a href="#cb128-147" aria-hidden="true" tabindex="-1"></a>corpus_bbc_summary1<span class="ot">&lt;-</span> corpus_bbc_summary1 <span class="sc">%&gt;%</span> </span>
<span id="cb128-148"><a href="#cb128-148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Text =</span><span class="fu">str_replace_all</span>(Text,<span class="st">"text"</span>, <span class="st">"bbc-text"</span>))</span>
<span id="cb128-149"><a href="#cb128-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-150"><a href="#cb128-150" aria-hidden="true" tabindex="-1"></a>corpus_q_summary1<span class="ot">&lt;-</span> <span class="fu">as.tibble</span>(corpus_q_summary)</span>
<span id="cb128-151"><a href="#cb128-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-152"><a href="#cb128-152" aria-hidden="true" tabindex="-1"></a>corpus_q_summary1<span class="ot">&lt;-</span> corpus_q_summary1 <span class="sc">%&gt;%</span> </span>
<span id="cb128-153"><a href="#cb128-153" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Text =</span><span class="fu">str_replace_all</span>(Text,<span class="st">"text"</span>, <span class="st">"Maqwell-text"</span>))</span>
<span id="cb128-154"><a href="#cb128-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-155"><a href="#cb128-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-156"><a href="#cb128-156" aria-hidden="true" tabindex="-1"></a>corpus_qRev_summary1<span class="ot">&lt;-</span> <span class="fu">as.tibble</span>(corpus_qRev_summary)</span>
<span id="cb128-157"><a href="#cb128-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-158"><a href="#cb128-158" aria-hidden="true" tabindex="-1"></a>corpus_qRev_summary1<span class="ot">&lt;-</span> corpus_qRev_summary1 <span class="sc">%&gt;%</span> </span>
<span id="cb128-159"><a href="#cb128-159" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Text =</span><span class="fu">str_replace_all</span>(Text,<span class="st">"text"</span>, <span class="st">"MaqwellRev-text"</span>))</span>
<span id="cb128-160"><a href="#cb128-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-161"><a href="#cb128-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-162"><a href="#cb128-162" aria-hidden="true" tabindex="-1"></a>corpus_sky_summary1<span class="ot">&lt;-</span> <span class="fu">as.tibble</span>(corpus_sky_summary)</span>
<span id="cb128-163"><a href="#cb128-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-164"><a href="#cb128-164" aria-hidden="true" tabindex="-1"></a>corpus_sky_summary1<span class="ot">&lt;-</span> corpus_sky_summary1 <span class="sc">%&gt;%</span> </span>
<span id="cb128-165"><a href="#cb128-165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Text =</span><span class="fu">str_replace_all</span>(Text,<span class="st">"text"</span>, <span class="st">"sky-text"</span>))</span>
<span id="cb128-166"><a href="#cb128-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-167"><a href="#cb128-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-168"><a href="#cb128-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-169"><a href="#cb128-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-170"><a href="#cb128-170" aria-hidden="true" tabindex="-1"></a>full <span class="ot">&lt;-</span> <span class="fu">rbind</span>(corpus_bbc_summary1,corpus_q_summary1,corpus_qRev_summary1,corpus_sky_summary1)</span>
<span id="cb128-171"><a href="#cb128-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-172"><a href="#cb128-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-173"><a href="#cb128-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-174"><a href="#cb128-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-175"><a href="#cb128-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-176"><a href="#cb128-176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-177"><a href="#cb128-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-178"><a href="#cb128-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-181"><a href="#cb128-181" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-182"><a href="#cb128-182" aria-hidden="true" tabindex="-1"></a>full_df1 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df_bbc,df_q,df_qRev,df_sky)</span>
<span id="cb128-183"><a href="#cb128-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-184"><a href="#cb128-184" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(full_df1)</span>
<span id="cb128-185"><a href="#cb128-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-186"><a href="#cb128-186" aria-hidden="true" tabindex="-1"></a>full_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(full_df1)</span>
<span id="cb128-187"><a href="#cb128-187" aria-hidden="true" tabindex="-1"></a>full_corpus_summary<span class="ot">&lt;-</span> <span class="fu">summary</span>(full_corpus)</span>
<span id="cb128-188"><a href="#cb128-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-189"><a href="#cb128-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-190"><a href="#cb128-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-191"><a href="#cb128-191" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(full_corpus)</span>
<span id="cb128-192"><a href="#cb128-192" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-193"><a href="#cb128-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-194"><a href="#cb128-194" aria-hidden="true" tabindex="-1"></a>For this blog post I will only be analyzing the full corpus.</span>
<span id="cb128-195"><a href="#cb128-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-196"><a href="#cb128-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-197"><a href="#cb128-197" aria-hidden="true" tabindex="-1"></a><span class="fu"># WordClouds and TF-IDF</span></span>
<span id="cb128-198"><a href="#cb128-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-199"><a href="#cb128-199" aria-hidden="true" tabindex="-1"></a>My first step is to discover which words are the most frequent and important in my corpus. </span>
<span id="cb128-200"><a href="#cb128-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-201"><a href="#cb128-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-204"><a href="#cb128-204" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-205"><a href="#cb128-205" aria-hidden="true" tabindex="-1"></a>full_tokens <span class="ot">&lt;-</span> <span class="fu">tokens</span>(full_corpus,</span>
<span id="cb128-206"><a href="#cb128-206" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_numbers =</span> T,</span>
<span id="cb128-207"><a href="#cb128-207" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_punct =</span> T,</span>
<span id="cb128-208"><a href="#cb128-208" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_symbols =</span> T)</span>
<span id="cb128-209"><a href="#cb128-209" aria-hidden="true" tabindex="-1"></a>full_tokens <span class="ot">&lt;-</span><span class="fu">tokens_tolower</span>(full_tokens)</span>
<span id="cb128-210"><a href="#cb128-210" aria-hidden="true" tabindex="-1"></a>full_tokens <span class="ot">&lt;-</span> <span class="fu">tokens_select</span>(full_tokens, </span>
<span id="cb128-211"><a href="#cb128-211" aria-hidden="true" tabindex="-1"></a>                              <span class="at">pattern =</span> <span class="fu">c</span>(<span class="fu">stopwords</span>(<span class="st">"en"</span>),<span class="st">"[a-z]"</span>,<span class="st">"t"</span>,<span class="st">"m"</span>,<span class="st">"="</span>,<span class="st">"ve"</span>,<span class="st">"don"</span>,<span class="st">"s"</span>),</span>
<span id="cb128-212"><a href="#cb128-212" aria-hidden="true" tabindex="-1"></a>                              <span class="at">selection =</span> <span class="st">"remove"</span>)</span>
<span id="cb128-213"><a href="#cb128-213" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-214"><a href="#cb128-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-215"><a href="#cb128-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-216"><a href="#cb128-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-217"><a href="#cb128-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-220"><a href="#cb128-220" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-221"><a href="#cb128-221" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1245</span>)</span>
<span id="cb128-222"><a href="#cb128-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-223"><a href="#cb128-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-224"><a href="#cb128-224" aria-hidden="true" tabindex="-1"></a>full_dfm <span class="ot">&lt;-</span> <span class="fu">dfm</span>(full_tokens)</span>
<span id="cb128-225"><a href="#cb128-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-226"><a href="#cb128-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-227"><a href="#cb128-227" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(full_dfm, <span class="at">min_count =</span> <span class="dv">10</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span>
<span id="cb128-228"><a href="#cb128-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-229"><a href="#cb128-229" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-230"><a href="#cb128-230" aria-hidden="true" tabindex="-1"></a>This word clouds depicts the frequency of each word in the corpus. Words like workers, culture, respect, western, rights and human shown in the word cloud imply that the common discussion within these comments could be about the cultural difference between visitors of the world cup and the people who live in Qatar. The word workers being large suggests that the discussion of how workers were treated during the build up of the World Cup is common in the corpus.</span>
<span id="cb128-231"><a href="#cb128-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-232"><a href="#cb128-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-235"><a href="#cb128-235" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-236"><a href="#cb128-236" aria-hidden="true" tabindex="-1"></a>full_dfm_tfidf <span class="ot">&lt;-</span> <span class="fu">dfm_tfidf</span>(full_dfm)</span>
<span id="cb128-237"><a href="#cb128-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-238"><a href="#cb128-238" aria-hidden="true" tabindex="-1"></a><span class="fu">topfeatures</span>(full_dfm_tfidf,<span class="dv">50</span>)</span>
<span id="cb128-239"><a href="#cb128-239" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-240"><a href="#cb128-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-241"><a href="#cb128-241" aria-hidden="true" tabindex="-1"></a>Based on TF_IDF ranking, I pulled the top 50 most important terms from my corpus. Numerically, I can see words like workers, laws, respect, rights, human and culture are ranked highly in my corpus. The wordcloud will show a better depiction.</span>
<span id="cb128-242"><a href="#cb128-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-243"><a href="#cb128-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-246"><a href="#cb128-246" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-247"><a href="#cb128-247" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(full_dfm_tfidf, <span class="at">min_count =</span> <span class="dv">10</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span>
<span id="cb128-248"><a href="#cb128-248" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-249"><a href="#cb128-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-250"><a href="#cb128-250" aria-hidden="true" tabindex="-1"></a>The word cloud gives me a better look for which words stand out the most. Still I can see that the main discussion in the corpus is about the human rights violation and respecting the host country based on the top words. </span>
<span id="cb128-251"><a href="#cb128-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-252"><a href="#cb128-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-253"><a href="#cb128-253" aria-hidden="true" tabindex="-1"></a><span class="fu"># Sentiment Analysis</span></span>
<span id="cb128-254"><a href="#cb128-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-255"><a href="#cb128-255" aria-hidden="true" tabindex="-1"></a>For now, the two dictionaries that I am using are NRC and General Inquirer. I chose these because they both evaluate positive and negative sentiment values. In the my next post I will add at least on more dictionary to compare with these two. The dictionary I will use to detect emotions is NRC.</span>
<span id="cb128-256"><a href="#cb128-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-257"><a href="#cb128-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-258"><a href="#cb128-258" aria-hidden="true" tabindex="-1"></a>Here is used the liwcalike() function, which takes a corpus or character vector and carries out an analysis--based on the provided dictionary (NRC). The LIWC software calculates the percentage of the document that reflects a host of different characteristics. My focus is on positive and negative language. I can evaluate that language using polarity.</span>
<span id="cb128-259"><a href="#cb128-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-262"><a href="#cb128-262" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-263"><a href="#cb128-263" aria-hidden="true" tabindex="-1"></a>reviewSentiment_nrc <span class="ot">&lt;-</span> <span class="fu">liwcalike</span>(full_corpus, data_dictionary_NRC)</span>
<span id="cb128-264"><a href="#cb128-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-265"><a href="#cb128-265" aria-hidden="true" tabindex="-1"></a>reviewSentiment_nrc<span class="sc">$</span>polarity <span class="ot">&lt;-</span> reviewSentiment_nrc<span class="sc">$</span>positive <span class="sc">-</span> reviewSentiment_nrc<span class="sc">$</span>negative</span>
<span id="cb128-266"><a href="#cb128-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-267"><a href="#cb128-267" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(reviewSentiment_nrc) <span class="sc">+</span></span>
<span id="cb128-268"><a href="#cb128-268" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(polarity)) <span class="sc">+</span></span>
<span id="cb128-269"><a href="#cb128-269" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb128-270"><a href="#cb128-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-271"><a href="#cb128-271" aria-hidden="true" tabindex="-1"></a>full_corpus[<span class="fu">which</span>(reviewSentiment_nrc<span class="sc">$</span>polarity <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">25</span>)]</span>
<span id="cb128-272"><a href="#cb128-272" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-273"><a href="#cb128-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-274"><a href="#cb128-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-275"><a href="#cb128-275" aria-hidden="true" tabindex="-1"></a>To check for correctness I looked at the lowest polarity comments. Based on the comments the NRC analysis is classifying the comments correctly for now. These comments have such low polarity because of how short they are. If the sentence is only 3-4 words long containing negative words, the polarity will be very low. I will take this into consideration.</span>
<span id="cb128-276"><a href="#cb128-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-277"><a href="#cb128-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-278"><a href="#cb128-278" aria-hidden="true" tabindex="-1"></a>Using Dictionaries with DFMs, I implement the same method but now the values are counts rather than percentages. </span>
<span id="cb128-279"><a href="#cb128-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-282"><a href="#cb128-282" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-283"><a href="#cb128-283" aria-hidden="true" tabindex="-1"></a>FullDfm_nrc <span class="ot">&lt;-</span> <span class="fu">tokens</span>(full_corpus,</span>
<span id="cb128-284"><a href="#cb128-284" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_punct =</span> <span class="cn">TRUE</span>,</span>
<span id="cb128-285"><a href="#cb128-285" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_symbols =</span> <span class="cn">TRUE</span>,</span>
<span id="cb128-286"><a href="#cb128-286" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_numbers =</span> <span class="cn">TRUE</span>,</span>
<span id="cb128-287"><a href="#cb128-287" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_url =</span> <span class="cn">TRUE</span>,</span>
<span id="cb128-288"><a href="#cb128-288" aria-hidden="true" tabindex="-1"></a>                         <span class="at">split_hyphens =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb128-289"><a href="#cb128-289" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_tolower</span>() <span class="sc">%&gt;%</span></span>
<span id="cb128-290"><a href="#cb128-290" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm</span>() <span class="sc">%&gt;%</span></span>
<span id="cb128-291"><a href="#cb128-291" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_lookup</span>(data_dictionary_NRC)</span>
<span id="cb128-292"><a href="#cb128-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-293"><a href="#cb128-293" aria-hidden="true" tabindex="-1"></a>df_nrc <span class="ot">&lt;-</span> <span class="fu">convert</span>(FullDfm_nrc, <span class="at">to =</span> <span class="st">"data.frame"</span>)</span>
<span id="cb128-294"><a href="#cb128-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-295"><a href="#cb128-295" aria-hidden="true" tabindex="-1"></a>df_nrc<span class="sc">$</span>polarity <span class="ot">&lt;-</span> (df_nrc<span class="sc">$</span>positive <span class="sc">-</span> df_nrc<span class="sc">$</span>negative)<span class="sc">/</span>(df_nrc<span class="sc">$</span>positive <span class="sc">+</span> df_nrc<span class="sc">$</span>negative)</span>
<span id="cb128-296"><a href="#cb128-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-297"><a href="#cb128-297" aria-hidden="true" tabindex="-1"></a>df_nrc<span class="sc">$</span>polarity[(df_nrc<span class="sc">$</span>positive <span class="sc">+</span> df_nrc<span class="sc">$</span>negative) <span class="sc">==</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb128-298"><a href="#cb128-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-299"><a href="#cb128-299" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_nrc) <span class="sc">+</span></span>
<span id="cb128-300"><a href="#cb128-300" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x=</span>polarity)) <span class="sc">+</span></span>
<span id="cb128-301"><a href="#cb128-301" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb128-302"><a href="#cb128-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-303"><a href="#cb128-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-304"><a href="#cb128-304" aria-hidden="true" tabindex="-1"></a><span class="fu">writeLines</span>(<span class="fu">head</span>(full_corpus[<span class="fu">which</span>(df_nrc<span class="sc">$</span>polarity <span class="sc">==</span> <span class="dv">1</span>)]))</span>
<span id="cb128-305"><a href="#cb128-305" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-306"><a href="#cb128-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-307"><a href="#cb128-307" aria-hidden="true" tabindex="-1"></a>Based on the results of the most positive comments, I can see a mix of comments that are positive and some that are negative. The POV of most of these comments come from people who are from Qatar. They are defending their countries culture whilst calling out western culture. Some of the comments are stigmatized based on some of the language and assumptions drawn.</span>
<span id="cb128-308"><a href="#cb128-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-309"><a href="#cb128-309" aria-hidden="true" tabindex="-1"></a>Here I look at the NRC emotions of the full corpus. The graph below shows words from the corpus that contribute to each sentiment. The graph displays the most common words for each sentiment.</span>
<span id="cb128-310"><a href="#cb128-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-313"><a href="#cb128-313" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-314"><a href="#cb128-314" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb128-315"><a href="#cb128-315" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(textdata)</span>
<span id="cb128-316"><a href="#cb128-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-317"><a href="#cb128-317" aria-hidden="true" tabindex="-1"></a>post_clean <span class="ot">&lt;-</span> full_df1 <span class="sc">%&gt;%</span></span>
<span id="cb128-318"><a href="#cb128-318" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(text) <span class="sc">%&gt;%</span></span>
<span id="cb128-319"><a href="#cb128-319" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text)</span>
<span id="cb128-320"><a href="#cb128-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-321"><a href="#cb128-321" aria-hidden="true" tabindex="-1"></a>sentiment_word_counts <span class="ot">&lt;-</span> post_clean <span class="sc">%&gt;%</span></span>
<span id="cb128-322"><a href="#cb128-322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(<span class="fu">get_sentiments</span>(<span class="st">"nrc"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb128-323"><a href="#cb128-323" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, sentiment, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb128-324"><a href="#cb128-324" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb128-325"><a href="#cb128-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-326"><a href="#cb128-326" aria-hidden="true" tabindex="-1"></a>sentiment_word_counts<span class="ot">&lt;-</span> sentiment_word_counts <span class="sc">%&gt;%</span> </span>
<span id="cb128-327"><a href="#cb128-327" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(word <span class="sc">!=</span> <span class="st">"don"</span>)</span>
<span id="cb128-328"><a href="#cb128-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-329"><a href="#cb128-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-330"><a href="#cb128-330" aria-hidden="true" tabindex="-1"></a>sentiment_word_counts <span class="sc">%&gt;%</span></span>
<span id="cb128-331"><a href="#cb128-331" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sentiment) <span class="sc">%&gt;%</span></span>
<span id="cb128-332"><a href="#cb128-332" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">9</span>) <span class="sc">%&gt;%</span></span>
<span id="cb128-333"><a href="#cb128-333" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb128-334"><a href="#cb128-334" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">reorder</span>(word, n)) <span class="sc">%&gt;%</span></span>
<span id="cb128-335"><a href="#cb128-335" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(word, n, <span class="at">fill =</span> sentiment)) <span class="sc">+</span></span>
<span id="cb128-336"><a href="#cb128-336" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb128-337"><a href="#cb128-337" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>sentiment, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb128-338"><a href="#cb128-338" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Sentiment terms"</span>,</span>
<span id="cb128-339"><a href="#cb128-339" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Contribution to sentiment"</span>,</span>
<span id="cb128-340"><a href="#cb128-340" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb128-341"><a href="#cb128-341" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span>
<span id="cb128-342"><a href="#cb128-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-343"><a href="#cb128-343" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-344"><a href="#cb128-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-345"><a href="#cb128-345" aria-hidden="true" tabindex="-1"></a>The graph below shows the percentage of each emotion in the text plotted as a bar graph:</span>
<span id="cb128-346"><a href="#cb128-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-349"><a href="#cb128-349" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-350"><a href="#cb128-350" aria-hidden="true" tabindex="-1"></a>s_v <span class="ot">&lt;-</span> <span class="fu">get_sentences</span>(full_df1<span class="sc">$</span>text)</span>
<span id="cb128-351"><a href="#cb128-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-352"><a href="#cb128-352" aria-hidden="true" tabindex="-1"></a>nrc_data <span class="ot">&lt;-</span> <span class="fu">get_nrc_sentiment</span>(s_v)</span>
<span id="cb128-353"><a href="#cb128-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-354"><a href="#cb128-354" aria-hidden="true" tabindex="-1"></a>valence <span class="ot">&lt;-</span> (nrc_data[, <span class="dv">9</span>]<span class="sc">*-</span><span class="dv">1</span>) <span class="sc">+</span> nrc_data[, <span class="dv">10</span>]</span>
<span id="cb128-355"><a href="#cb128-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-356"><a href="#cb128-356" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(</span>
<span id="cb128-357"><a href="#cb128-357" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sort</span>(<span class="fu">colSums</span>(<span class="fu">prop.table</span>(nrc_data[, <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>]))), </span>
<span id="cb128-358"><a href="#cb128-358" aria-hidden="true" tabindex="-1"></a>  <span class="at">horiz =</span> <span class="cn">TRUE</span>, </span>
<span id="cb128-359"><a href="#cb128-359" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex.names =</span> <span class="fl">0.7</span>, </span>
<span id="cb128-360"><a href="#cb128-360" aria-hidden="true" tabindex="-1"></a>  <span class="at">las =</span> <span class="dv">1</span>, </span>
<span id="cb128-361"><a href="#cb128-361" aria-hidden="true" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">"Emotions in full corpus"</span>, <span class="at">xlab=</span><span class="st">"Percentage"</span></span>
<span id="cb128-362"><a href="#cb128-362" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb128-363"><a href="#cb128-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-364"><a href="#cb128-364" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-365"><a href="#cb128-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-366"><a href="#cb128-366" aria-hidden="true" tabindex="-1"></a>Trust and anticipation are the highest values because of the word "respect". This could imply that the overarching theme of the comments is trying to convey respect between cultures. </span>
<span id="cb128-367"><a href="#cb128-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-368"><a href="#cb128-368" aria-hidden="true" tabindex="-1"></a>Here I use the dictionary Genreal Inquirer to evalute the polarity of the comments in the corpus.</span>
<span id="cb128-369"><a href="#cb128-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-372"><a href="#cb128-372" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-373"><a href="#cb128-373" aria-hidden="true" tabindex="-1"></a>reviewSentiment_genq <span class="ot">&lt;-</span> <span class="fu">liwcalike</span>(full_corpus, data_dictionary_geninqposneg)</span>
<span id="cb128-374"><a href="#cb128-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-375"><a href="#cb128-375" aria-hidden="true" tabindex="-1"></a>reviewSentiment_genq<span class="sc">$</span>polarity <span class="ot">&lt;-</span> reviewSentiment_genq<span class="sc">$</span>positive <span class="sc">-</span> reviewSentiment_genq<span class="sc">$</span>negative</span>
<span id="cb128-376"><a href="#cb128-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-377"><a href="#cb128-377" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(reviewSentiment_genq) <span class="sc">+</span></span>
<span id="cb128-378"><a href="#cb128-378" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(polarity)) <span class="sc">+</span></span>
<span id="cb128-379"><a href="#cb128-379" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb128-380"><a href="#cb128-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-381"><a href="#cb128-381" aria-hidden="true" tabindex="-1"></a>full_corpus[<span class="fu">which</span>(reviewSentiment_genq<span class="sc">$</span>polarity <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">20</span>)]</span>
<span id="cb128-382"><a href="#cb128-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-383"><a href="#cb128-383" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-384"><a href="#cb128-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-385"><a href="#cb128-385" aria-hidden="true" tabindex="-1"></a>Here I see the correct classification of negative comments. I can also see that most of the comment are charged with emotions rather than logical thought. </span>
<span id="cb128-386"><a href="#cb128-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-387"><a href="#cb128-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-388"><a href="#cb128-388" aria-hidden="true" tabindex="-1"></a>Next, I performed a DFM dictionary analysis using GenInq.</span>
<span id="cb128-389"><a href="#cb128-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-392"><a href="#cb128-392" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-393"><a href="#cb128-393" aria-hidden="true" tabindex="-1"></a>FullDfm_genq <span class="ot">&lt;-</span> <span class="fu">tokens</span>(full_corpus,</span>
<span id="cb128-394"><a href="#cb128-394" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_punct =</span> <span class="cn">TRUE</span>,</span>
<span id="cb128-395"><a href="#cb128-395" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_symbols =</span> <span class="cn">TRUE</span>,</span>
<span id="cb128-396"><a href="#cb128-396" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_numbers =</span> <span class="cn">TRUE</span>,</span>
<span id="cb128-397"><a href="#cb128-397" aria-hidden="true" tabindex="-1"></a>                         <span class="at">remove_url =</span> <span class="cn">TRUE</span>,</span>
<span id="cb128-398"><a href="#cb128-398" aria-hidden="true" tabindex="-1"></a>                         <span class="at">split_hyphens =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb128-399"><a href="#cb128-399" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_tolower</span>() <span class="sc">%&gt;%</span></span>
<span id="cb128-400"><a href="#cb128-400" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm</span>() <span class="sc">%&gt;%</span></span>
<span id="cb128-401"><a href="#cb128-401" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_lookup</span>(data_dictionary_geninqposneg)</span>
<span id="cb128-402"><a href="#cb128-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-403"><a href="#cb128-403" aria-hidden="true" tabindex="-1"></a>df_genq <span class="ot">&lt;-</span> <span class="fu">convert</span>(FullDfm_genq, <span class="at">to =</span> <span class="st">"data.frame"</span>)</span>
<span id="cb128-404"><a href="#cb128-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-405"><a href="#cb128-405" aria-hidden="true" tabindex="-1"></a>df_genq<span class="sc">$</span>polarity <span class="ot">&lt;-</span> (df_genq<span class="sc">$</span>positive <span class="sc">-</span> df_genq<span class="sc">$</span>negative)<span class="sc">/</span>(df_genq<span class="sc">$</span>positive <span class="sc">+</span> df_genq<span class="sc">$</span>negative)</span>
<span id="cb128-406"><a href="#cb128-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-407"><a href="#cb128-407" aria-hidden="true" tabindex="-1"></a>df_genq<span class="sc">$</span>polarity[(df_genq<span class="sc">$</span>positive <span class="sc">+</span> df_genq<span class="sc">$</span>negative) <span class="sc">==</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb128-408"><a href="#cb128-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-409"><a href="#cb128-409" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_genq) <span class="sc">+</span></span>
<span id="cb128-410"><a href="#cb128-410" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x=</span>polarity)) <span class="sc">+</span></span>
<span id="cb128-411"><a href="#cb128-411" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb128-412"><a href="#cb128-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-413"><a href="#cb128-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-414"><a href="#cb128-414" aria-hidden="true" tabindex="-1"></a><span class="fu">writeLines</span>(<span class="fu">head</span>(full_corpus[<span class="fu">which</span>(df_genq<span class="sc">$</span>polarity <span class="sc">==</span> <span class="dv">1</span>)]))</span>
<span id="cb128-415"><a href="#cb128-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-416"><a href="#cb128-416" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-417"><a href="#cb128-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-418"><a href="#cb128-418" aria-hidden="true" tabindex="-1"></a>For the most positive comments I see a mix of positive and negative comments. I also see a lot of comments that are baised against the USA and their beliefs.</span>
<span id="cb128-419"><a href="#cb128-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-420"><a href="#cb128-420" aria-hidden="true" tabindex="-1"></a><span class="fu"># Comparing Dictionaries</span></span>
<span id="cb128-421"><a href="#cb128-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-424"><a href="#cb128-424" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-425"><a href="#cb128-425" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df_nrc) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"nrc"</span>, <span class="fu">colnames</span>(df_nrc), <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb128-426"><a href="#cb128-426" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df_genq) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"genq"</span>, <span class="fu">colnames</span>(df_genq), <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb128-427"><a href="#cb128-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-428"><a href="#cb128-428" aria-hidden="true" tabindex="-1"></a>sent_df <span class="ot">&lt;-</span> <span class="fu">merge</span>(df_nrc, df_genq, <span class="at">by.x =</span> <span class="st">"nrc_doc_id"</span>, <span class="at">by.y =</span> <span class="st">"genq_doc_id"</span>)</span>
<span id="cb128-429"><a href="#cb128-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-430"><a href="#cb128-430" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(sent_df<span class="sc">$</span>nrc_polarity, sent_df<span class="sc">$</span>genq_polarity)</span>
<span id="cb128-431"><a href="#cb128-431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-432"><a href="#cb128-432" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-433"><a href="#cb128-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-436"><a href="#cb128-436" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-437"><a href="#cb128-437" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sent_df, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> nrc_polarity,</span>
<span id="cb128-438"><a href="#cb128-438" aria-hidden="true" tabindex="-1"></a>                              <span class="at">y =</span> genq_polarity)) <span class="sc">+</span></span>
<span id="cb128-439"><a href="#cb128-439" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb128-440"><a href="#cb128-440" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb128-441"><a href="#cb128-441" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb128-442"><a href="#cb128-442" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb128-443"><a href="#cb128-443" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-444"><a href="#cb128-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-445"><a href="#cb128-445" aria-hidden="true" tabindex="-1"></a>Here I compare the similarity between NRC and General Inquirer dictionaries. As the plots make clear, while the measures are  correlated, they are decidedly not identical to one another. We can observe really significant variance across each in the estimates of polarity.</span>
<span id="cb128-446"><a href="#cb128-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-447"><a href="#cb128-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-448"><a href="#cb128-448" aria-hidden="true" tabindex="-1"></a><span class="fu"># Semantic Network</span></span>
<span id="cb128-449"><a href="#cb128-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-450"><a href="#cb128-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-453"><a href="#cb128-453" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb128-454"><a href="#cb128-454" aria-hidden="true" tabindex="-1"></a>full_fcm <span class="ot">&lt;-</span> <span class="fu">fcm</span>(full_dfm)</span>
<span id="cb128-455"><a href="#cb128-455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-456"><a href="#cb128-456" aria-hidden="true" tabindex="-1"></a><span class="co"># keep only top features.</span></span>
<span id="cb128-457"><a href="#cb128-457" aria-hidden="true" tabindex="-1"></a>small_fcm <span class="ot">&lt;-</span> <span class="fu">fcm_select</span>(full_fcm, <span class="at">pattern =</span> <span class="fu">names</span>(<span class="fu">topfeatures</span>(full_fcm, <span class="dv">53</span>)), <span class="at">selection =</span> <span class="st">"keep"</span>)</span>
<span id="cb128-458"><a href="#cb128-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-459"><a href="#cb128-459" aria-hidden="true" tabindex="-1"></a><span class="co"># compute weights.</span></span>
<span id="cb128-460"><a href="#cb128-460" aria-hidden="true" tabindex="-1"></a>size <span class="ot">&lt;-</span> <span class="fu">log</span>(<span class="fu">colSums</span>(small_fcm))</span>
<span id="cb128-461"><a href="#cb128-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-462"><a href="#cb128-462" aria-hidden="true" tabindex="-1"></a><span class="co"># create network.</span></span>
<span id="cb128-463"><a href="#cb128-463" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_network</span>(small_fcm, <span class="at">vertex_size =</span> size <span class="sc">/</span> <span class="fu">max</span>(size) <span class="sc">*</span> <span class="dv">4</span>)</span>
<span id="cb128-464"><a href="#cb128-464" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb128-465"><a href="#cb128-465" aria-hidden="true" tabindex="-1"></a>Here I created a Semantic Network of the top 53 terms in the corpus. I see the heart of the network revolves around politcal terms. Thus could imply that some of the policies that are followed or have been created for the world cup have been at the heart of discussion. I also see a sub network in the bottom left that link travelers to law and laws. Thuis implies that people visiting the world cup must follow the laws in place. </span>
<span id="cb128-466"><a href="#cb128-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-467"><a href="#cb128-467" aria-hidden="true" tabindex="-1"></a><span class="fu"># Next Post</span></span>
<span id="cb128-468"><a href="#cb128-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-469"><a href="#cb128-469" aria-hidden="true" tabindex="-1"></a>For my next post I want to use topic modeling. I also would like to implement Custom Sentiment Lexicons using key words in context to see which important words that signify political correctness. I also would like to use mixed messages to identify areas of the text where there is emotional ambiguity. I will keep adding comments to my data. </span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>