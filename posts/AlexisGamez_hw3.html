<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alexis Gamez">
<meta name="dcterms.date" content="2022-11-13">

<title>Text-as-Data Fall 2022 - Blog Post #3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<meta name="twitter:title" content="Text-as-Data Fall 2022 - Blog Post #3">
<meta name="twitter:description" content="For this assignment, I’ve already gathered the data I will be using for my corpus from the Twitter social media platform.">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:site" content="@UMassDACSS">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/UMass White Wordmark Horiz.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Text-as-Data Fall 2022</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://dacss.github.io/Text_as_Data_Fall_2022/">
 <span class="menu-text">Fall 2022</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">
 <span class="menu-text">Contributors</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss">
 <span class="menu-text">DACSS</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DACSS/Text_as_Data_Fall_2022"><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#setup" id="toc-setup" class="nav-link active" data-scroll-target="#setup">Setup</a></li>
  <li><a href="#data-sources" id="toc-data-sources" class="nav-link" data-scroll-target="#data-sources"><strong>Data Sources</strong></a></li>
  <li><a href="#consolidating-data" id="toc-consolidating-data" class="nav-link" data-scroll-target="#consolidating-data"><strong>Consolidating Data</strong></a></li>
  <li><a href="#pre-analysis" id="toc-pre-analysis" class="nav-link" data-scroll-target="#pre-analysis"><strong>Pre-Analysis</strong></a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis"><strong>Analysis</strong></a>
  <ul class="collapse">
  <li><a href="#readability" id="toc-readability" class="nav-link" data-scroll-target="#readability"><em>Readability</em></a></li>
  </ul></li>
  <li><a href="#token-frequency" id="toc-token-frequency" class="nav-link" data-scroll-target="#token-frequency"><em>Token Frequency</em></a></li>
  <li><a href="#minimum-term-frequency" id="toc-minimum-term-frequency" class="nav-link" data-scroll-target="#minimum-term-frequency"><em>Minimum Term Frequency</em></a></li>
  <li><a href="#maximum-term-frequency" id="toc-maximum-term-frequency" class="nav-link" data-scroll-target="#maximum-term-frequency"><em>Maximum Term Frequency</em></a></li>
  <li><a href="#feature-co-occurrence-matrix" id="toc-feature-co-occurrence-matrix" class="nav-link" data-scroll-target="#feature-co-occurrence-matrix"><em>Feature Co-occurrence Matrix</em></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Blog Post #3</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">blogpost3</div>
    <div class="quarto-category">Alexis Gamez</div>
    <div class="quarto-category">research</div>
    <div class="quarto-category">academic articles</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Alexis Gamez </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 13, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="setup" class="level1">
<h1>Setup</h1>
<details>
<summary>
View Code
</summary>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plyr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
✔ ggplot2 3.4.0      ✔ purrr   0.3.5 
✔ tibble  3.1.8      ✔ dplyr   1.0.10
✔ tidyr   1.2.1      ✔ stringr 1.4.1 
✔ readr   2.1.3      ✔ forcats 0.5.2 </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.2.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::arrange()   masks plyr::arrange()
✖ purrr::compact()   masks plyr::compact()
✖ dplyr::count()     masks plyr::count()
✖ dplyr::failwith()  masks plyr::failwith()
✖ dplyr::filter()    masks stats::filter()
✖ dplyr::id()        masks plyr::id()
✖ dplyr::lag()       masks stats::lag()
✖ dplyr::mutate()    masks plyr::mutate()
✖ dplyr::rename()    masks plyr::rename()
✖ dplyr::summarise() masks plyr::summarise()
✖ dplyr::summarize() masks plyr::summarize()</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(devtools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: usethis</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'rvest' was built under R version 4.2.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'rvest'

The following object is masked from 'package:readr':

    guess_encoding</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rtweet)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'rtweet'

The following object is masked from 'package:purrr':

    flatten</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(twitteR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'twitteR'

The following object is masked from 'package:rtweet':

    lookup_statuses

The following objects are masked from 'package:dplyr':

    id, location

The following object is masked from 'package:plyr':

    id</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: NLP

Attaching package: 'NLP'

The following object is masked from 'package:ggplot2':

    annotate</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'lubridate'

The following objects are masked from 'package:base':

    date, intersect, setdiff, union</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Package version: 3.2.3
Unicode version: 13.0
ICU version: 69.1
Parallel computing: 8 of 8 threads used.
See https://quanteda.io for tutorials and examples.

Attaching package: 'quanteda'

The following object is masked from 'package:tm':

    stopwords

The following objects are masked from 'package:NLP':

    meta, meta&lt;-</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textplots)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textstats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'quanteda.textstats' was built under R version 4.2.2</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: RColorBrewer</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">warning =</span> <span class="cn">FALSE</span>, <span class="at">message =</span> <span class="cn">FALSE</span>, <span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</details>
</section>
<section id="data-sources" class="level1">
<h1><strong>Data Sources</strong></h1>
<p>For this assignment, I’ve already gathered the data I will be using for my corpus from the Twitter social media platform. The ‘rtweet’ R package was used heavily to gather the tweets I will be using and a majority of that process was shared in detail in my previous blog post. While the size of my original corpus wasn’t laughable, I also wanted to document my methodology depicting how to append additional tweets from a new <code>search_tweets</code> function to my existing corpus.</p>
</section>
<section id="consolidating-data" class="level1">
<h1><strong>Consolidating Data</strong></h1>
<p>I start off by reading in my corpus as the <code>tweet_bugs_1</code> object. Utilizing a simple <code>read.csv</code> function, we easily create the object. Afterwards, we’ll run another <code>search_tweets</code> function identical to the one we utilized in the previous blog post.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Here we're reading in the existing data we pulled for our last blog post and assigning it to object tweet_bugs_1.</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>tweet_bugs_1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"eating_bugs_corpus_11_8_22.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in file(file, "rt"): cannot open the connection</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Pull together tweets containing keywords 'eating` and `bugs/insects`. In this case, we'll be adding these tweets to the existing data later on.</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>tweet_bugs_2 <span class="ot">&lt;-</span> <span class="fu">search_tweets</span>(<span class="st">"eating bugs OR insects"</span>, <span class="at">n =</span> <span class="dv">10000</span>,</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>                             <span class="at">type =</span> <span class="st">"mixed"</span>,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>                             <span class="at">include_rts =</span> <span class="cn">FALSE</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>                             <span class="at">lang =</span> <span class="st">"en"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in `default_cached_auth()`:
! No default authentication found. Pick existing auth with:
• auth_as('create_token')</code></pre>
</div>
</div>
<p>I included the chunk below as a reference, in case anything could be pulled as useful by analyzing the new <code>tweet_bugs_2</code> object independently. This process is also identical to what was shown in blog post 2.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Once again, we can separate out the text from tweet_bugs_2 and analyze it as a corpus on its own, if we so choose, before appending it to our existing tweet corpus.</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>tweet_text_2 <span class="ot">&lt;-</span> <span class="fu">as.vector.data.frame</span>(tweet_bugs_2<span class="sc">$</span>full_text, <span class="at">mode =</span> <span class="st">"any"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in as.list.data.frame(x): object 'tweet_bugs_2' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>tweet_corpus_2 <span class="ot">&lt;-</span> <span class="fu">corpus</span>(tweet_text_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in corpus(tweet_text_2): object 'tweet_text_2' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>tweet_summary_2 <span class="ot">&lt;-</span> <span class="fu">summary</span>(tweet_corpus_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in summary(tweet_corpus_2): object 'tweet_corpus_2' not found</code></pre>
</div>
</div>
<p>Now that we have both required objects to append into a new and improved corpus, it’s time to go ahead an merge. Thankfully, it’s a relatively simple process. We simply run a vector append and assign the result to a new object i.e.&nbsp;<code>tweet_bugs_new</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Here, we're merging the existing and new tweet_bugs objects.  </span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>tweet_bugs_new <span class="ot">&lt;-</span> <span class="fu">c</span>(tweet_bugs_1<span class="sc">$</span>x, tweet_bugs_2<span class="sc">$</span>full_text)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'tweet_bugs_1' not found</code></pre>
</div>
</div>
<p>However, a thought did occur to me when I was writing this chunk. What if I didn’t want to wait the 6-9 days to pull new tweets? What if I wanted to continuously run my <code>search_tweets</code> function day by day until I had an even larger corpus to work with? I wanted to find a way to find and eliminate duplicates so as not to taint my final data and that’s exactly what I do in this following chunk.</p>
<details>
<summary>
View Code
</summary>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#This first function tells us that some of the tweets we've added to our corpus are duplicates.</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(<span class="fu">duplicated</span>(tweet_bugs_new))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in duplicated(tweet_bugs_new): object 'tweet_bugs_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Running this function simply provides us with the text belonging to the duplicate tweets so that we can confirm visually.</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tweet_bugs_new[<span class="fu">duplicated</span>(tweet_bugs_new)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in head(tweet_bugs_new[duplicated(tweet_bugs_new)]): object 'tweet_bugs_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#This function overwrites the tweet_bugs_new object to exclude all duplicates found from the previous functions.</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>tweet_bugs_new <span class="ot">&lt;-</span> tweet_bugs_new[<span class="sc">!</span><span class="fu">duplicated</span>(tweet_bugs_new)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'tweet_bugs_new' not found</code></pre>
</div>
</div>
</details>
<p>Now we’ve filtered out all duplicate tweets from our corpus and should only have unique entries moving forward. For the sake of record, we will write a new csv containing our new and improved corpus that we can pull from in the future.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co">#I am going to use the write csv function here to save our corpus thus far. </span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(tweet_bugs_new, <span class="at">file =</span> <span class="st">"eating_bugs_tweets_11_13_22.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in is.data.frame(x): object 'tweet_bugs_new' not found</code></pre>
</div>
</div>
</section>
<section id="pre-analysis" class="level1">
<h1><strong>Pre-Analysis</strong></h1>
<p>Now that we have our working corpus, we’ll move to a bit of pre-analysis by cleaning it up a bit! We’ll be utilizing the <code>tm</code> package quite a bit moving forward and as we do, please note that some code below utilizes slightly different syntax. For example, the <code>Corpus</code> function utilized immediately below is slightly different from R’s <code>corpus</code> function (difference being the capital “C”). This slightly different function configures our <code>tweet_bugs_new</code> project into a corpus that is compatible with <code>tm</code> functions.</p>
<p>Here we convert the new object into a corpus and summarize it to see if can immediately pull any relevant information. Unfortunately, it looks like the answer is no as the <code>tm</code> corpus format does not play well with the summary function.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Now that we've cleaned up our new text object, we can convert it to a corpus and summarize the data if we'd like as well. This new `Corpus` function simply shapes the corpus so that all class elements are identical. This way, we can take full advantage of the functions within the text mining package.</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">Corpus</span>(<span class="fu">VectorSource</span>(tweet_bugs_new))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in SimpleSource(length = length(x), content = x, class = "VectorSource"): object 'tweet_bugs_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>tweet_summary_new <span class="ot">&lt;-</span> <span class="fu">summary</span>(tweet_corpus_new)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in summary(tweet_corpus_new): object 'tweet_corpus_new' not found</code></pre>
</div>
</div>
<p>If you recall, in blog post 2 we did not work to process the corpus and filter out non-useful tokens until our token analysis process toward the end of the post. Instead of waiting until we run <code>kwic</code> functions to filter out certain words, I’ve introduced some new functions in the chunk below to acknowledge those things sooner. We start by filtering out English stop words, punctuation and white spaces. Then we introduce a function to stem words into a single root word structure. From there, we finish off by converting all words to lower case.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co">#First, we should be sure to remove all English normalized stop words so that they don't clutter up our data.</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, removeWords, <span class="fu">stopwords</span>(<span class="st">"en"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in tm_map(tweet_corpus_new, removeWords, stopwords("en")): object 'tweet_corpus_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co">#This line removes all standardized punctuation, similar to one of the functions used in the last blog post.</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, removePunctuation)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in tm_map(tweet_corpus_new, removePunctuation): object 'tweet_corpus_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">#This function just removes all extra white spaces that aren't necessary. </span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, stripWhitespace)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in tm_map(tweet_corpus_new, stripWhitespace): object 'tweet_corpus_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Here we stem words within the documents using Porter's stemming algorithm, which will assist with analysis later on.</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, stemDocument)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in tm_map(tweet_corpus_new, stemDocument): object 'tweet_corpus_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Here we, convert all text to lower case.</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, <span class="fu">content_transformer</span>(tolower))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in tm_map(tweet_corpus_new, content_transformer(tolower)): object 'tweet_corpus_new' not found</code></pre>
</div>
</div>
<p>However, if left at this stage, we’re still faced with some issues that plagued our corpus in our last blog post. Those issues being the variety of additional symbols and punctuation not standardized within the functions we just mentioned above. On top of that, a large portion of tweets included url’s which we haven’t accounted for yet either. Not to worry! Through some online research I was able to write a couple of functions to address the issue. The first of which simply removes any text relating to a typical “http” url structure. The second works to remove any “@’s” and non-standard punctuation so we can simply analyze the actual text within our corpus.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Here we are creating a function that removes any and all tokens containing URL formatted tokens.</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>remove_url <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">gsub</span>(<span class="st">"http[^[:space:]]*"</span>, <span class="st">""</span>, x)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, <span class="fu">content_transformer</span>(remove_url))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in tm_map(tweet_corpus_new, content_transformer(remove_url)): object 'tweet_corpus_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co">#If you remember the last blog post, we had trouble removing @'s and other non-standard punctuation. The function we create here takes care of that problem for us.</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>removeNumPunct <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">gsub</span>(<span class="st">"[^[:alpha:][:space:]]*"</span>, <span class="st">""</span>, x)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, <span class="fu">content_transformer</span>(removeNumPunct))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in tm_map(tweet_corpus_new, content_transformer(removeNumPunct)): object 'tweet_corpus_new' not found</code></pre>
</div>
</div>
<p>Now that we’ve cleaned up our corpus, let’s try and create a new word cloud to use as a gauge for our current corpus.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co">#This function is similar to the last time we used `wordcloud`, but I'm introducing the `min.freq` indicator so that the final result only includes tokens mentioned at least 15 times.</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud</span>(tweet_corpus_new, <span class="at">min.freq =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in wordcloud(tweet_corpus_new, min.freq = 20): object 'tweet_corpus_new' not found</code></pre>
</div>
</div>
<p>This isn’t terrible, but something we had trouble with last post was eliminating some other pesky words that weren’t doing us much good. For example, while our research question surrounds the perception/sentimentality of eating insects, the actual words <code>eat/ing</code>, <code>bug/s</code> and <code>insect/s</code> aren’t doing us much good within the word cloud itself. The reason being that the criteria we used to gather the tweets in the first place, was that they had to contain some variation of those 3 words. Therefore, we’re going to add them to a personal <code>stopwords</code> object and remove them from the corpus.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Here, we only include the root words, all variations (i.e. eating, bugs, insects) will be excluded as inherently from what the function provides.</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>myStopWords <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"eat"</span>, <span class="st">"bug"</span>, <span class="st">"insect"</span>)</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, removeWords, myStopWords)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in tm_map(tweet_corpus_new, removeWords, myStopWords): object 'tweet_corpus_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Here we'll run the word cloud again, this time adding in the `random.order` function so that the most frequently used words are at the center and the least towards the perimeter.</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud</span>(tweet_corpus_new, <span class="at">min.freq =</span> <span class="dv">20</span>, <span class="at">random.order =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in wordcloud(tweet_corpus_new, min.freq = 20, random.order = F): object 'tweet_corpus_new' not found</code></pre>
</div>
</div>
<p>This is a huge improvement! However, there are still some words we can work to exclude. Let’s try filtering out a few more problematic words.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>myStopWords <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"eat"</span>, <span class="st">"bug"</span>, <span class="st">"insect"</span>, <span class="st">"xxn"</span>, <span class="st">"because"</span>, <span class="st">"fuck"</span>, <span class="st">"shit"</span>, <span class="st">"yeah"</span>, <span class="st">"you"</span>)</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, removeWords, myStopWords)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in tm_map(tweet_corpus_new, removeWords, myStopWords): object 'tweet_corpus_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud</span>(tweet_corpus_new, <span class="at">min.freq =</span> <span class="dv">20</span>, <span class="at">random.order =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in wordcloud(tweet_corpus_new, min.freq = 20, random.order = F): object 'tweet_corpus_new' not found</code></pre>
</div>
</div>
<p>This is looking great! There’s quite an interesting spread of vocabulary surrounding the topics of eating bugs/insects. However, this is still just a surface level analysis and all we can really take away is that there is a heavy mix of positive and negative words around the topic. We’ll let this stand where it is for the moment and transition over to analyzing our corpus from a different angle.</p>
</section>
<section id="analysis" class="level1">
<h1><strong>Analysis</strong></h1>
<section id="readability" class="level2">
<h2 class="anchored" data-anchor-id="readability"><em>Readability</em></h2>
<p>In this next section, I will be attempting to analyze the readability of our corpus to see if any context can be gained from the results. It feels fair to mention the controversy surrounding readability ratings. From what I’ve come to understand, the results pulled from readability functions are somewhat vague and inconclusive. I suspect this is going to be especially true within our corpus. Considering these tweets are written by the average person across English speaking countries, I don’t expect the resulting readability scores to be very high.</p>
<p>With that said, I’m still curious as to what the result might be. Lets kick-off the process by transforming our existing <code>tweet_corpus_new</code> object into something of the appropriate format by using the <code>corpus</code> function instead this time.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Since we're transitioning back from using the `tm` package, we need to transform our existing `tweet_corpus_new` object into something of the appropriate format.</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>corpus_new <span class="ot">&lt;-</span> <span class="fu">corpus</span>(tweet_corpus_new)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in corpus(tweet_corpus_new): object 'tweet_corpus_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate readability</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>readability <span class="ot">&lt;-</span> <span class="fu">textstat_readability</span>(corpus_new,</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">measure =</span> <span class="fu">c</span>(<span class="st">"Flesch.Kincaid"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in textstat_readability(corpus_new, measure = c("Flesch.Kincaid")): object 'corpus_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add in a tweet count indicator</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>readability<span class="sc">$</span>tweet <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(readability))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in nrow(readability): object 'readability' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the dataset</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(readability)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in head(readability): object 'readability' not found</code></pre>
</div>
</div>
<p>Some interesting results, not unexpected to be honest. Let’s see what it’d look like as a graph.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot results</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(readability, <span class="fu">aes</span>(<span class="at">x =</span> tweet, <span class="at">y =</span> Flesch.Kincaid)) <span class="sc">+</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_smooth</span>() <span class="sc">+</span> </span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in ggplot(readability, aes(x = tweet, y = Flesch.Kincaid)): object 'readability' not found</code></pre>
</div>
</div>
<p>Once again, nothing really unexpected here. Our <code>Flesch.Kincaid</code> rating seems to average out around 10, meaning that in terms of readability, our tweets don’t fair too well and are on the more difficult end of the spectrum to read. This is nor a detriment nor a benefit to our analysis. Twitter as a social media platform isn’t dedicated to academia level vocabulary and many tweets utilize vernacular common to select regions within English speaking countries. So it’s fair to assume that same dialect won’t transition smoothly across all said regions and vice versa.</p>
<p>For the sake of curiosity, lets continue to analyze readability by comparing our <code>Flesch.Kincaid</code> rating to the <code>FOG</code> and <code>Coleman.Liau.grade</code> systems.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>readability <span class="ot">&lt;-</span> <span class="fu">textstat_readability</span>(corpus_new, <span class="at">measure =</span> <span class="fu">c</span>(<span class="st">"Flesch.Kincaid"</span>, <span class="st">"FOG"</span>, <span class="st">"Coleman.Liau.grade"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in textstat_readability(corpus_new, measure = c("Flesch.Kincaid", : object 'corpus_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add in a tweet count indicator</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>readability<span class="sc">$</span>tweet <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(readability))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in nrow(readability): object 'readability' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the data set</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(readability)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in head(readability): object 'readability' not found</code></pre>
</div>
</div>
<p>Once again, nothing entirely unexpected. Although, immediately we can tell that the <code>Coleman.Liau.grade</code> system seems to host a higher level of grade variations than the other systems. I suspect we’re going to get higher correlation levels betweent <code>FOG</code> and <code>Flesch.Kincaid</code> than any other combination.</p>
<p>Let’s plot it out again and get a bird’s eye view.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot results</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(readability, <span class="fu">aes</span>(<span class="at">x =</span> tweet)) <span class="sc">+</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Flesch.Kincaid), <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span> </span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> FOG), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span> </span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Coleman.Liau.grade), <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span> </span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>          <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in ggplot(readability, aes(x = tweet)): object 'readability' not found</code></pre>
</div>
</div>
<p>From a glance, it seems as though our suspicions are true. The blue line, <code>Coleman.Liau.grade</code>, seems to possess the most variation from the initial <code>Flesch.Kincaid</code> line we drew. Next we’ll analyze the correlation grade between the systems.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(readability<span class="sc">$</span>Flesch.Kincaid, readability<span class="sc">$</span>FOG, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in is.data.frame(y): object 'readability' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(readability<span class="sc">$</span>Coleman.Liau.grade, readability<span class="sc">$</span>FOG, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in is.data.frame(y): object 'readability' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(readability<span class="sc">$</span>Coleman.Liau.grade, readability<span class="sc">$</span>Flesch.Kincaid, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in is.data.frame(y): object 'readability' not found</code></pre>
</div>
</div>
<p>As we suspected, the lowest correlation scores came from the functions utilizing the <code>Coleman.Liau.grade</code>. While this information doesn’t add or take away from our results, it’s interesting to see how much readability scales differ.</p>
</section>
</section>
<section id="token-frequency" class="level1">
<h1><em>Token Frequency</em></h1>
<p>In this next section we’ll take a look at the frequency of which certain tokens appear within our corpus. We start off by coercing our corpus into a document-feature matrix (dfm).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This function takes the corpus object and coerces it into a document-feature matrix.</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>bugs_dfm <span class="ot">&lt;-</span> <span class="fu">dfm</span>(<span class="fu">tokens</span>(corpus_new))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in tokens(corpus_new): object 'corpus_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pull up a quick summary of the dfm</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>bugs_dfm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'bugs_dfm' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Running the function written  below does not do much since we've already cleaned up our corpus prior to converting it to a dfm. We'll run it anyway to assure we cleaned up our corpus as much as possible.</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>bugs_dfm <span class="ot">&lt;-</span> <span class="fu">tokens</span>(corpus_new,</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">remove_punct =</span> <span class="cn">TRUE</span>,</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">remove_numbers =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">dfm</span>(<span class="at">tolower=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">dfm_remove</span>(<span class="fu">stopwords</span>(<span class="st">'english'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in tokens(corpus_new, remove_punct = TRUE, remove_numbers = TRUE): object 'corpus_new' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using this function gives us a quick peek at the most frequent terms in our corpus.</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="fu">topfeatures</span>(bugs_dfm, <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in topfeatures(bugs_dfm, 20): object 'bugs_dfm' not found</code></pre>
</div>
</div>
<p>We’ve got some interesting results so far. I think there are a still a few words within our selection that are a bit tricky. We see words such as “like” &amp; “im”, which make it difficult to read the context and usage of the word within the document. We won’t be able to tell whether the word “like”, for example, is used in an affirmative context such as liking something, or whether it’s being used in a comparative setting (one thing being like/unlike another). For now, we’ll push forward with our visualizations, but this will most likely be addressed in the following blog post.</p>
<p>Let’s plot out our dfm in a word cloud!</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We'll set a standardized starting point to we get a consistent output when we decide to plot out the word cloud</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(bugs_dfm, <span class="at">min_count =</span> <span class="dv">20</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in textplot_wordcloud(bugs_dfm, min_count = 20, random_order = FALSE): object 'bugs_dfm' not found</code></pre>
</div>
</div>
<p>An interesting visual, we can see that there is a lot of variation between what might be considered positive and negative vocabulary. Unfortunately, it’s difficult to tell how a word used without the context surrounding it.</p>
<p>Let’s also analyze token frequency using Zipf’s law and try and visualize the ranking of our tokens.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first, we need to create a word frequency variable and the rankings</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>word_counts <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">sort</span>(<span class="fu">colSums</span>(bugs_dfm),<span class="at">dec=</span>T))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument 'x' in selecting a method for function 'as.data.frame': error in evaluating the argument 'x' in selecting a method for function 'colSums': object 'bugs_dfm' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(word_counts) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Frequency"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in colnames(word_counts) &lt;- c("Frequency"): object 'word_counts' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>word_counts<span class="sc">$</span>Rank <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(bugs_dfm))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in ncol(bugs_dfm): object 'bugs_dfm' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(word_counts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in head(word_counts): object 'word_counts' not found</code></pre>
</div>
</div>
<p>Interesting. According to Zipf’s law, the frequency of a word within a selected corpus should be inversely proportionate with its rank and at a glance, that theory isn’t very consistent with our results. Let’s toss it on a graph.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># now we can plot this</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(word_counts, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Rank, <span class="at">y =</span> Frequency)) <span class="sc">+</span> </span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a>     <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Zipf's Law"</span>, <span class="at">x =</span> <span class="st">"Rank"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>) <span class="sc">+</span> </span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in ggplot(word_counts, mapping = aes(x = Rank, y = Frequency)): object 'word_counts' not found</code></pre>
</div>
</div>
<p>The drop-off for token usage seems to be extremely sheer in our case. I don’t think this does us much good in terms of analysis, but it we can begin to infer is that a certain vocabulary is expected within tweets belonging to our theme/field of study and all other can be consider a sort of “fluff”.</p>
</section>
<section id="minimum-term-frequency" class="level1">
<h1><em>Minimum Term Frequency</em></h1>
<p>The following selection of coding attempts to cut down our DFM even further from what we have so far. A difficulty I ran into is that a majority of the corpus continues to be considered sparse. This means, that a majority of the tokens within our corpus appear in certain documents and not others, which isn’t unexpected but does not ease our analysis either. Since each tweet is considered its own document, it’s obvious that individuals are going to be pulling from the exact same vernacular/vocabulary every time. Unfortunately, this means we aren’t able to utilize the <code>min_docfreq</code> to its fullest capability when attempting to trim our DFM.</p>
<p>Instead, we’re going to play with <code>min_termfreq</code> quite a bit and try to find a magic number.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># trim based on the overall frequency (i.e., the word counts)</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(bugs_dfm, <span class="at">min_termfreq =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in dfm_trim(bugs_dfm, min_termfreq = 20): object 'bugs_dfm' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co"># trim based on the proportion of documents that the feature appears in; here, </span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="co"># the feature needs to appear in more than 10% of documents (chapters)</span></span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="co"># this doesn't do much since wording is so incosistent between tweets(documents)</span></span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a><span class="co"># smaller_dfm &lt;- dfm_trim(smaller_dfm, min_docfreq = 0.1, docfreq_type = "prop")</span></span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a>smaller_dfm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'smaller_dfm' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(smaller_dfm, <span class="at">min_count =</span> <span class="dv">10</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in textplot_wordcloud(smaller_dfm, min_count = 10, random_order = FALSE): object 'smaller_dfm' not found</code></pre>
</div>
</div>
<p>Looking at this visual, what exactly changed? Well, according to my observations, not much. Calling back to the Zipf’s law visual, those tokens that are frequently repeated, are very frequently repeated, but the frequency ranking drops rapidly. Logically, of course we would get practically the same result for this word cloud. The only words that are going to appear are those above the ranking that surpasses a minimum frequency of 20 times. So unfortunately, our previous suspicion was confirmed and these trimming strategies aren’t going to serve us much good.</p>
</section>
<section id="maximum-term-frequency" class="level1">
<h1><em>Maximum Term Frequency</em></h1>
<p>In this following section, we are going to attempt the inverse and analyze from the maximum perspective.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Here we're filtering from the opposite end, max going down </span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(bugs_dfm, <span class="at">max_termfreq =</span> <span class="dv">250</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in dfm_trim(bugs_dfm, max_termfreq = 250): object 'bugs_dfm' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(smaller_dfm, <span class="at">max_docfreq =</span> .<span class="dv">5</span>, <span class="at">docfreq_type =</span> <span class="st">"prop"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in dfm_trim(smaller_dfm, max_docfreq = 0.5, docfreq_type = "prop"): object 'smaller_dfm' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>smaller_dfm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'smaller_dfm' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(smaller_dfm, <span class="at">min_count =</span> <span class="dv">20</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in textplot_wordcloud(smaller_dfm, min_count = 20, random_order = FALSE): object 'smaller_dfm' not found</code></pre>
</div>
</div>
<p>Once again, while it’s okay to be hopeful, we get a nearly identical result to what we pulled before. This isn’t necessarily a negative, but there’s not much to contribute aside from what we’ve previously gathered.</p>
</section>
<section id="feature-co-occurrence-matrix" class="level1">
<h1><em>Feature Co-occurrence Matrix</em></h1>
<p>Next, we’re going to analyze the corpus using a feature co-occurrence matrix. This matrix will essentially tell us how many times a word within our corpus appears within the same document as another word within the same corpus. So we start in a similar manner by forcing the <code>FCM</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co"># let's create a nicer dfm by limiting to words that appear frequently.</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(bugs_dfm, <span class="at">min_termfreq =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in dfm_trim(bugs_dfm, min_termfreq = 20): object 'bugs_dfm' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create fcm from dfm</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>smaller_fcm <span class="ot">&lt;-</span> <span class="fu">fcm</span>(smaller_dfm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in fcm(smaller_dfm): object 'smaller_dfm' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check the dimensions (i.e., the number of rows and the number of columns) of the matrix we created</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(smaller_fcm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'smaller_fcm' not found</code></pre>
</div>
</div>
<p>Running the <code>dim</code> function using our <code>FCM</code> shows us that there are a total of 223 instances that we pulled into the matrix. You might also notice that there are an equal number of columns to rows. Each cell is a display of how many times the row and column word co-occur. This may come in handy once we’re ready to leverage these co-occurences to estimate word embedding.</p>
<p>Let’s create a network diagram to visualize co-occurences within our corpus.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pull the top features</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>myFeatures <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">topfeatures</span>(smaller_fcm, <span class="dv">30</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in topfeatures(smaller_fcm, 30): object 'smaller_fcm' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="co"># retain only those top features as part of our matrix</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>even_smaller_fcm <span class="ot">&lt;-</span> <span class="fu">fcm_select</span>(smaller_fcm, <span class="at">pattern =</span> myFeatures, <span class="at">selection =</span> <span class="st">"keep"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in fcm_select(smaller_fcm, pattern = myFeatures, selection = "keep"): object 'smaller_fcm' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check dimensions</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(even_smaller_fcm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'even_smaller_fcm' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compute size weight for vertices in network</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>size <span class="ot">&lt;-</span> <span class="fu">log</span>(<span class="fu">colSums</span>(even_smaller_fcm))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in h(simpleError(msg, call)): error in evaluating the argument 'x' in selecting a method for function 'colSums': object 'even_smaller_fcm' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create plot</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_network</span>(even_smaller_fcm, <span class="at">vertex_size =</span> size <span class="sc">/</span> <span class="fu">max</span>(size) <span class="sc">*</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in textplot_network(even_smaller_fcm, vertex_size = size/max(size) * : object 'even_smaller_fcm' not found</code></pre>
</div>
</div>
<p>What we see here is actually pretty interesting, depending on how you might interpret it at a glance. As expected, we see that the co-occurrence of the words “climate” &amp; “change” are relatively frequent. What’s curious, however, is frequency in which the word “don’t” &amp; “make” co-occur with others from our corpus. Further analysis will reveal more information as the term progresses, but at a glance this makes me think that people “don’t” want to eat bugs or they think someone will eventually “make” them. This is all speculation, but I feel as though this could be the beginnings of something more definitive.</p>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/Text_as_Data_Fall_2022" data-repo-id="R_kgDOH5675w" data-category="Announcements" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb147" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Blog Post #3"</span></span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Alexis Gamez"</span></span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a><span class="an">desription:</span><span class="co"> "Studying text-as-data as it relates to eating bugs"</span></span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "11/13/2022"</span></span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb147-9"><a href="#cb147-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb147-10"><a href="#cb147-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb147-11"><a href="#cb147-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb147-12"><a href="#cb147-12" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span></span>
<span id="cb147-13"><a href="#cb147-13" aria-hidden="true" tabindex="-1"></a><span class="co">  - blogpost3</span></span>
<span id="cb147-14"><a href="#cb147-14" aria-hidden="true" tabindex="-1"></a><span class="co">  - Alexis Gamez</span></span>
<span id="cb147-15"><a href="#cb147-15" aria-hidden="true" tabindex="-1"></a><span class="co">  - research</span></span>
<span id="cb147-16"><a href="#cb147-16" aria-hidden="true" tabindex="-1"></a><span class="co">  - academic articles</span></span>
<span id="cb147-17"><a href="#cb147-17" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb147-18"><a href="#cb147-18" aria-hidden="true" tabindex="-1"></a><span class="fu"># Setup</span></span>
<span id="cb147-19"><a href="#cb147-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-20"><a href="#cb147-20" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;details&gt;</span></span>
<span id="cb147-21"><a href="#cb147-21" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;summary&gt;</span> View Code<span class="kw">&lt;/summary&gt;</span></span>
<span id="cb147-22"><a href="#cb147-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb147-23"><a href="#cb147-23" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup, include=TRUE}</span></span>
<span id="cb147-24"><a href="#cb147-24" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plyr)</span>
<span id="cb147-25"><a href="#cb147-25" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb147-26"><a href="#cb147-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb147-27"><a href="#cb147-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb147-28"><a href="#cb147-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(devtools)</span>
<span id="cb147-29"><a href="#cb147-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb147-30"><a href="#cb147-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb147-31"><a href="#cb147-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rtweet)</span>
<span id="cb147-32"><a href="#cb147-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(twitteR)</span>
<span id="cb147-33"><a href="#cb147-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm)</span>
<span id="cb147-34"><a href="#cb147-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb147-35"><a href="#cb147-35" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb147-36"><a href="#cb147-36" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textplots)</span>
<span id="cb147-37"><a href="#cb147-37" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textstats)</span>
<span id="cb147-38"><a href="#cb147-38" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud)</span>
<span id="cb147-39"><a href="#cb147-39" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">warning =</span> <span class="cn">FALSE</span>, <span class="at">message =</span> <span class="cn">FALSE</span>, <span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb147-40"><a href="#cb147-40" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-41"><a href="#cb147-41" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/details&gt;</span></span>
<span id="cb147-42"><a href="#cb147-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-43"><a href="#cb147-43" aria-hidden="true" tabindex="-1"></a><span class="fu"># **Data Sources**</span></span>
<span id="cb147-44"><a href="#cb147-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-45"><a href="#cb147-45" aria-hidden="true" tabindex="-1"></a>For this assignment, I've already gathered the data I will be using for my corpus from the Twitter social media platform. The 'rtweet' R package was used heavily to gather the tweets I will be using and a majority of that process was shared in detail in my previous blog post. While the size of my original corpus wasn't laughable, I also wanted to document my methodology depicting how to append additional tweets from a new <span class="in">`search_tweets`</span> function to my existing corpus.</span>
<span id="cb147-46"><a href="#cb147-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-47"><a href="#cb147-47" aria-hidden="true" tabindex="-1"></a><span class="fu"># **Consolidating Data**</span></span>
<span id="cb147-48"><a href="#cb147-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-49"><a href="#cb147-49" aria-hidden="true" tabindex="-1"></a>I start off by reading in my corpus as the <span class="in">`tweet_bugs_1`</span> object. Utilizing a simple <span class="in">`read.csv`</span> function, we easily create the object. Afterwards, we'll run another <span class="in">`search_tweets`</span> function identical to the one we utilized in the previous blog post.</span>
<span id="cb147-50"><a href="#cb147-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-51"><a href="#cb147-51" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-52"><a href="#cb147-52" aria-hidden="true" tabindex="-1"></a><span class="co">#Here we're reading in the existing data we pulled for our last blog post and assigning it to object tweet_bugs_1.</span></span>
<span id="cb147-53"><a href="#cb147-53" aria-hidden="true" tabindex="-1"></a>tweet_bugs_1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"eating_bugs_corpus_11_8_22.csv"</span>)</span>
<span id="cb147-54"><a href="#cb147-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-55"><a href="#cb147-55" aria-hidden="true" tabindex="-1"></a><span class="co">#Pull together tweets containing keywords 'eating` and `bugs/insects`. In this case, we'll be adding these tweets to the existing data later on.</span></span>
<span id="cb147-56"><a href="#cb147-56" aria-hidden="true" tabindex="-1"></a>tweet_bugs_2 <span class="ot">&lt;-</span> <span class="fu">search_tweets</span>(<span class="st">"eating bugs OR insects"</span>, <span class="at">n =</span> <span class="dv">10000</span>,</span>
<span id="cb147-57"><a href="#cb147-57" aria-hidden="true" tabindex="-1"></a>                             <span class="at">type =</span> <span class="st">"mixed"</span>,</span>
<span id="cb147-58"><a href="#cb147-58" aria-hidden="true" tabindex="-1"></a>                             <span class="at">include_rts =</span> <span class="cn">FALSE</span>,</span>
<span id="cb147-59"><a href="#cb147-59" aria-hidden="true" tabindex="-1"></a>                             <span class="at">lang =</span> <span class="st">"en"</span>)</span>
<span id="cb147-60"><a href="#cb147-60" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-61"><a href="#cb147-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-62"><a href="#cb147-62" aria-hidden="true" tabindex="-1"></a>I included the chunk below as a reference, in case anything could be pulled as useful by analyzing the new <span class="in">`tweet_bugs_2`</span> object independently. This process is also identical to what was shown in blog post 2.</span>
<span id="cb147-63"><a href="#cb147-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-64"><a href="#cb147-64" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-65"><a href="#cb147-65" aria-hidden="true" tabindex="-1"></a><span class="co">#Once again, we can separate out the text from tweet_bugs_2 and analyze it as a corpus on its own, if we so choose, before appending it to our existing tweet corpus.</span></span>
<span id="cb147-66"><a href="#cb147-66" aria-hidden="true" tabindex="-1"></a>tweet_text_2 <span class="ot">&lt;-</span> <span class="fu">as.vector.data.frame</span>(tweet_bugs_2<span class="sc">$</span>full_text, <span class="at">mode =</span> <span class="st">"any"</span>)</span>
<span id="cb147-67"><a href="#cb147-67" aria-hidden="true" tabindex="-1"></a>tweet_corpus_2 <span class="ot">&lt;-</span> <span class="fu">corpus</span>(tweet_text_2)</span>
<span id="cb147-68"><a href="#cb147-68" aria-hidden="true" tabindex="-1"></a>tweet_summary_2 <span class="ot">&lt;-</span> <span class="fu">summary</span>(tweet_corpus_2)</span>
<span id="cb147-69"><a href="#cb147-69" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-70"><a href="#cb147-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-71"><a href="#cb147-71" aria-hidden="true" tabindex="-1"></a>Now that we have both required objects to append into a new and improved corpus, it's time to go ahead an merge. Thankfully, it's a relatively simple process. We simply run a vector append and assign the result to a new object i.e. <span class="in">`tweet_bugs_new`</span>.   </span>
<span id="cb147-72"><a href="#cb147-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-73"><a href="#cb147-73" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-74"><a href="#cb147-74" aria-hidden="true" tabindex="-1"></a><span class="co">#Here, we're merging the existing and new tweet_bugs objects.  </span></span>
<span id="cb147-75"><a href="#cb147-75" aria-hidden="true" tabindex="-1"></a>tweet_bugs_new <span class="ot">&lt;-</span> <span class="fu">c</span>(tweet_bugs_1<span class="sc">$</span>x, tweet_bugs_2<span class="sc">$</span>full_text)</span>
<span id="cb147-76"><a href="#cb147-76" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-77"><a href="#cb147-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-78"><a href="#cb147-78" aria-hidden="true" tabindex="-1"></a>However, a thought did occur to me when I was writing this chunk. What if I didn't want to wait the 6-9 days to pull new tweets? What if I wanted to continuously run my <span class="in">`search_tweets`</span> function day by day until I had an even larger corpus to work with? I wanted to find a way to find and eliminate duplicates so as not to taint my final data and that's exactly what I do in this following chunk.</span>
<span id="cb147-79"><a href="#cb147-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-80"><a href="#cb147-80" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;details&gt;</span></span>
<span id="cb147-81"><a href="#cb147-81" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;summary&gt;</span> View Code<span class="kw">&lt;/summary&gt;</span></span>
<span id="cb147-82"><a href="#cb147-82" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb147-83"><a href="#cb147-83" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-84"><a href="#cb147-84" aria-hidden="true" tabindex="-1"></a><span class="co">#This first function tells us that some of the tweets we've added to our corpus are duplicates.</span></span>
<span id="cb147-85"><a href="#cb147-85" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(<span class="fu">duplicated</span>(tweet_bugs_new))</span>
<span id="cb147-86"><a href="#cb147-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-87"><a href="#cb147-87" aria-hidden="true" tabindex="-1"></a><span class="co">#Running this function simply provides us with the text belonging to the duplicate tweets so that we can confirm visually.</span></span>
<span id="cb147-88"><a href="#cb147-88" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tweet_bugs_new[<span class="fu">duplicated</span>(tweet_bugs_new)])</span>
<span id="cb147-89"><a href="#cb147-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-90"><a href="#cb147-90" aria-hidden="true" tabindex="-1"></a><span class="co">#This function overwrites the tweet_bugs_new object to exclude all duplicates found from the previous functions.</span></span>
<span id="cb147-91"><a href="#cb147-91" aria-hidden="true" tabindex="-1"></a>tweet_bugs_new <span class="ot">&lt;-</span> tweet_bugs_new[<span class="sc">!</span><span class="fu">duplicated</span>(tweet_bugs_new)]</span>
<span id="cb147-92"><a href="#cb147-92" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-93"><a href="#cb147-93" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/details&gt;</span></span>
<span id="cb147-94"><a href="#cb147-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-95"><a href="#cb147-95" aria-hidden="true" tabindex="-1"></a>Now we've filtered out all duplicate tweets from our corpus and should only have unique entries moving forward. For the sake of record, we will write a new csv containing our new and improved corpus that we can pull from in the future.</span>
<span id="cb147-96"><a href="#cb147-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-97"><a href="#cb147-97" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-98"><a href="#cb147-98" aria-hidden="true" tabindex="-1"></a><span class="co">#I am going to use the write csv function here to save our corpus thus far. </span></span>
<span id="cb147-99"><a href="#cb147-99" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(tweet_bugs_new, <span class="at">file =</span> <span class="st">"eating_bugs_tweets_11_13_22.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb147-100"><a href="#cb147-100" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-101"><a href="#cb147-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-102"><a href="#cb147-102" aria-hidden="true" tabindex="-1"></a><span class="fu"># **Pre-Analysis**</span></span>
<span id="cb147-103"><a href="#cb147-103" aria-hidden="true" tabindex="-1"></a>Now that we have our working corpus, we'll move to a bit of pre-analysis by cleaning it up a bit! We'll be utilizing the <span class="in">`tm`</span> package quite a bit moving forward and as we do, please note that some code below utilizes slightly different syntax. For example, the <span class="in">`Corpus`</span> function utilized immediately below is slightly different from R's <span class="in">`corpus`</span> function (difference being the capital "C"). This slightly different function configures our <span class="in">`tweet_bugs_new`</span> project into a corpus that is compatible with <span class="in">`tm`</span> functions. </span>
<span id="cb147-104"><a href="#cb147-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-105"><a href="#cb147-105" aria-hidden="true" tabindex="-1"></a>Here we convert the new object into a corpus and summarize it to see if can immediately pull any relevant information. Unfortunately, it looks like the answer is no as the <span class="in">`tm`</span> corpus format does not play well with the summary function.</span>
<span id="cb147-106"><a href="#cb147-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-107"><a href="#cb147-107" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-108"><a href="#cb147-108" aria-hidden="true" tabindex="-1"></a><span class="co">#Now that we've cleaned up our new text object, we can convert it to a corpus and summarize the data if we'd like as well. This new `Corpus` function simply shapes the corpus so that all class elements are identical. This way, we can take full advantage of the functions within the text mining package.</span></span>
<span id="cb147-109"><a href="#cb147-109" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">Corpus</span>(<span class="fu">VectorSource</span>(tweet_bugs_new))</span>
<span id="cb147-110"><a href="#cb147-110" aria-hidden="true" tabindex="-1"></a>tweet_summary_new <span class="ot">&lt;-</span> <span class="fu">summary</span>(tweet_corpus_new)</span>
<span id="cb147-111"><a href="#cb147-111" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-112"><a href="#cb147-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-113"><a href="#cb147-113" aria-hidden="true" tabindex="-1"></a>If you recall, in blog post 2 we did not work to process the corpus and filter out non-useful tokens until our token analysis process toward the end of the post. Instead of waiting until we run <span class="in">`kwic`</span> functions to filter out certain words, I've introduced some new functions in the chunk below to acknowledge those things sooner. We start by filtering out English stop words, punctuation and white spaces. Then we introduce a function to stem words into a single root word structure. From there, we finish off by converting all words to lower case. </span>
<span id="cb147-114"><a href="#cb147-114" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb147-115"><a href="#cb147-115" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-116"><a href="#cb147-116" aria-hidden="true" tabindex="-1"></a><span class="co">#First, we should be sure to remove all English normalized stop words so that they don't clutter up our data.</span></span>
<span id="cb147-117"><a href="#cb147-117" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, removeWords, <span class="fu">stopwords</span>(<span class="st">"en"</span>))</span>
<span id="cb147-118"><a href="#cb147-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-119"><a href="#cb147-119" aria-hidden="true" tabindex="-1"></a><span class="co">#This line removes all standardized punctuation, similar to one of the functions used in the last blog post.</span></span>
<span id="cb147-120"><a href="#cb147-120" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, removePunctuation)</span>
<span id="cb147-121"><a href="#cb147-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-122"><a href="#cb147-122" aria-hidden="true" tabindex="-1"></a><span class="co">#This function just removes all extra white spaces that aren't necessary. </span></span>
<span id="cb147-123"><a href="#cb147-123" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, stripWhitespace)</span>
<span id="cb147-124"><a href="#cb147-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-125"><a href="#cb147-125" aria-hidden="true" tabindex="-1"></a><span class="co">#Here we stem words within the documents using Porter's stemming algorithm, which will assist with analysis later on.</span></span>
<span id="cb147-126"><a href="#cb147-126" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, stemDocument)</span>
<span id="cb147-127"><a href="#cb147-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-128"><a href="#cb147-128" aria-hidden="true" tabindex="-1"></a><span class="co">#Here we, convert all text to lower case.</span></span>
<span id="cb147-129"><a href="#cb147-129" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, <span class="fu">content_transformer</span>(tolower))</span>
<span id="cb147-130"><a href="#cb147-130" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-131"><a href="#cb147-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-132"><a href="#cb147-132" aria-hidden="true" tabindex="-1"></a>However, if left at this stage, we're still faced with some issues that plagued our corpus in our last blog post. Those issues being the variety of additional symbols and punctuation not standardized within the functions we just mentioned above. On top of that, a large portion of tweets included url's which we haven't accounted for yet either. Not to worry! Through some online research I was able to write a couple of functions to address the issue. The first of which simply removes any text relating to a typical "http" url structure. The second works to remove any "@'s" and non-standard punctuation so we can simply analyze the actual text within our corpus. </span>
<span id="cb147-133"><a href="#cb147-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-134"><a href="#cb147-134" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-135"><a href="#cb147-135" aria-hidden="true" tabindex="-1"></a><span class="co">#Here we are creating a function that removes any and all tokens containing URL formatted tokens.</span></span>
<span id="cb147-136"><a href="#cb147-136" aria-hidden="true" tabindex="-1"></a>remove_url <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">gsub</span>(<span class="st">"http[^[:space:]]*"</span>, <span class="st">""</span>, x)</span>
<span id="cb147-137"><a href="#cb147-137" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, <span class="fu">content_transformer</span>(remove_url))</span>
<span id="cb147-138"><a href="#cb147-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-139"><a href="#cb147-139" aria-hidden="true" tabindex="-1"></a><span class="co">#If you remember the last blog post, we had trouble removing @'s and other non-standard punctuation. The function we create here takes care of that problem for us.</span></span>
<span id="cb147-140"><a href="#cb147-140" aria-hidden="true" tabindex="-1"></a>removeNumPunct <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">gsub</span>(<span class="st">"[^[:alpha:][:space:]]*"</span>, <span class="st">""</span>, x)</span>
<span id="cb147-141"><a href="#cb147-141" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, <span class="fu">content_transformer</span>(removeNumPunct))</span>
<span id="cb147-142"><a href="#cb147-142" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-143"><a href="#cb147-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-144"><a href="#cb147-144" aria-hidden="true" tabindex="-1"></a>Now that we've cleaned up our corpus, let's try and create a new word cloud to use as a gauge for our current corpus.</span>
<span id="cb147-145"><a href="#cb147-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-146"><a href="#cb147-146" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-147"><a href="#cb147-147" aria-hidden="true" tabindex="-1"></a><span class="co">#This function is similar to the last time we used `wordcloud`, but I'm introducing the `min.freq` indicator so that the final result only includes tokens mentioned at least 15 times.</span></span>
<span id="cb147-148"><a href="#cb147-148" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud</span>(tweet_corpus_new, <span class="at">min.freq =</span> <span class="dv">20</span>)</span>
<span id="cb147-149"><a href="#cb147-149" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-150"><a href="#cb147-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-151"><a href="#cb147-151" aria-hidden="true" tabindex="-1"></a>This isn't terrible, but something we had trouble with last post was eliminating some other pesky words that weren't doing us much good. For example, while our research question surrounds the perception/sentimentality of eating insects, the actual words <span class="in">`eat/ing`</span>, <span class="in">`bug/s`</span> and <span class="in">`insect/s`</span> aren't doing us much good within the word cloud itself. The reason being that the criteria we used to gather the tweets in the first place, was that they had to contain some variation of those 3 words. Therefore, we're going to add them to a personal <span class="in">`stopwords`</span> object and remove them from the corpus.</span>
<span id="cb147-152"><a href="#cb147-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-153"><a href="#cb147-153" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-154"><a href="#cb147-154" aria-hidden="true" tabindex="-1"></a><span class="co">#Here, we only include the root words, all variations (i.e. eating, bugs, insects) will be excluded as inherently from what the function provides.</span></span>
<span id="cb147-155"><a href="#cb147-155" aria-hidden="true" tabindex="-1"></a>myStopWords <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"eat"</span>, <span class="st">"bug"</span>, <span class="st">"insect"</span>)</span>
<span id="cb147-156"><a href="#cb147-156" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, removeWords, myStopWords)</span>
<span id="cb147-157"><a href="#cb147-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-158"><a href="#cb147-158" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb147-159"><a href="#cb147-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-160"><a href="#cb147-160" aria-hidden="true" tabindex="-1"></a><span class="co">#Here we'll run the word cloud again, this time adding in the `random.order` function so that the most frequently used words are at the center and the least towards the perimeter.</span></span>
<span id="cb147-161"><a href="#cb147-161" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud</span>(tweet_corpus_new, <span class="at">min.freq =</span> <span class="dv">20</span>, <span class="at">random.order =</span> F)</span>
<span id="cb147-162"><a href="#cb147-162" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-163"><a href="#cb147-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-164"><a href="#cb147-164" aria-hidden="true" tabindex="-1"></a>This is a huge improvement! However, there are still some words we can work to exclude. Let's try filtering out a few more problematic words.</span>
<span id="cb147-165"><a href="#cb147-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-166"><a href="#cb147-166" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-167"><a href="#cb147-167" aria-hidden="true" tabindex="-1"></a>myStopWords <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"eat"</span>, <span class="st">"bug"</span>, <span class="st">"insect"</span>, <span class="st">"xxn"</span>, <span class="st">"because"</span>, <span class="st">"fuck"</span>, <span class="st">"shit"</span>, <span class="st">"yeah"</span>, <span class="st">"you"</span>)</span>
<span id="cb147-168"><a href="#cb147-168" aria-hidden="true" tabindex="-1"></a>tweet_corpus_new <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(tweet_corpus_new, removeWords, myStopWords)</span>
<span id="cb147-169"><a href="#cb147-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-170"><a href="#cb147-170" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud</span>(tweet_corpus_new, <span class="at">min.freq =</span> <span class="dv">20</span>, <span class="at">random.order =</span> F)</span>
<span id="cb147-171"><a href="#cb147-171" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-172"><a href="#cb147-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-173"><a href="#cb147-173" aria-hidden="true" tabindex="-1"></a>This is looking great! There's quite an interesting spread of vocabulary surrounding the topics of eating bugs/insects. However, this is still just a surface level analysis and all we can really take away is that there is a heavy mix of positive and negative words around the topic. We'll let this stand where it is for the moment and transition over to analyzing our corpus from a different angle.</span>
<span id="cb147-174"><a href="#cb147-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-175"><a href="#cb147-175" aria-hidden="true" tabindex="-1"></a><span class="fu"># **Analysis**</span></span>
<span id="cb147-176"><a href="#cb147-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-177"><a href="#cb147-177" aria-hidden="true" tabindex="-1"></a><span class="fu">## *Readability*</span></span>
<span id="cb147-178"><a href="#cb147-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-179"><a href="#cb147-179" aria-hidden="true" tabindex="-1"></a>In this next section, I will be attempting to analyze the readability of our corpus to see if any context can be gained from the results. It feels fair to mention the controversy surrounding readability ratings. From what I've come to understand, the results pulled from readability functions are somewhat vague and inconclusive. I suspect this is going to be especially true within our corpus. Considering  these tweets are written by the average person across English speaking countries, I don't expect the resulting readability scores to be very high.</span>
<span id="cb147-180"><a href="#cb147-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-181"><a href="#cb147-181" aria-hidden="true" tabindex="-1"></a>With that said, I'm still curious as to what the result might be. Lets kick-off the process by transforming our  existing <span class="in">`tweet_corpus_new`</span> object into something of the appropriate format by using the <span class="in">`corpus`</span> function instead this time.</span>
<span id="cb147-182"><a href="#cb147-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-183"><a href="#cb147-183" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-184"><a href="#cb147-184" aria-hidden="true" tabindex="-1"></a><span class="co">#Since we're transitioning back from using the `tm` package, we need to transform our existing `tweet_corpus_new` object into something of the appropriate format.</span></span>
<span id="cb147-185"><a href="#cb147-185" aria-hidden="true" tabindex="-1"></a>corpus_new <span class="ot">&lt;-</span> <span class="fu">corpus</span>(tweet_corpus_new)</span>
<span id="cb147-186"><a href="#cb147-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-187"><a href="#cb147-187" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate readability</span></span>
<span id="cb147-188"><a href="#cb147-188" aria-hidden="true" tabindex="-1"></a>readability <span class="ot">&lt;-</span> <span class="fu">textstat_readability</span>(corpus_new,</span>
<span id="cb147-189"><a href="#cb147-189" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">measure =</span> <span class="fu">c</span>(<span class="st">"Flesch.Kincaid"</span>))</span>
<span id="cb147-190"><a href="#cb147-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-191"><a href="#cb147-191" aria-hidden="true" tabindex="-1"></a><span class="co"># add in a tweet count indicator</span></span>
<span id="cb147-192"><a href="#cb147-192" aria-hidden="true" tabindex="-1"></a>readability<span class="sc">$</span>tweet <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(readability))</span>
<span id="cb147-193"><a href="#cb147-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-194"><a href="#cb147-194" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the dataset</span></span>
<span id="cb147-195"><a href="#cb147-195" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(readability)</span>
<span id="cb147-196"><a href="#cb147-196" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-197"><a href="#cb147-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-198"><a href="#cb147-198" aria-hidden="true" tabindex="-1"></a>Some interesting results, not unexpected to be honest. Let's see what it'd look like as a graph.</span>
<span id="cb147-199"><a href="#cb147-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-200"><a href="#cb147-200" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-201"><a href="#cb147-201" aria-hidden="true" tabindex="-1"></a><span class="co"># plot results</span></span>
<span id="cb147-202"><a href="#cb147-202" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(readability, <span class="fu">aes</span>(<span class="at">x =</span> tweet, <span class="at">y =</span> Flesch.Kincaid)) <span class="sc">+</span></span>
<span id="cb147-203"><a href="#cb147-203" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb147-204"><a href="#cb147-204" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_smooth</span>() <span class="sc">+</span> </span>
<span id="cb147-205"><a href="#cb147-205" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme_bw</span>()</span>
<span id="cb147-206"><a href="#cb147-206" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-207"><a href="#cb147-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-208"><a href="#cb147-208" aria-hidden="true" tabindex="-1"></a>Once again, nothing really unexpected here. Our <span class="in">`Flesch.Kincaid`</span> rating seems to average out around 10, meaning that in terms of readability, our tweets don't fair too well and are on the more difficult end of the spectrum to read. This is nor a detriment nor a benefit to our analysis. Twitter as a social media platform isn't dedicated to academia level vocabulary and many tweets utilize vernacular common to select regions within English speaking countries. So it's fair to assume that same dialect won't transition smoothly across all said regions and vice versa.</span>
<span id="cb147-209"><a href="#cb147-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-210"><a href="#cb147-210" aria-hidden="true" tabindex="-1"></a>For the sake of curiosity, lets continue to analyze readability by comparing our <span class="in">`Flesch.Kincaid`</span> rating to the <span class="in">`FOG`</span> and <span class="in">`Coleman.Liau.grade`</span> systems. </span>
<span id="cb147-211"><a href="#cb147-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-212"><a href="#cb147-212" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-213"><a href="#cb147-213" aria-hidden="true" tabindex="-1"></a>readability <span class="ot">&lt;-</span> <span class="fu">textstat_readability</span>(corpus_new, <span class="at">measure =</span> <span class="fu">c</span>(<span class="st">"Flesch.Kincaid"</span>, <span class="st">"FOG"</span>, <span class="st">"Coleman.Liau.grade"</span>))</span>
<span id="cb147-214"><a href="#cb147-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-215"><a href="#cb147-215" aria-hidden="true" tabindex="-1"></a><span class="co"># add in a tweet count indicator</span></span>
<span id="cb147-216"><a href="#cb147-216" aria-hidden="true" tabindex="-1"></a>readability<span class="sc">$</span>tweet <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(readability))</span>
<span id="cb147-217"><a href="#cb147-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-218"><a href="#cb147-218" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the data set</span></span>
<span id="cb147-219"><a href="#cb147-219" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(readability)</span>
<span id="cb147-220"><a href="#cb147-220" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-221"><a href="#cb147-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-222"><a href="#cb147-222" aria-hidden="true" tabindex="-1"></a>Once again, nothing entirely unexpected. Although, immediately we can tell that the <span class="in">`Coleman.Liau.grade`</span> system seems to host a higher level of grade variations than the other systems. I suspect we're going to get higher correlation levels betweent <span class="in">`FOG`</span> and <span class="in">`Flesch.Kincaid`</span> than any other combination. </span>
<span id="cb147-223"><a href="#cb147-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-224"><a href="#cb147-224" aria-hidden="true" tabindex="-1"></a>Let's plot it out again and get a bird's eye view. </span>
<span id="cb147-225"><a href="#cb147-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-226"><a href="#cb147-226" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-227"><a href="#cb147-227" aria-hidden="true" tabindex="-1"></a><span class="co"># plot results</span></span>
<span id="cb147-228"><a href="#cb147-228" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(readability, <span class="fu">aes</span>(<span class="at">x =</span> tweet)) <span class="sc">+</span></span>
<span id="cb147-229"><a href="#cb147-229" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Flesch.Kincaid), <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span> </span>
<span id="cb147-230"><a href="#cb147-230" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> FOG), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span> </span>
<span id="cb147-231"><a href="#cb147-231" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Coleman.Liau.grade), <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span> </span>
<span id="cb147-232"><a href="#cb147-232" aria-hidden="true" tabindex="-1"></a>          <span class="fu">theme_bw</span>()</span>
<span id="cb147-233"><a href="#cb147-233" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-234"><a href="#cb147-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-235"><a href="#cb147-235" aria-hidden="true" tabindex="-1"></a>From a glance, it seems as though our suspicions are true. The blue line, <span class="in">`Coleman.Liau.grade`</span>, seems to possess the most variation from the initial <span class="in">`Flesch.Kincaid`</span> line we drew. Next we'll analyze the correlation grade between the systems.</span>
<span id="cb147-236"><a href="#cb147-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-237"><a href="#cb147-237" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-238"><a href="#cb147-238" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(readability<span class="sc">$</span>Flesch.Kincaid, readability<span class="sc">$</span>FOG, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span>
<span id="cb147-239"><a href="#cb147-239" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(readability<span class="sc">$</span>Coleman.Liau.grade, readability<span class="sc">$</span>FOG, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span>
<span id="cb147-240"><a href="#cb147-240" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(readability<span class="sc">$</span>Coleman.Liau.grade, readability<span class="sc">$</span>Flesch.Kincaid, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span>
<span id="cb147-241"><a href="#cb147-241" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-242"><a href="#cb147-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-243"><a href="#cb147-243" aria-hidden="true" tabindex="-1"></a>As we suspected, the lowest correlation scores came from the functions utilizing the <span class="in">`Coleman.Liau.grade`</span>. While this information doesn't add or take away from our results, it's interesting to see how much readability scales differ. </span>
<span id="cb147-244"><a href="#cb147-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-245"><a href="#cb147-245" aria-hidden="true" tabindex="-1"></a><span class="fu"># *Token Frequency*</span></span>
<span id="cb147-246"><a href="#cb147-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-247"><a href="#cb147-247" aria-hidden="true" tabindex="-1"></a>In this next section we'll take a look at the frequency of which certain tokens appear within our corpus. We start off by coercing our corpus into a document-feature matrix (dfm).</span>
<span id="cb147-248"><a href="#cb147-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-249"><a href="#cb147-249" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-250"><a href="#cb147-250" aria-hidden="true" tabindex="-1"></a><span class="co"># This function takes the corpus object and coerces it into a document-feature matrix.</span></span>
<span id="cb147-251"><a href="#cb147-251" aria-hidden="true" tabindex="-1"></a>bugs_dfm <span class="ot">&lt;-</span> <span class="fu">dfm</span>(<span class="fu">tokens</span>(corpus_new))</span>
<span id="cb147-252"><a href="#cb147-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-253"><a href="#cb147-253" aria-hidden="true" tabindex="-1"></a><span class="co"># Pull up a quick summary of the dfm</span></span>
<span id="cb147-254"><a href="#cb147-254" aria-hidden="true" tabindex="-1"></a>bugs_dfm</span>
<span id="cb147-255"><a href="#cb147-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-256"><a href="#cb147-256" aria-hidden="true" tabindex="-1"></a><span class="co"># Running the function written  below does not do much since we've already cleaned up our corpus prior to converting it to a dfm. We'll run it anyway to assure we cleaned up our corpus as much as possible.</span></span>
<span id="cb147-257"><a href="#cb147-257" aria-hidden="true" tabindex="-1"></a>bugs_dfm <span class="ot">&lt;-</span> <span class="fu">tokens</span>(corpus_new,</span>
<span id="cb147-258"><a href="#cb147-258" aria-hidden="true" tabindex="-1"></a>                    <span class="at">remove_punct =</span> <span class="cn">TRUE</span>,</span>
<span id="cb147-259"><a href="#cb147-259" aria-hidden="true" tabindex="-1"></a>                    <span class="at">remove_numbers =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb147-260"><a href="#cb147-260" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">dfm</span>(<span class="at">tolower=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb147-261"><a href="#cb147-261" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">dfm_remove</span>(<span class="fu">stopwords</span>(<span class="st">'english'</span>))</span>
<span id="cb147-262"><a href="#cb147-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-263"><a href="#cb147-263" aria-hidden="true" tabindex="-1"></a><span class="co"># Using this function gives us a quick peek at the most frequent terms in our corpus.</span></span>
<span id="cb147-264"><a href="#cb147-264" aria-hidden="true" tabindex="-1"></a><span class="fu">topfeatures</span>(bugs_dfm, <span class="dv">20</span>)</span>
<span id="cb147-265"><a href="#cb147-265" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-266"><a href="#cb147-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-267"><a href="#cb147-267" aria-hidden="true" tabindex="-1"></a>We've got some interesting results so far. I think there are a still a few words within our selection that are a bit tricky. We see words such as "like" &amp; "im", which make it difficult to read the context and usage of the word within the document. We won't be able to tell whether the word "like", for example, is used in an affirmative context such as liking something, or whether it's being used in a comparative setting (one thing being like/unlike another). For now, we'll push forward with our visualizations, but this will most likely be addressed in the following blog post.</span>
<span id="cb147-268"><a href="#cb147-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-269"><a href="#cb147-269" aria-hidden="true" tabindex="-1"></a>Let's plot out our dfm in a word cloud!</span>
<span id="cb147-270"><a href="#cb147-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-271"><a href="#cb147-271" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-272"><a href="#cb147-272" aria-hidden="true" tabindex="-1"></a><span class="co"># We'll set a standardized starting point to we get a consistent output when we decide to plot out the word cloud</span></span>
<span id="cb147-273"><a href="#cb147-273" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb147-274"><a href="#cb147-274" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(bugs_dfm, <span class="at">min_count =</span> <span class="dv">20</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span>
<span id="cb147-275"><a href="#cb147-275" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-276"><a href="#cb147-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-277"><a href="#cb147-277" aria-hidden="true" tabindex="-1"></a>An interesting visual, we can see that there is a lot of variation between what might be considered positive and negative vocabulary. Unfortunately, it's difficult to tell how a word used without the context surrounding it. </span>
<span id="cb147-278"><a href="#cb147-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-279"><a href="#cb147-279" aria-hidden="true" tabindex="-1"></a>Let's also analyze token frequency using Zipf's law and try and visualize the ranking of our tokens.</span>
<span id="cb147-280"><a href="#cb147-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-281"><a href="#cb147-281" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-282"><a href="#cb147-282" aria-hidden="true" tabindex="-1"></a><span class="co"># first, we need to create a word frequency variable and the rankings</span></span>
<span id="cb147-283"><a href="#cb147-283" aria-hidden="true" tabindex="-1"></a>word_counts <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">sort</span>(<span class="fu">colSums</span>(bugs_dfm),<span class="at">dec=</span>T))</span>
<span id="cb147-284"><a href="#cb147-284" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(word_counts) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Frequency"</span>)</span>
<span id="cb147-285"><a href="#cb147-285" aria-hidden="true" tabindex="-1"></a>word_counts<span class="sc">$</span>Rank <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(bugs_dfm))</span>
<span id="cb147-286"><a href="#cb147-286" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(word_counts)</span>
<span id="cb147-287"><a href="#cb147-287" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-288"><a href="#cb147-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-289"><a href="#cb147-289" aria-hidden="true" tabindex="-1"></a>Interesting. According to Zipf's law, the frequency of a word within a selected corpus should be inversely proportionate with its rank and at a glance, that theory isn't very consistent with our results. Let's toss it on a graph.  </span>
<span id="cb147-290"><a href="#cb147-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-291"><a href="#cb147-291" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-292"><a href="#cb147-292" aria-hidden="true" tabindex="-1"></a><span class="co"># now we can plot this</span></span>
<span id="cb147-293"><a href="#cb147-293" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(word_counts, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Rank, <span class="at">y =</span> Frequency)) <span class="sc">+</span> </span>
<span id="cb147-294"><a href="#cb147-294" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb147-295"><a href="#cb147-295" aria-hidden="true" tabindex="-1"></a>     <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Zipf's Law"</span>, <span class="at">x =</span> <span class="st">"Rank"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>) <span class="sc">+</span> </span>
<span id="cb147-296"><a href="#cb147-296" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme_bw</span>()</span>
<span id="cb147-297"><a href="#cb147-297" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-298"><a href="#cb147-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-299"><a href="#cb147-299" aria-hidden="true" tabindex="-1"></a>The drop-off for token usage seems to be extremely sheer in our case. I don't think this does us much good in terms of analysis, but it we can begin to infer is that a certain vocabulary is expected within tweets belonging to our theme/field of study and all other can be consider a sort of "fluff".</span>
<span id="cb147-300"><a href="#cb147-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-301"><a href="#cb147-301" aria-hidden="true" tabindex="-1"></a><span class="fu"># *Minimum Term Frequency*</span></span>
<span id="cb147-302"><a href="#cb147-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-303"><a href="#cb147-303" aria-hidden="true" tabindex="-1"></a>The following selection of coding attempts to cut down our DFM even further from what we have so far. A difficulty I ran into is that a majority of the corpus continues to be considered sparse. This means, that a majority of the tokens within our corpus appear in certain documents and not others, which isn't unexpected but does not ease our analysis either. Since each tweet is considered its own document, it's obvious that individuals are going to be pulling from the exact same vernacular/vocabulary every time. Unfortunately, this means we aren't able to utilize the <span class="in">`min_docfreq`</span> to its fullest capability when attempting to trim our DFM.</span>
<span id="cb147-304"><a href="#cb147-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-305"><a href="#cb147-305" aria-hidden="true" tabindex="-1"></a>Instead, we're going to play with <span class="in">`min_termfreq`</span> quite a bit and try to find a magic number.</span>
<span id="cb147-306"><a href="#cb147-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-307"><a href="#cb147-307" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-308"><a href="#cb147-308" aria-hidden="true" tabindex="-1"></a><span class="co"># trim based on the overall frequency (i.e., the word counts)</span></span>
<span id="cb147-309"><a href="#cb147-309" aria-hidden="true" tabindex="-1"></a>smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(bugs_dfm, <span class="at">min_termfreq =</span> <span class="dv">20</span>)</span>
<span id="cb147-310"><a href="#cb147-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-311"><a href="#cb147-311" aria-hidden="true" tabindex="-1"></a><span class="co"># trim based on the proportion of documents that the feature appears in; here, </span></span>
<span id="cb147-312"><a href="#cb147-312" aria-hidden="true" tabindex="-1"></a><span class="co"># the feature needs to appear in more than 10% of documents (chapters)</span></span>
<span id="cb147-313"><a href="#cb147-313" aria-hidden="true" tabindex="-1"></a><span class="co"># this doesn't do much since wording is so incosistent between tweets(documents)</span></span>
<span id="cb147-314"><a href="#cb147-314" aria-hidden="true" tabindex="-1"></a><span class="co"># smaller_dfm &lt;- dfm_trim(smaller_dfm, min_docfreq = 0.1, docfreq_type = "prop")</span></span>
<span id="cb147-315"><a href="#cb147-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-316"><a href="#cb147-316" aria-hidden="true" tabindex="-1"></a>smaller_dfm</span>
<span id="cb147-317"><a href="#cb147-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-318"><a href="#cb147-318" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(smaller_dfm, <span class="at">min_count =</span> <span class="dv">10</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span>
<span id="cb147-319"><a href="#cb147-319" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-320"><a href="#cb147-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-321"><a href="#cb147-321" aria-hidden="true" tabindex="-1"></a>Looking at this visual, what exactly changed? Well, according to my observations, not much. Calling back to the Zipf's law visual, those tokens that are frequently repeated, are very frequently repeated, but the frequency ranking drops rapidly. Logically, of course we would get practically the same result for this word cloud. The only words that are going to appear are those above the ranking that surpasses a minimum frequency of 20 times. So unfortunately, our previous suspicion was confirmed and these trimming strategies aren't going to serve us much good.</span>
<span id="cb147-322"><a href="#cb147-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-323"><a href="#cb147-323" aria-hidden="true" tabindex="-1"></a><span class="fu"># *Maximum Term Frequency*</span></span>
<span id="cb147-324"><a href="#cb147-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-325"><a href="#cb147-325" aria-hidden="true" tabindex="-1"></a>In this following section, we are going to attempt the inverse and analyze from the maximum perspective.</span>
<span id="cb147-326"><a href="#cb147-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-327"><a href="#cb147-327" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-328"><a href="#cb147-328" aria-hidden="true" tabindex="-1"></a><span class="co"># Here we're filtering from the opposite end, max going down </span></span>
<span id="cb147-329"><a href="#cb147-329" aria-hidden="true" tabindex="-1"></a>smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(bugs_dfm, <span class="at">max_termfreq =</span> <span class="dv">250</span>)</span>
<span id="cb147-330"><a href="#cb147-330" aria-hidden="true" tabindex="-1"></a>smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(smaller_dfm, <span class="at">max_docfreq =</span> .<span class="dv">5</span>, <span class="at">docfreq_type =</span> <span class="st">"prop"</span>)</span>
<span id="cb147-331"><a href="#cb147-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-332"><a href="#cb147-332" aria-hidden="true" tabindex="-1"></a>smaller_dfm</span>
<span id="cb147-333"><a href="#cb147-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-334"><a href="#cb147-334" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(smaller_dfm, <span class="at">min_count =</span> <span class="dv">20</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span>
<span id="cb147-335"><a href="#cb147-335" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-336"><a href="#cb147-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-337"><a href="#cb147-337" aria-hidden="true" tabindex="-1"></a>Once again, while it's okay to be hopeful, we get a nearly identical result to what we pulled before. This isn't necessarily a negative, but there's not much to contribute aside from what we've previously gathered.</span>
<span id="cb147-338"><a href="#cb147-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-339"><a href="#cb147-339" aria-hidden="true" tabindex="-1"></a><span class="fu"># *Feature Co-occurrence Matrix*</span></span>
<span id="cb147-340"><a href="#cb147-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-341"><a href="#cb147-341" aria-hidden="true" tabindex="-1"></a>Next, we're going to analyze the corpus using a feature co-occurrence matrix. This matrix will essentially tell us how many times a word within our corpus appears within the same document as another word within the same corpus. So we start in a similar manner by forcing the <span class="in">`FCM`</span>.</span>
<span id="cb147-342"><a href="#cb147-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-343"><a href="#cb147-343" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-344"><a href="#cb147-344" aria-hidden="true" tabindex="-1"></a><span class="co"># let's create a nicer dfm by limiting to words that appear frequently.</span></span>
<span id="cb147-345"><a href="#cb147-345" aria-hidden="true" tabindex="-1"></a>smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(bugs_dfm, <span class="at">min_termfreq =</span> <span class="dv">20</span>)</span>
<span id="cb147-346"><a href="#cb147-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-347"><a href="#cb147-347" aria-hidden="true" tabindex="-1"></a><span class="co"># create fcm from dfm</span></span>
<span id="cb147-348"><a href="#cb147-348" aria-hidden="true" tabindex="-1"></a>smaller_fcm <span class="ot">&lt;-</span> <span class="fu">fcm</span>(smaller_dfm)</span>
<span id="cb147-349"><a href="#cb147-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-350"><a href="#cb147-350" aria-hidden="true" tabindex="-1"></a><span class="co"># check the dimensions (i.e., the number of rows and the number of columns) of the matrix we created</span></span>
<span id="cb147-351"><a href="#cb147-351" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(smaller_fcm)</span>
<span id="cb147-352"><a href="#cb147-352" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-353"><a href="#cb147-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-354"><a href="#cb147-354" aria-hidden="true" tabindex="-1"></a>Running the <span class="in">`dim`</span> function using our <span class="in">`FCM`</span> shows us that there are a total of 223 instances that we pulled into the matrix. You might also notice that there are an equal number of columns to rows. Each cell is a display of how many times the row and column word co-occur. This may come in handy once we're ready to leverage these co-occurences to estimate word embedding.</span>
<span id="cb147-355"><a href="#cb147-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-356"><a href="#cb147-356" aria-hidden="true" tabindex="-1"></a>Let's create a network diagram to visualize co-occurences within our corpus.</span>
<span id="cb147-357"><a href="#cb147-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-358"><a href="#cb147-358" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=TRUE}</span></span>
<span id="cb147-359"><a href="#cb147-359" aria-hidden="true" tabindex="-1"></a><span class="co"># pull the top features</span></span>
<span id="cb147-360"><a href="#cb147-360" aria-hidden="true" tabindex="-1"></a>myFeatures <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">topfeatures</span>(smaller_fcm, <span class="dv">30</span>))</span>
<span id="cb147-361"><a href="#cb147-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-362"><a href="#cb147-362" aria-hidden="true" tabindex="-1"></a><span class="co"># retain only those top features as part of our matrix</span></span>
<span id="cb147-363"><a href="#cb147-363" aria-hidden="true" tabindex="-1"></a>even_smaller_fcm <span class="ot">&lt;-</span> <span class="fu">fcm_select</span>(smaller_fcm, <span class="at">pattern =</span> myFeatures, <span class="at">selection =</span> <span class="st">"keep"</span>)</span>
<span id="cb147-364"><a href="#cb147-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-365"><a href="#cb147-365" aria-hidden="true" tabindex="-1"></a><span class="co"># check dimensions</span></span>
<span id="cb147-366"><a href="#cb147-366" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(even_smaller_fcm)</span>
<span id="cb147-367"><a href="#cb147-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-368"><a href="#cb147-368" aria-hidden="true" tabindex="-1"></a><span class="co"># compute size weight for vertices in network</span></span>
<span id="cb147-369"><a href="#cb147-369" aria-hidden="true" tabindex="-1"></a>size <span class="ot">&lt;-</span> <span class="fu">log</span>(<span class="fu">colSums</span>(even_smaller_fcm))</span>
<span id="cb147-370"><a href="#cb147-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-371"><a href="#cb147-371" aria-hidden="true" tabindex="-1"></a><span class="co"># create plot</span></span>
<span id="cb147-372"><a href="#cb147-372" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_network</span>(even_smaller_fcm, <span class="at">vertex_size =</span> size <span class="sc">/</span> <span class="fu">max</span>(size) <span class="sc">*</span> <span class="dv">3</span>)</span>
<span id="cb147-373"><a href="#cb147-373" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb147-374"><a href="#cb147-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-375"><a href="#cb147-375" aria-hidden="true" tabindex="-1"></a>What we see here is actually pretty interesting, depending on how you might interpret it at a glance. As expected, we see that the co-occurrence of the words "climate" &amp; "change" are relatively frequent. What's curious, however, is frequency in which the word "don't" &amp; "make" co-occur with others from our corpus. Further analysis will reveal more information as the term progresses, but at a glance this makes me think that people "don't" want to eat bugs or they think someone will eventually "make" them. This is all speculation, but I feel as though this could be the beginnings of something more definitive.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>