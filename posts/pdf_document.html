<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>

<meta charset="utf-8" />
<meta name="generator" content="quarto-1.0.37" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />

<meta name="author" content="Molly Hackbarth" />
<meta name="dcterms.date" content="2022-12-09" />
<meta name="description" content="Working with the data" />

<title>Text-as-Data Fall 2022 – Blog Post Six: Working with Time Series</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<!-- htmldependencies:E3FAD763 -->
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="/index.html">
    <img src="/images/UMass White Wordmark Horiz.png" alt="" />
    <span class="navbar-title">Text-as-Data Fall 2022</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
  aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"
  onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://dacss.github.io/Text_as_Data_Fall_2022/">
 Fall 2022</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="/about.html">
 Contributors</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss">
 DACSS</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DACSS/Text_as_Data_Fall_2022"><i 
  class="bi bi-github" 
  role="img" 
  aria-label="GitHub" 
>
</i> 
 </a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <div id="quarto-toc-target"></div>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Blog Post Six: Working with Time Series</h1>
  <div class="quarto-categories">
    <div class="quarto-category">blog posts</div>
    <div class="quarto-category">hw6</div>
    <div class="quarto-category">Molly Hackbarth</div>
  </div>
  </div>

<div>
  <div class="description">
    Working with the data
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Molly Hackbarth </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 9, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>
<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#research-question" id="toc-research-question">Research Question</a></li>
  <li><a href="#reading-in-the-data" id="toc-reading-in-the-data">Reading in the Data</a></li>
  <li><a href="#sentiment-by-dates" id="toc-sentiment-by-dates">Sentiment by Dates</a>
  <ul>
  <li><a href="#graphs-new" id="toc-graphs-new">Graphs New!</a></li>
  <li><a href="#sentiment-new" id="toc-sentiment-new">Sentiment New!</a></li>
  </ul></li>
  <li><a href="#word-cloud" id="toc-word-cloud">Word Cloud</a></li>
  <li><a href="#stm-new" id="toc-stm-new">STM New!</a></li>
  <li><a href="#final-thoughts-tldr" id="toc-final-thoughts-tldr">Final Thoughts (TLDR)</a></li>
  </ul>
</nav>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb1"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(qwraps2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">cache =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#qwraps2::lazyload_cache_dir(path = &quot;sixth_post_cache/html5&quot;)</span></span></code></pre></div>
</details>
</div>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/libraries_89c0916431441c6b42de794f8cd90ee3">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb2"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;tidyverse&#39; was built under R version 4.1.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
✔ ggplot2 3.3.6      ✔ purrr   0.3.5 
✔ tibble  3.1.8      ✔ dplyr   1.0.10
✔ tidyr   1.2.1      ✔ stringr 1.4.1 
✔ readr   2.1.3      ✔ forcats 0.5.2 </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;ggplot2&#39; was built under R version 4.1.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;tibble&#39; was built under R version 4.1.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;tidyr&#39; was built under R version 4.1.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;purrr&#39; was built under R version 4.1.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;dplyr&#39; was built under R version 4.1.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;stringr&#39; was built under R version 4.1.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;forcats&#39; was built under R version 4.1.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb13"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cld3)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;cld3&#39; was built under R version 4.1.2</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb15"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>here() starts at /Users/mollyhackbarth/Desktop/Desktop/Graduate School/DACSS/Github Projects/Text_as_Data_Fall_2022</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb17"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(devtools)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;devtools&#39; was built under R version 4.1.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: usethis</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;usethis&#39; was built under R version 4.1.2</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb21"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;tidytext&#39; was built under R version 4.1.2</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb23"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;quanteda&#39; was built under R version 4.1.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Package version: 3.2.3
Unicode version: 14.0
ICU version: 70.1
Parallel computing: 4 of 4 threads used.
See https://quanteda.io for tutorials and examples.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb26"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textstats)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;quanteda.textstats&#39; was built under R version 4.1.2</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb28"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textmodels)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;quanteda.textmodels&#39; was built under R version 4.1.2</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb30"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textplots)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;quanteda.textplots&#39; was built under R version 4.1.2</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb32"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.dictionaries)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.sentiment)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: &#39;quanteda.sentiment&#39;

The following object is masked from &#39;package:quanteda&#39;:

    data_dictionary_LSD2015</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb34"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package &#39;patchwork&#39; was built under R version 4.1.2</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb36"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stm)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>stm v1.3.6 successfully loaded. See ?stm for help. 
 Papers, resources, and other materials at structuraltopicmodel.com</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb38"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: NLP

Attaching package: &#39;NLP&#39;

The following objects are masked from &#39;package:quanteda&#39;:

    meta, meta&lt;-

The following object is masked from &#39;package:ggplot2&#39;:

    annotate


Attaching package: &#39;tm&#39;

The following object is masked from &#39;package:quanteda&#39;:

    stopwords</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb40"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="do">## new package </span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sentimentr)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</details>
</div>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/load data_622b3086f1ed0ba69e8615c381eac2a1">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb41"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#load(&quot;blogpost6.RData&quot;)</span></span></code></pre></div>
</details>
</div>
<section id="research-question" class="level1">
<h1>Research Question</h1>
<p><strong>My current research question:</strong> How do Reddit and Twitter users sentiment differentiate about the show <em>Love is Blind Japan</em> over time?</p>
<p>This blog post will be focused on completing the code that I want to use for my Final Poster. Anything that is new will be in the title as <strong>New!</strong></p>
</section>
<section id="reading-in-the-data" class="level1">
<h1>Reading in the Data</h1>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/reading data_59d15f1dfad1fadda8f956e37ce886b6">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb42"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">#write csv has been commented out due to it continously trying to save an &quot;updated version&quot; in Git. </span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>reddit_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;posts&quot;</span>, <span class="st">&quot;_data&quot;</span>, <span class="st">&quot;loveisblindjapan.csv&quot;</span>))</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>twitter1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;posts&quot;</span>, <span class="st">&quot;_data&quot;</span>, <span class="st">&quot;tweets.csv&quot;</span>))</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>twitter2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;posts&quot;</span>, <span class="st">&quot;_data&quot;</span>, <span class="st">&quot;tweets#.csv&quot;</span>))</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>reddit <span class="ot">&lt;-</span> <span class="fu">subset</span>(reddit_data, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;body&quot;</span>, <span class="st">&quot;created_utc&quot;</span>)) </span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>reddit<span class="sc">$</span>created_utc <span class="ot">&lt;-</span> <span class="fu">as.Date.POSIXct</span>(reddit<span class="sc">$</span>created_utc)</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>reddit <span class="ot">&lt;-</span> reddit <span class="sc">%&gt;%</span> </span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">text =</span> body, </span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">date =</span> created_utc)</span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a><span class="co"># remove deleted or removed comments by moderators of the subreddit (ones that only contain [deleted] or [removed])</span></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a>reddit <span class="ot">&lt;-</span> reddit <span class="sc">%&gt;%</span> </span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>text <span class="sc">==</span> <span class="st">&#39;[deleted]&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>text <span class="sc">==</span> <span class="st">&#39;[removed]&#39;</span>)</span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a><span class="co">#remove counting column</span></span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>twitter1 <span class="ot">&lt;-</span> twitter1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(X, User))</span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>twitter2 <span class="ot">&lt;-</span> twitter2 <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(X, User))</span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>twitter <span class="ot">&lt;-</span> <span class="fu">merge</span>(twitter1, twitter2, <span class="at">by=</span><span class="fu">c</span>(<span class="st">&#39;Tweet&#39;</span>,<span class="st">&#39;Tweet&#39;</span>, <span class="st">&#39;Date&#39;</span>, <span class="st">&#39;Date&#39;</span>),<span class="at">all=</span>T, <span class="at">ignore_case =</span>T)</span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(twitter, here::here(&quot;posts&quot;, &quot;_data&quot;, &quot;twitter.csv&quot;) , all(T) )</span></span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(twitter) <span class="ot">&lt;-</span> <span class="fu">tolower</span>(<span class="fu">names</span>(twitter))</span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a>twitter <span class="ot">&lt;-</span> twitter <span class="sc">%&gt;%</span> </span>
<span id="cb42-30"><a href="#cb42-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_at</span>(<span class="st">&#39;tweet&#39;</span>, <span class="sc">~</span> <span class="st">&#39;text&#39;</span>, </span>
<span id="cb42-31"><a href="#cb42-31" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Date&#39;</span> <span class="sc">~</span> <span class="st">&#39;date&#39;</span>)</span>
<span id="cb42-32"><a href="#cb42-32" aria-hidden="true" tabindex="-1"></a>twitter<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">strftime</span>(twitter<span class="sc">$</span>date, <span class="at">format=</span><span class="st">&quot;%Y-%m-%d&quot;</span>))</span>
<span id="cb42-33"><a href="#cb42-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-34"><a href="#cb42-34" aria-hidden="true" tabindex="-1"></a><span class="co"># remove duplicate tweets</span></span>
<span id="cb42-35"><a href="#cb42-35" aria-hidden="true" tabindex="-1"></a>twitter <span class="ot">&lt;-</span> twitter <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(text, date, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb42-36"><a href="#cb42-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-37"><a href="#cb42-37" aria-hidden="true" tabindex="-1"></a><span class="co">#check for duplicate tweets</span></span>
<span id="cb42-38"><a href="#cb42-38" aria-hidden="true" tabindex="-1"></a>twitter <span class="sc">%in%</span> <span class="fu">unique</span>(twitter[ <span class="fu">duplicated</span>(twitter)]) </span></code></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE</code></pre>
</div>
</div>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/lemmentizing the data_dab354833ac57a860c03177839beffb3">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb44"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Twiter Lemmitized</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>twitter_corpus <span class="ot">&lt;-</span> <span class="fu">subset</span>(twitter, <span class="fu">detect_language</span>(twitter) <span class="sc">==</span> <span class="st">&quot;en&quot;</span>)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>twitter_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(twitter_corpus)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>twitter_corpus <span class="ot">&lt;-</span> twitter_corpus[<span class="sc">!</span><span class="fu">is.na</span>(twitter_corpus)]</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>twittersummary <span class="ot">&lt;-</span> <span class="fu">summary</span>(twitter_corpus)</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>twitter_corpus <span class="ot">&lt;-</span> <span class="fu">trimws</span>(<span class="fu">gsub</span>(<span class="st">&quot;[[:digit:]]{1,4}-[[:digit:]]{1,4}-[[:digit:]]{1,4}&quot;</span>, <span class="st">&quot;&quot;</span>, twitter_corpus))</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>mystopwords <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;love is blind japan&quot;</span>, <span class="st">&quot;#loveisbindjapan&quot;</span>, <span class="st">&quot;#LoveIsBlindJapan&quot;</span>,<span class="st">&quot;Love Is Blind Japan&quot;</span>,<span class="st">&quot;Love is Blind Japan&quot;</span>, <span class="st">&quot;Love Is Blind: Japan&quot;</span>, <span class="st">&quot;#loveisblind&quot;</span>, <span class="st">&quot;ラブイズブラインドjapan&quot;</span>, <span class="st">&quot;#ラブイズブラインドjapan&quot;</span>, <span class="st">&quot;loveisblind&quot;</span>, <span class="st">&quot;#loveisblind2&quot;</span>, <span class="st">&quot;blind:japan&quot;</span>, <span class="st">&quot;blind&quot;</span>, <span class="st">&quot;show&quot;</span>)</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>twitter_corpus_tokens <span class="ot">&lt;-</span> <span class="fu">tokens</span>(twitter_corpus, </span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_punct =</span> T,</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_numbers =</span> T,</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_symbols =</span> T,</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_url =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_tolower</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_remove</span>(<span class="at">pattern =</span> <span class="fu">phrase</span>(mystopwords), <span class="at">valuetype =</span> <span class="st">&#39;fixed&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_select</span>(<span class="at">pattern =</span> <span class="fu">stopwords</span>(<span class="st">&quot;en&quot;</span>), <span class="at">selection =</span> <span class="st">&quot;remove&quot;</span>)</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>twitter_lemmitized <span class="ot">&lt;-</span> <span class="fu">tokens_replace</span>(twitter_corpus_tokens, </span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>                             <span class="at">pattern =</span> lexicon<span class="sc">::</span>hash_lemmas<span class="sc">$</span>token, </span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>                             <span class="at">replacement =</span> lexicon<span class="sc">::</span>hash_lemmas<span class="sc">$</span>lemma)</span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Reddit Lemmitized</span></span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a>reddit_corpus <span class="ot">&lt;-</span> <span class="fu">subset</span>(reddit, <span class="fu">detect_language</span>(reddit) <span class="sc">==</span> <span class="st">&quot;en&quot;</span>)</span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a>reddit_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(reddit_corpus)</span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a>reddit_corpus <span class="ot">&lt;-</span> reddit_corpus[<span class="sc">!</span><span class="fu">is.na</span>(reddit_corpus)]</span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a>redditsummary <span class="ot">&lt;-</span> <span class="fu">summary</span>(reddit_corpus)</span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a>reddit_corpus <span class="ot">&lt;-</span> <span class="fu">trimws</span>(<span class="fu">gsub</span>(<span class="st">&quot;[[:digit:]]{1,4}-[[:digit:]]{1,4}-[[:digit:]]{1,4}&quot;</span>, <span class="st">&quot;&quot;</span>, reddit_corpus))</span>
<span id="cb44-31"><a href="#cb44-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-32"><a href="#cb44-32" aria-hidden="true" tabindex="-1"></a>reddit_corpus_tokens <span class="ot">&lt;-</span> <span class="fu">tokens</span>(reddit_corpus, </span>
<span id="cb44-33"><a href="#cb44-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_punct =</span> T,</span>
<span id="cb44-34"><a href="#cb44-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_numbers =</span> T, </span>
<span id="cb44-35"><a href="#cb44-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_symbols =</span> T,</span>
<span id="cb44-36"><a href="#cb44-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_url =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb44-37"><a href="#cb44-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_tolower</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb44-38"><a href="#cb44-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_select</span>(<span class="at">pattern =</span> <span class="fu">stopwords</span>(<span class="st">&quot;en&quot;</span>), <span class="at">selection =</span> <span class="st">&quot;remove&quot;</span>)</span>
<span id="cb44-39"><a href="#cb44-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-40"><a href="#cb44-40" aria-hidden="true" tabindex="-1"></a>reddit_lemmitized <span class="ot">&lt;-</span> <span class="fu">tokens_replace</span>(reddit_corpus_tokens, </span>
<span id="cb44-41"><a href="#cb44-41" aria-hidden="true" tabindex="-1"></a>                             <span class="at">pattern =</span> lexicon<span class="sc">::</span>hash_lemmas<span class="sc">$</span>token, </span>
<span id="cb44-42"><a href="#cb44-42" aria-hidden="true" tabindex="-1"></a>                             <span class="at">replacement =</span> lexicon<span class="sc">::</span>hash_lemmas<span class="sc">$</span>lemma)</span></code></pre></div>
</details>
</div>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/creating nrc dictionary_d7b48e2587d1240e3dfaef4b1fe899d7">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb45"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Twitter NRC</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>twitterDfm_nrc <span class="ot">&lt;-</span> <span class="fu">dfm</span>(<span class="fu">tokens</span>(twitter_lemmitized,</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>                              <span class="at">remove_punct =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">tolower =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">dfm_lookup</span>(data_dictionary_NRC)</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>tdf_nrc <span class="ot">&lt;-</span> <span class="fu">convert</span>(twitterDfm_nrc, <span class="at">to =</span> <span class="st">&quot;data.frame&quot;</span>)</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>tdf_nrc<span class="sc">$</span>polarity <span class="ot">&lt;-</span> (tdf_nrc<span class="sc">$</span>positive <span class="sc">-</span> tdf_nrc<span class="sc">$</span>negative)<span class="sc">/</span>(tdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> tdf_nrc<span class="sc">$</span>negative)</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>tdf_nrc<span class="sc">$</span>polarity[<span class="fu">which</span>((tdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> tdf_nrc<span class="sc">$</span>negative) <span class="sc">==</span> <span class="dv">0</span>)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>twitter_corpus_dfm <span class="ot">&lt;-</span> twitter_lemmitized <span class="sc">%&gt;%</span> </span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_remove</span>(<span class="fu">stopwords</span>(<span class="st">&#39;english&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_trim</span>(<span class="at">min_termfreq =</span> <span class="dv">30</span>, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Reddit NRC</span></span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>redditDfm_nrc <span class="ot">&lt;-</span> <span class="fu">dfm</span>(<span class="fu">tokens</span>(reddit_lemmitized,</span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>                              <span class="at">remove_punct =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>                       <span class="at">tolower =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">dfm_lookup</span>(data_dictionary_NRC)</span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>rdf_nrc <span class="ot">&lt;-</span> <span class="fu">convert</span>(redditDfm_nrc, <span class="at">to =</span> <span class="st">&quot;data.frame&quot;</span>)</span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>rdf_nrc<span class="sc">$</span>polarity <span class="ot">&lt;-</span> (rdf_nrc<span class="sc">$</span>positive <span class="sc">-</span> rdf_nrc<span class="sc">$</span>negative)<span class="sc">/</span>(rdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> rdf_nrc<span class="sc">$</span>negative)</span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>rdf_nrc<span class="sc">$</span>polarity[<span class="fu">which</span>((rdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> rdf_nrc<span class="sc">$</span>negative) <span class="sc">==</span> <span class="dv">0</span>)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a>reddit_corpus_dfm <span class="ot">&lt;-</span> reddit_lemmitized <span class="sc">%&gt;%</span> </span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_remove</span>(<span class="fu">stopwords</span>(<span class="st">&#39;english&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_trim</span>(<span class="at">min_termfreq =</span> <span class="dv">30</span>, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
</details>
</div>
</section>
<section id="sentiment-by-dates" class="level1">
<h1>Sentiment by Dates</h1>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/emotions by percent_b83a812d60e885095188f8f0bd5fdbaa">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb46"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>tdf_nrc <span class="ot">&lt;-</span> <span class="fu">convert</span>(twitterDfm_nrc, <span class="at">to =</span> <span class="st">&quot;data.frame&quot;</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>tdf_nrc<span class="sc">$</span>date <span class="ot">&lt;-</span> twitterDfm_nrc<span class="sc">@</span>docvars<span class="sc">$</span>date</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>tdf_nrc<span class="sc">$</span>polarity <span class="ot">&lt;-</span> (tdf_nrc<span class="sc">$</span>positive <span class="sc">-</span> tdf_nrc<span class="sc">$</span>negative)<span class="sc">/</span>(tdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> tdf_nrc<span class="sc">$</span>negative)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>tdf_nrc<span class="sc">$</span>polarity[<span class="fu">which</span>((tdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> tdf_nrc<span class="sc">$</span>negative) <span class="sc">==</span> <span class="dv">0</span>)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>rdf_nrc <span class="ot">&lt;-</span> <span class="fu">convert</span>(redditDfm_nrc, <span class="at">to =</span> <span class="st">&quot;data.frame&quot;</span>)</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>rdf_nrc<span class="sc">$</span>date <span class="ot">&lt;-</span> redditDfm_nrc<span class="sc">@</span>docvars<span class="sc">$</span>date</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>rdf_nrc<span class="sc">$</span>polarity <span class="ot">&lt;-</span> (rdf_nrc<span class="sc">$</span>positive <span class="sc">-</span> rdf_nrc<span class="sc">$</span>negative)<span class="sc">/</span>(rdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> rdf_nrc<span class="sc">$</span>negative)</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>rdf_nrc<span class="sc">$</span>polarity[<span class="fu">which</span>((rdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> rdf_nrc<span class="sc">$</span>negative) <span class="sc">==</span> <span class="dv">0</span>)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>reddit_emotions <span class="ot">&lt;-</span> rdf_nrc <span class="sc">%&gt;%</span> </span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span> </span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a> <span class="fu">summarise</span>(<span class="at">polarity =</span> <span class="fu">mean</span>(polarity),</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>           <span class="at">anger =</span> <span class="fu">sum</span>(anger),</span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>           <span class="at">anticipation =</span> <span class="fu">sum</span>(anticipation), </span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>           <span class="at">disgust =</span> <span class="fu">sum</span>(disgust),</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">fear =</span> <span class="fu">sum</span>(fear),</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a>           <span class="at">joy =</span> <span class="fu">sum</span>(joy),</span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">negative =</span> <span class="fu">sum</span>(negative),</span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>           <span class="at">positive =</span> <span class="fu">sum</span>(positive),</span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>           <span class="at">sadness =</span> <span class="fu">sum</span>(sadness),</span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a>           <span class="at">surprise =</span> <span class="fu">sum</span>(surprise),</span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a>           <span class="at">trust =</span> <span class="fu">sum</span>(trust)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word_count =</span> <span class="fu">sum</span>(<span class="fu">c_across</span>(anger<span class="sc">:</span>trust), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">anger_percent =</span> <span class="fu">round</span>(anger <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a>          <span class="at">anticipation_percent =</span> <span class="fu">round</span>(anticipation <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a>          <span class="at">disgust_percent =</span> <span class="fu">round</span>(disgust<span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a>          <span class="at">fear_percent =</span> <span class="fu">round</span>(fear <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-30"><a href="#cb46-30" aria-hidden="true" tabindex="-1"></a>          <span class="at">joy_percent =</span> <span class="fu">round</span>(joy <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-31"><a href="#cb46-31" aria-hidden="true" tabindex="-1"></a>          <span class="at">negative_percent =</span> <span class="fu">round</span>(negative <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-32"><a href="#cb46-32" aria-hidden="true" tabindex="-1"></a>          <span class="at">positive_percent =</span> <span class="fu">round</span>(positive <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-33"><a href="#cb46-33" aria-hidden="true" tabindex="-1"></a>          <span class="at">sadness_percent =</span> <span class="fu">round</span>(sadness <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-34"><a href="#cb46-34" aria-hidden="true" tabindex="-1"></a>          <span class="at">surprise_percent =</span> <span class="fu">round</span>(surprise <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-35"><a href="#cb46-35" aria-hidden="true" tabindex="-1"></a>          <span class="at">trust_percent =</span> <span class="fu">round</span>(trust <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb46-36"><a href="#cb46-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-37"><a href="#cb46-37" aria-hidden="true" tabindex="-1"></a>twitter_emotions <span class="ot">&lt;-</span> tdf_nrc <span class="sc">%&gt;%</span> </span>
<span id="cb46-38"><a href="#cb46-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span> </span>
<span id="cb46-39"><a href="#cb46-39" aria-hidden="true" tabindex="-1"></a> <span class="fu">summarise</span>(<span class="at">polarity =</span> <span class="fu">mean</span>(polarity),</span>
<span id="cb46-40"><a href="#cb46-40" aria-hidden="true" tabindex="-1"></a>           <span class="at">anger =</span> <span class="fu">sum</span>(anger),</span>
<span id="cb46-41"><a href="#cb46-41" aria-hidden="true" tabindex="-1"></a>           <span class="at">anticipation =</span> <span class="fu">sum</span>(anticipation), </span>
<span id="cb46-42"><a href="#cb46-42" aria-hidden="true" tabindex="-1"></a>           <span class="at">disgust =</span> <span class="fu">sum</span>(disgust),</span>
<span id="cb46-43"><a href="#cb46-43" aria-hidden="true" tabindex="-1"></a>           <span class="at">fear =</span> <span class="fu">sum</span>(fear),</span>
<span id="cb46-44"><a href="#cb46-44" aria-hidden="true" tabindex="-1"></a>           <span class="at">joy =</span> <span class="fu">sum</span>(joy),</span>
<span id="cb46-45"><a href="#cb46-45" aria-hidden="true" tabindex="-1"></a>           <span class="at">negative =</span> <span class="fu">sum</span>(negative),</span>
<span id="cb46-46"><a href="#cb46-46" aria-hidden="true" tabindex="-1"></a>           <span class="at">positive =</span> <span class="fu">sum</span>(positive),</span>
<span id="cb46-47"><a href="#cb46-47" aria-hidden="true" tabindex="-1"></a>           <span class="at">sadness =</span> <span class="fu">sum</span>(sadness),</span>
<span id="cb46-48"><a href="#cb46-48" aria-hidden="true" tabindex="-1"></a>           <span class="at">surprise =</span> <span class="fu">sum</span>(surprise),</span>
<span id="cb46-49"><a href="#cb46-49" aria-hidden="true" tabindex="-1"></a>           <span class="at">trust =</span> <span class="fu">sum</span>(trust)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-50"><a href="#cb46-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb46-51"><a href="#cb46-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word_count =</span> <span class="fu">sum</span>(<span class="fu">c_across</span>(anger<span class="sc">:</span>trust), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-52"><a href="#cb46-52" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">anger_percent =</span> <span class="fu">round</span>(anger <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>)<span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-53"><a href="#cb46-53" aria-hidden="true" tabindex="-1"></a>          <span class="at">anticipation_percent =</span> <span class="fu">round</span>(anticipation <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-54"><a href="#cb46-54" aria-hidden="true" tabindex="-1"></a>          <span class="at">disgust_percent =</span> <span class="fu">round</span>(disgust<span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-55"><a href="#cb46-55" aria-hidden="true" tabindex="-1"></a>          <span class="at">fear_percent =</span> <span class="fu">round</span>(fear <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-56"><a href="#cb46-56" aria-hidden="true" tabindex="-1"></a>          <span class="at">joy_percent =</span> <span class="fu">round</span>(joy <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-57"><a href="#cb46-57" aria-hidden="true" tabindex="-1"></a>          <span class="at">negative_percent =</span> <span class="fu">round</span>(negative <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-58"><a href="#cb46-58" aria-hidden="true" tabindex="-1"></a>          <span class="at">positive_percent =</span> <span class="fu">round</span>(positive <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-59"><a href="#cb46-59" aria-hidden="true" tabindex="-1"></a>          <span class="at">sadness_percent =</span> <span class="fu">round</span>(sadness <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-60"><a href="#cb46-60" aria-hidden="true" tabindex="-1"></a>          <span class="at">surprise_percent =</span> <span class="fu">round</span>(surprise <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb46-61"><a href="#cb46-61" aria-hidden="true" tabindex="-1"></a>          <span class="at">trust_percent =</span> <span class="fu">round</span>(trust <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>)</span></code></pre></div>
</details>
</div>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/filter count_ae8b66c8629de47296178a6fb539d860">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb47"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>twitter_emotions <span class="ot">&lt;-</span> twitter_emotions <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(word_count <span class="sc">&gt;</span> <span class="dv">100</span>)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>reddit_emotions <span class="ot">&lt;-</span> reddit_emotions <span class="sc">%&gt;%</span> </span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(word_count <span class="sc">&gt;</span> <span class="dv">100</span>)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>anger <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> anger_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> anger_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit anger percentage by date&quot;</span>)</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>anticipation <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> anticipation_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> anticipation_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit anticipation percentage by date&quot;</span>)</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>disgust <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> disgust_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> disgust_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit disgust percentage by date&quot;</span>)</span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a>fear <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb47-29"><a href="#cb47-29" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> fear_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> fear_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb47-30"><a href="#cb47-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb47-31"><a href="#cb47-31" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb47-32"><a href="#cb47-32" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb47-33"><a href="#cb47-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit fear percentage by date&quot;</span>)</span>
<span id="cb47-34"><a href="#cb47-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-35"><a href="#cb47-35" aria-hidden="true" tabindex="-1"></a>joy <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb47-36"><a href="#cb47-36" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> joy_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> joy_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb47-37"><a href="#cb47-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb47-38"><a href="#cb47-38" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb47-39"><a href="#cb47-39" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb47-40"><a href="#cb47-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit joy percentage by date&quot;</span>)</span>
<span id="cb47-41"><a href="#cb47-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-42"><a href="#cb47-42" aria-hidden="true" tabindex="-1"></a>sadness <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb47-43"><a href="#cb47-43" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sadness_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sadness_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb47-44"><a href="#cb47-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb47-45"><a href="#cb47-45" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb47-46"><a href="#cb47-46" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb47-47"><a href="#cb47-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit sadness percentage by date&quot;</span>)</span>
<span id="cb47-48"><a href="#cb47-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-49"><a href="#cb47-49" aria-hidden="true" tabindex="-1"></a>surprise <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb47-50"><a href="#cb47-50" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> surprise_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> surprise_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb47-51"><a href="#cb47-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb47-52"><a href="#cb47-52" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb47-53"><a href="#cb47-53" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb47-54"><a href="#cb47-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit surprise percentage by date&quot;</span>)</span>
<span id="cb47-55"><a href="#cb47-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-56"><a href="#cb47-56" aria-hidden="true" tabindex="-1"></a>trust <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb47-57"><a href="#cb47-57" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> trust_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> trust_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb47-58"><a href="#cb47-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb47-59"><a href="#cb47-59" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb47-60"><a href="#cb47-60" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb47-61"><a href="#cb47-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit trust percentage by date&quot;</span>)</span>
<span id="cb47-62"><a href="#cb47-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-63"><a href="#cb47-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-64"><a href="#cb47-64" aria-hidden="true" tabindex="-1"></a>negative <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb47-65"><a href="#cb47-65" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> negative_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> negative_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb47-66"><a href="#cb47-66" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb47-67"><a href="#cb47-67" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb47-68"><a href="#cb47-68" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb47-69"><a href="#cb47-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit negativeness percentage by date&quot;</span>)</span>
<span id="cb47-70"><a href="#cb47-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-71"><a href="#cb47-71" aria-hidden="true" tabindex="-1"></a>positive <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb47-72"><a href="#cb47-72" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> positive_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> positive_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb47-73"><a href="#cb47-73" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb47-74"><a href="#cb47-74" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb47-75"><a href="#cb47-75" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb47-76"><a href="#cb47-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit positveness percentage by date&quot;</span>)</span>
<span id="cb47-77"><a href="#cb47-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-78"><a href="#cb47-78" aria-hidden="true" tabindex="-1"></a>anger <span class="sc">/</span> disgust </span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/filter%20count-1.png" class="img-fluid" width="672" /></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb49"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>fear <span class="sc">/</span> sadness </span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/filter%20count-2.png" class="img-fluid" width="672" /></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb51"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>anticipation <span class="sc">/</span> joy </span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/filter%20count-3.png" class="img-fluid" width="672" /></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb53"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>surprise <span class="sc">/</span> trust</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/filter%20count-4.png" class="img-fluid" width="672" /></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb55"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>positive<span class="sc">/</span>negative</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/filter%20count-5.png" class="img-fluid" width="672" /></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb57"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>twitter_reddit_sentiment <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> polarity, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> polarity, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit Average Dictionary Sentiment&quot;</span>)</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>twitter_reddit_sentiment</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/filter%20count-6.png" class="img-fluid" width="672" /></p>
</div>
</div>
<p>Since we have it in a line graph, lets go ahead and try to do a comparison in a bar chart for all emotions together.</p>
<section id="graphs-new" class="level2">
<h2>Graphs New!</h2>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/bar chart graph_df29931c569c8a22f153e2e1ef2793dc">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb59"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>twitter_emotions_pivot <span class="ot">&lt;-</span> twitter_emotions <span class="sc">%&gt;%</span> </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">c</span>(anger, disgust, fear, sadness, anticipation, joy, surprise, trust), <span class="at">names_to =</span> <span class="st">&quot;words&quot;</span>)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>t_emotions <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data =</span> twitter_emotions_pivot, <span class="fu">aes</span>(<span class="at">x =</span> words, <span class="at">weight =</span> value, <span class="at">fill =</span> words)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Twitter sentiments&quot;</span>)</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>reddit_emotions_pivot <span class="ot">&lt;-</span> reddit_emotions <span class="sc">%&gt;%</span> </span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">c</span>(anger, disgust, fear, sadness, anticipation, joy, surprise, trust), <span class="at">names_to =</span> <span class="st">&quot;words&quot;</span>)</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>r_emotions <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data =</span> reddit_emotions_pivot, <span class="fu">aes</span>(<span class="at">x =</span> words, <span class="at">weight =</span> value, <span class="at">fill =</span> words)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Reddit sentiments&quot;</span>)</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>t_emotions </span></code></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/bar%20chart%20graph-1.png" class="img-fluid" width="672" /></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb60"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>r_emotions</span></code></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/bar%20chart%20graph-2.png" class="img-fluid" width="672" /></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb61"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>twitter_emotions_pivot_2 <span class="ot">&lt;-</span> twitter_emotions <span class="sc">%&gt;%</span> </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">c</span>(positive, negative), <span class="at">names_to =</span> <span class="st">&quot;words&quot;</span>)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>t_np <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data =</span> twitter_emotions_pivot_2, <span class="fu">aes</span>(<span class="at">x =</span> words, <span class="at">weight =</span> value, <span class="at">fill =</span> words)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Twitter sentiments&quot;</span>)</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>reddit_emotions_pivot_2 <span class="ot">&lt;-</span> reddit_emotions <span class="sc">%&gt;%</span> </span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">c</span>(positive, negative), <span class="at">names_to =</span> <span class="st">&quot;words&quot;</span>)</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>r_np <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data =</span> reddit_emotions_pivot_2, <span class="fu">aes</span>(<span class="at">x =</span> words, <span class="at">weight =</span> value, <span class="at">fill =</span> words)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Reddit sentiments&quot;</span>)</span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>t_np</span></code></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/bar%20chart%20graph-3.png" class="img-fluid" width="672" /></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb62"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>r_np</span></code></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/bar%20chart%20graph-4.png" class="img-fluid" width="672" /></p>
</div>
</div>
<p>Overall we’re able to see that for Twitter the top three sentiments are: anticipation, joy and trust. For Reddit the top three sentiments are: trust, anticipation, and joy. This is interesting as it seems Reddit and Twitter share similar feelings about the show from a pure word count standpoint.</p>
<p>Additionally we can see there is a much higher word count for positive words for Reddit and Twitter.</p>
</section>
<section id="sentiment-new" class="level2">
<h2>Sentiment New!</h2>
<p>I also want to try another way of doing sentiment analysis. This is a packaged called sentimentR</p>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/twitter sentiment r_9b7f7caf5e00079228e0cafe6f98c3d5">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb63"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create named array of equal lengths</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>twitter_sen <span class="ot">&lt;-</span> <span class="fu">sapply</span>(twitter_lemmitized, <span class="st">&#39;[&#39;</span>, <span class="fu">seq</span>(<span class="fu">max</span>(<span class="fu">lengths</span>(twitter_lemmitized))))</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>tout <span class="ot">&lt;-</span> twitter_sen <span class="sc">%&gt;%</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">as_tibble</span>()  <span class="sc">%&gt;%</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">&quot;text&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;tokens&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">tokens =</span> <span class="fu">paste</span>(tokens, <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>))</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>tout<span class="sc">$</span>date <span class="ot">&lt;-</span> tdf_nrc<span class="sc">$</span>date</span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>tout <span class="ot">&lt;-</span> tout <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(tokens)) </span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a>tout<span class="sc">$</span>tokens <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&#39;NA&#39;</span>, <span class="st">&#39;&#39;</span>, tout<span class="sc">$</span>tokens)</span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a>twitter_sent <span class="ot">&lt;-</span> tout <span class="sc">%&gt;%</span> </span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb63-21"><a href="#cb63-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">polarity_level =</span> <span class="fu">ifelse</span>(sentiment <span class="sc">&lt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Negative&quot;</span>,</span>
<span id="cb63-22"><a href="#cb63-22" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">ifelse</span>(sentiment <span class="sc">&gt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Positive&quot;</span>,<span class="st">&quot;Neutral&quot;</span>)))  <span class="sc">%&gt;%</span> </span>
<span id="cb63-23"><a href="#cb63-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(word_count <span class="sc">&gt;</span> <span class="dv">10</span>)</span>
<span id="cb63-24"><a href="#cb63-24" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb63-25"><a href="#cb63-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-26"><a href="#cb63-26" aria-hidden="true" tabindex="-1"></a>twitter_sent<span class="sc">$</span>tokens <span class="sc">%&gt;%</span> </span>
<span id="cb63-27"><a href="#cb63-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>(<span class="at">by =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb63-28"><a href="#cb63-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>() <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb63-29"><a href="#cb63-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">highlight</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb63-30"><a href="#cb63-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">view</span>()</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Saved in /var/folders/65/1r_9cvw92l52plzl3g17621c0000gn/T//RtmpqlWW4k/polarity.html</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Opening /var/folders/65/1r_9cvw92l52plzl3g17621c0000gn/T//RtmpqlWW4k/polarity.html ...</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb66"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>twitter_sent<span class="sc">$</span>tokens <span class="sc">%&gt;%</span> </span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>(<span class="at">by =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="fu">aes</span>(ave_sentiment))</span></code></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/twitter%20sentiment%20r-1.png" class="img-fluid" width="672" /></p>
</div>
</div>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/new sentinment reddit r_8c038b8e2df29249c5ec06257428c1e0">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb67"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create named array of equal lengths</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>reddit_lemmitized<span class="sc">$</span>date <span class="ot">&lt;-</span> reddit_lemmitized<span class="sc">$</span>date</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>reddit_sen <span class="ot">&lt;-</span> <span class="fu">sapply</span>(reddit_lemmitized, <span class="st">&#39;[&#39;</span>, <span class="fu">seq</span>(<span class="fu">max</span>(<span class="fu">lengths</span>(reddit_lemmitized))))</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>rout <span class="ot">&lt;-</span> reddit_sen <span class="sc">%&gt;%</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">as_tibble</span>()  <span class="sc">%&gt;%</span></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">&quot;text&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;tokens&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>   <span class="fu">arrange</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">tokens =</span> <span class="fu">paste</span>(tokens, <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>))</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>rout<span class="sc">$</span>date <span class="ot">&lt;-</span> rdf_nrc<span class="sc">$</span>date</span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>rout <span class="ot">&lt;-</span> rout <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(tokens))  <span class="co"># remove NA values of each text</span></span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>rout<span class="sc">$</span>tokens <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&#39;NA&#39;</span>, <span class="st">&#39;&#39;</span>, rout<span class="sc">$</span>tokens)</span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a>reddit_sent <span class="ot">&lt;-</span> rout <span class="sc">%&gt;%</span> </span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">polarity_level =</span> <span class="fu">ifelse</span>(sentiment <span class="sc">&lt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Negative&quot;</span>,</span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">ifelse</span>(sentiment <span class="sc">&gt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Positive&quot;</span>,<span class="st">&quot;Neutral&quot;</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb67-25"><a href="#cb67-25" aria-hidden="true" tabindex="-1"></a> <span class="fu">filter</span>(word_count <span class="sc">&gt;</span> <span class="dv">10</span>)</span>
<span id="cb67-26"><a href="#cb67-26" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb67-27"><a href="#cb67-27" aria-hidden="true" tabindex="-1"></a>reddit_sent<span class="sc">$</span>tokens <span class="sc">%&gt;%</span> </span>
<span id="cb67-28"><a href="#cb67-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>(<span class="at">by =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb67-29"><a href="#cb67-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>() <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb67-30"><a href="#cb67-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">highlight</span>() </span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Saved in /var/folders/65/1r_9cvw92l52plzl3g17621c0000gn/T//RtmpqlWW4k/polarity.html</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Opening /var/folders/65/1r_9cvw92l52plzl3g17621c0000gn/T//RtmpqlWW4k/polarity.html ...</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb70"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>reddit_sent<span class="sc">$</span>tokens <span class="sc">%&gt;%</span> </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>() <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="fu">aes</span>(ave_sentiment))</span></code></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/new%20sentinment%20reddit%20r-1.png" class="img-fluid" width="672" /></p>
</div>
</div>
<p>Here we’re able to see what the tokens cleaned up into sentences look like to sentimentr. I had tried it originally with the full database (no changing of the words at all) and it was interesting to see the sentence_id actually count the amount of sentences! What I like about this one is it shows you the positive, negative, and neutral by highlighting it and popping up. It allows you to read the sentences to see if you agree with them or not.</p>
<p>Interestingly the overall sentiment according to this package is a bit positive but also fairly neutral by the density.</p>
<p>Unfortunately for word count in a sentence I couldn’t really filter out too many due to Twitter having a character limit. To deal with this I made a filter of at least 10 words.</p>
<p>Below you will find the non-edited data.</p>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/reddit full_444114f1f79b9d087cbadbe9a0ecf460">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb71"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>reddit_full <span class="ot">&lt;-</span> reddit <span class="sc">%&gt;%</span> </span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">polarity_level =</span> <span class="fu">ifelse</span>(sentiment <span class="sc">&lt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Negative&quot;</span>,</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">ifelse</span>(sentiment <span class="sc">&gt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Positive&quot;</span>,<span class="st">&quot;Neutral&quot;</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(word_count <span class="sc">&gt;</span> <span class="dv">10</span>)</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>reddit_full<span class="sc">$</span>text <span class="sc">%&gt;%</span> </span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>(<span class="at">by =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>() <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">highlight</span>() </span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Saved in /var/folders/65/1r_9cvw92l52plzl3g17621c0000gn/T//RtmpqlWW4k/polarity.html</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Opening /var/folders/65/1r_9cvw92l52plzl3g17621c0000gn/T//RtmpqlWW4k/polarity.html ...</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb74"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>reddit_full<span class="sc">$</span>text <span class="sc">%&gt;%</span> </span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>() <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="fu">aes</span>(ave_sentiment))</span></code></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/reddit%20full-1.png" class="img-fluid" width="672" /></p>
</div>
</div>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/twitter full_02bd5dfa15dab06709d45987f00c6da6">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb75"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>twitter_full <span class="ot">&lt;-</span> twitter <span class="sc">%&gt;%</span> </span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">polarity_level =</span> <span class="fu">ifelse</span>(sentiment <span class="sc">&lt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Negative&quot;</span>,</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">ifelse</span>(sentiment <span class="sc">&gt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Positive&quot;</span>,<span class="st">&quot;Neutral&quot;</span>)))  <span class="sc">%&gt;%</span> </span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(word_count <span class="sc">&gt;</span> <span class="dv">10</span>)</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>twitter_full<span class="sc">$</span>text <span class="sc">%&gt;%</span> </span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>(<span class="at">by =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>() <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">highlight</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">view</span>()</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Saved in /var/folders/65/1r_9cvw92l52plzl3g17621c0000gn/T//RtmpqlWW4k/polarity.html</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Opening /var/folders/65/1r_9cvw92l52plzl3g17621c0000gn/T//RtmpqlWW4k/polarity.html ...</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb78"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>twitter_full<span class="sc">$</span>text <span class="sc">%&gt;%</span> </span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>(<span class="at">by =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="fu">aes</span>(ave_sentiment))</span></code></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/twitter%20full-1.png" class="img-fluid" width="672" /></p>
</div>
</div>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/comparision_fadbbd2c446de036b532e5a83650fa00">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb79"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> twitter_full <span class="sc">%&gt;%</span> </span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span> </span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sentiment =</span> <span class="fu">mean</span>(sentiment),</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">word_count =</span> <span class="fu">sum</span>(word_count)) </span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>test2 <span class="ot">&lt;-</span> reddit_full <span class="sc">%&gt;%</span> </span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span> </span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sentiment =</span> <span class="fu">mean</span>(sentiment),</span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">word_count =</span> <span class="fu">sum</span>(word_count)) </span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>test3 <span class="ot">&lt;-</span> twitter_sent <span class="sc">%&gt;%</span> </span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span> </span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sentiment =</span> <span class="fu">mean</span>(sentiment),</span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">word_count =</span> <span class="fu">sum</span>(word_count)) </span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>test4 <span class="ot">&lt;-</span> reddit_sent <span class="sc">%&gt;%</span> </span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span> </span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sentiment =</span> <span class="fu">mean</span>(sentiment),</span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">word_count =</span> <span class="fu">sum</span>(word_count)) </span>
<span id="cb79-20"><a href="#cb79-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-21"><a href="#cb79-21" aria-hidden="true" tabindex="-1"></a>         <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb79-22"><a href="#cb79-22" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> test, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color=</span><span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test2, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span></span>
<span id="cb79-23"><a href="#cb79-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb79-24"><a href="#cb79-24" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb79-25"><a href="#cb79-25" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;#EEA2AD&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;cadetblue1&#39;</span>)) <span class="sc">+</span></span>
<span id="cb79-26"><a href="#cb79-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit average Sentiment of Uncleaned Data&quot;</span>)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/comparision-1.png" class="img-fluid" width="672" /></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb81"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>         <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> test3, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color=</span><span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test4, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit average Sentiment of Tokenized Data&quot;</span>)         </span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/comparision-2.png" class="img-fluid" width="672" /></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb83"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test4, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit Tokenized&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test3, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Twitter Tokenized&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test2, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit Uncleaned Data&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Twitter Uncleaned Data&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit Tokenized&#39;</span>, <span class="st">&#39;Twitter Tokenized&#39;</span>, <span class="st">&#39;Reddit Uncleaned Data&#39;</span>, <span class="st">&#39;Twitter Uncleaned Data&#39;</span>),</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit Tokenized&#39;</span><span class="ot">=</span><span class="st">&#39;Red&#39;</span>, <span class="st">&#39;Twitter Tokenized&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>, <span class="st">&#39;Reddit Uncleaned Data&#39;</span> <span class="ot">=</span> <span class="st">&#39;#EEA2AD&#39;</span>, <span class="st">&#39;Twitter Uncleaned Data&#39;</span> <span class="ot">=</span> <span class="st">&#39;cadetblue1&#39;</span>)) <span class="sc">+</span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit Average Sentiment&quot;</span>)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
</div>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/comparision-3.png" class="img-fluid" width="672" /></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb85"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">data =</span> test4, <span class="fu">aes</span>(sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit Tokenized&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">data =</span> test3, <span class="fu">aes</span>(sentiment, <span class="at">color =</span> <span class="st">&quot;Twitter Tokenized&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">data =</span> test2, <span class="fu">aes</span>(sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit Uncleaned Data&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">data =</span> test, <span class="fu">aes</span>(sentiment, <span class="at">color =</span> <span class="st">&quot;Twitter Uncleaned Data&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit Tokenized&#39;</span>, <span class="st">&#39;Twitter Tokenized&#39;</span>, <span class="st">&#39;Reddit Uncleaned Data&#39;</span>, <span class="st">&#39;Twitter Uncleaned Data&#39;</span>),</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit Tokenized&#39;</span><span class="ot">=</span><span class="st">&#39;Red&#39;</span>, <span class="st">&#39;Twitter Tokenized&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>, <span class="st">&#39;Reddit Uncleaned Data&#39;</span> <span class="ot">=</span> <span class="st">&#39;#EEA2AD&#39;</span>, <span class="st">&#39;Twitter Uncleaned Data&#39;</span> <span class="ot">=</span> <span class="st">&#39;cadetblue1&#39;</span>)) <span class="sc">+</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit Average Sentiment&quot;</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/comparision-4.png" class="img-fluid" width="672" /></p>
</div>
</div>
</section>
</section>
<section id="word-cloud" class="level1">
<h1>Word Cloud</h1>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/unnamed-chunk-1_3b1600c5b382950ff923927011d650f3">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb86"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(twitter_corpus_dfm, <span class="at">max_words=</span><span class="dv">200</span>, <span class="at">color=</span><span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid" width="672" /></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb87"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(reddit_corpus_dfm, <span class="at">max_words=</span><span class="dv">200</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/unnamed-chunk-1-2.png" class="img-fluid" width="672" /></p>
</div>
</div>
</section>
<section id="stm-new" class="level1">
<h1>STM New!</h1>
<p>Below I will have the STM for both reddit and twitter. This time I have added two prevalance items, polarity and dates.</p>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/stm reddit_e43aa656ada515f1a4bc431be5d8f8ec">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb88"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="dv">25</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>rModel <span class="ot">&lt;-</span> <span class="fu">dfm</span>(reddit_lemmitized)</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(reddit_lemmitized) <span class="ot">&lt;-</span> rModel</span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>rModel<span class="sc">$</span>polarity <span class="ot">&lt;-</span> rdf_nrc<span class="sc">$</span>polarity</span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>rModel <span class="ot">&lt;-</span> <span class="fu">stm</span>(rModel,</span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">K =</span> k,</span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">prevalence =</span> <span class="sc">~</span> polarity <span class="sc">+</span> date,</span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">max.em.its =</span> <span class="dv">1000</span>,</span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">seed =</span> <span class="dv">1234</span>,</span>
<span id="cb88-13"><a href="#cb88-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">init.type =</span> <span class="st">&quot;Spectral&quot;</span>)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in dfm2stm(x, docvars, omit_empty = TRUE): Dropped empty document(s):
text240, text459, text800, text1726, text2722, text2723, text3049, text3388,
text3790, text4268, text4653, text4658, text4886, text5437, text5520, text9213,
text9500</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Beginning Spectral Initialization 
     Calculating the gram matrix...
     Using only 10000 most frequent terms during initialization...
     Finding anchor words...
    .........................
     Recovering initialization...
    ...................................................................................................
Initialization complete.
....................................................................................................
Completed E-Step (7 seconds). 
Completed M-Step. 
Completing Iteration 1 (approx. per word bound = -7.297) 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 2 (approx. per word bound = -7.135, relative change = 2.227e-02) 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 3 (approx. per word bound = -7.056, relative change = 1.100e-02) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 4 (approx. per word bound = -7.013, relative change = 6.165e-03) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 5 (approx. per word bound = -6.983, relative change = 4.178e-03) 
Topic 1: can, know, translation, just, feel 
 Topic 2: big, woman, man, japan, issue 
 Topic 3: show, think, love, see, reality 
 Topic 4: version, us, one, love, lib 
 Topic 5: mori, minami, say, watch, show 
 Topic 6: wed, like, ring, style, get 
 Topic 7: japan, like, thing, see, will 
 Topic 8: make, look, feel, couple, show 
 Topic 9: think, want, take, tell, episode 
 Topic 10: point, good, way, like, thing 
 Topic 11: ryotaro, motomi, thank, relationship, say 
 Topic 12: friend, love, feel, wataru, see 
 Topic 13: look, good, think, like, someone 
 Topic 14: like, think, people, also, make 
 Topic 15: girl, good, shuntaro, still, say 
 Topic 16: go, say, just, need, know 
 Topic 17: say, hair, ask, just, look 
 Topic 18: english, thing, speak, like, make 
 Topic 19: japanese, also, want, japan, good 
 Topic 20: happy, just, lol, couple, get 
 Topic 21: mean, say, yes, get, dream 
 Topic 22: like, get, marry, miss, want 
 Topic 23: think, like, work, business, make 
 Topic 24: people, just, like, time, show 
 Topic 25: like, just, really, good, feel 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 6 (approx. per word bound = -6.962, relative change = 3.009e-03) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 7 (approx. per word bound = -6.947, relative change = 2.183e-03) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 8 (approx. per word bound = -6.936, relative change = 1.634e-03) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 9 (approx. per word bound = -6.927, relative change = 1.257e-03) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 10 (approx. per word bound = -6.920, relative change = 9.765e-04) 
Topic 1: can, translation, know, say, word 
 Topic 2: woman, man, big, japan, guy 
 Topic 3: show, reality, think, tv, see 
 Topic 4: us, version, watch, love, lib 
 Topic 5: mori, minami, want, say, like 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, people, common, thing 
 Topic 8: make, feel, get, couple, like 
 Topic 9: think, tell, want, like, take 
 Topic 10: point, way, thing, good, weird 
 Topic 11: thank, ryotaro, motomi, relationship, together 
 Topic 12: wataru, friend, midori, love, see 
 Topic 13: look, good, think, find, like 
 Topic 14: like, think, ayano, seem, people 
 Topic 15: girl, pretty, cast, still, young 
 Topic 16: go, say, just, know, will 
 Topic 17: hair, ask, question, priya, say 
 Topic 18: speak, english, thing, sound, like 
 Topic 19: japanese, also, japan, live, culture 
 Topic 20: couple, lol, happy, post, just 
 Topic 21: mean, yes, say, dream, family 
 Topic 22: marry, get, like, house, miss 
 Topic 23: work, think, business, like, mizuki 
 Topic 24: people, just, time, take, even 
 Topic 25: just, like, really, good, can 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 11 (approx. per word bound = -6.915, relative change = 7.573e-04) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 12 (approx. per word bound = -6.911, relative change = 5.842e-04) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 13 (approx. per word bound = -6.908, relative change = 4.670e-04) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 14 (approx. per word bound = -6.905, relative change = 3.923e-04) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 15 (approx. per word bound = -6.903, relative change = 3.454e-04) 
Topic 1: word, say, translation, can, use 
 Topic 2: woman, man, big, old, guy 
 Topic 3: show, reality, tv, think, see 
 Topic 4: us, watch, love, version, lib 
 Topic 5: mori, minami, want, say, like 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, people, physical, attraction, common 
 Topic 8: make, feel, get, cute, age 
 Topic 9: think, tell, want, just, like 
 Topic 10: point, gt, weird, way, thing 
 Topic 11: thank, ryotaro, motomi, relationship, hope 
 Topic 12: wataru, midori, friend, love, misaki 
 Topic 13: good, look, think, find, like 
 Topic 14: like, think, seem, ayano, shuntaro 
 Topic 15: girl, pretty, cast, call, young 
 Topic 16: go, say, just, know, will 
 Topic 17: ask, hair, question, priya, just 
 Topic 18: speak, english, thing, talk, like 
 Topic 19: japanese, japan, culture, live, also 
 Topic 20: couple, lol, episode, happy, post 
 Topic 21: yes, mean, say, family, dream 
 Topic 22: get, marry, house, know, like 
 Topic 23: work, think, business, mizuki, like 
 Topic 24: people, time, just, take, even 
 Topic 25: just, can, really, feel, like 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 16 (approx. per word bound = -6.901, relative change = 2.972e-04) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 17 (approx. per word bound = -6.899, relative change = 2.391e-04) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 18 (approx. per word bound = -6.898, relative change = 2.098e-04) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 19 (approx. per word bound = -6.896, relative change = 1.995e-04) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 20 (approx. per word bound = -6.895, relative change = 1.801e-04) 
Topic 1: word, say, use, translation, can 
 Topic 2: woman, man, big, old, guy 
 Topic 3: show, reality, tv, edit, see 
 Topic 4: us, watch, love, version, lib 
 Topic 5: mori, minami, want, say, change 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: people, japan, physical, attraction, common 
 Topic 8: make, feel, get, cute, age 
 Topic 9: think, tell, just, want, try 
 Topic 10: gt, point, weird, comment, thing 
 Topic 11: thank, ryotaro, motomi, hope, relationship 
 Topic 12: midori, wataru, friend, misaki, love 
 Topic 13: good, look, think, find, like 
 Topic 14: like, seem, think, ayano, shuntaro 
 Topic 15: girl, pretty, voice, call, forget 
 Topic 16: go, say, just, know, will 
 Topic 17: ask, hair, question, priya, answer 
 Topic 18: speak, talk, english, thing, like 
 Topic 19: japanese, culture, japan, live, also 
 Topic 20: couple, lol, episode, happy, together 
 Topic 21: yes, mean, say, family, dream 
 Topic 22: get, marry, know, house, still 
 Topic 23: business, think, mizuki, work, marriage 
 Topic 24: people, time, just, take, see 
 Topic 25: can, just, feel, really, thing 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 21 (approx. per word bound = -6.894, relative change = 1.607e-04) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 22 (approx. per word bound = -6.893, relative change = 1.459e-04) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 23 (approx. per word bound = -6.892, relative change = 1.262e-04) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 24 (approx. per word bound = -6.891, relative change = 1.139e-04) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 25 (approx. per word bound = -6.890, relative change = 1.076e-04) 
Topic 1: word, say, use, translation, can 
 Topic 2: woman, man, old, big, year 
 Topic 3: show, reality, tv, edit, see 
 Topic 4: watch, us, love, version, lib 
 Topic 5: mori, minami, want, say, change 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: people, japan, physical, attraction, common 
 Topic 8: make, feel, much, age, cute 
 Topic 9: tell, think, just, try, want 
 Topic 10: gt, point, comment, weird, scene 
 Topic 11: thank, ryotaro, motomi, hope, love 
 Topic 12: midori, wataru, friend, misaki, kaoru 
 Topic 13: good, look, think, find, guy 
 Topic 14: like, seem, think, feel, ayano 
 Topic 15: girl, voice, pretty, call, remember 
 Topic 16: go, say, just, know, end 
 Topic 17: ask, hair, question, priya, answer 
 Topic 18: speak, talk, english, thing, sound 
 Topic 19: japanese, culture, japan, live, also 
 Topic 20: couple, lol, episode, together, happy 
 Topic 21: yes, mean, say, family, give 
 Topic 22: get, marry, know, maybe, house 
 Topic 23: business, mizuki, think, plan, money 
 Topic 24: people, time, just, take, see 
 Topic 25: can, partner, able, work, thing 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 26 (approx. per word bound = -6.890, relative change = 9.674e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 27 (approx. per word bound = -6.889, relative change = 8.652e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 28 (approx. per word bound = -6.889, relative change = 8.545e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 29 (approx. per word bound = -6.888, relative change = 7.817e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 30 (approx. per word bound = -6.887, relative change = 7.407e-05) 
Topic 1: use, say, word, translation, can 
 Topic 2: woman, man, old, big, year 
 Topic 3: show, reality, tv, edit, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: mori, want, minami, say, career 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: people, japan, physical, attraction, common 
 Topic 8: make, much, age, pod, feel 
 Topic 9: tell, think, try, just, something 
 Topic 10: gt, point, comment, weird, scene 
 Topic 11: thank, hope, ryotaro, motomi, love 
 Topic 12: midori, wataru, friend, misaki, kaoru 
 Topic 13: good, think, look, find, agree 
 Topic 14: like, seem, feel, think, ayano 
 Topic 15: girl, voice, remember, call, forget 
 Topic 16: go, say, just, know, end 
 Topic 17: ask, hair, question, priya, answer 
 Topic 18: talk, speak, english, sound, thing 
 Topic 19: japanese, culture, japan, live, also 
 Topic 20: couple, lol, episode, together, happy 
 Topic 21: yes, mean, say, family, give 
 Topic 22: get, marry, know, maybe, right 
 Topic 23: business, mizuki, think, lie, plan 
 Topic 24: people, time, just, take, see 
 Topic 25: can, partner, able, work, thing 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 31 (approx. per word bound = -6.887, relative change = 7.638e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 32 (approx. per word bound = -6.886, relative change = 9.379e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 33 (approx. per word bound = -6.886, relative change = 8.288e-05) 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 34 (approx. per word bound = -6.885, relative change = 6.460e-05) 
....................................................................................................
Completed E-Step (6 seconds). 
Completed M-Step. 
Completing Iteration 35 (approx. per word bound = -6.885, relative change = 5.316e-05) 
Topic 1: use, say, word, translation, can 
 Topic 2: woman, man, old, big, year 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: mori, want, minami, say, career 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, people, physical, attraction, common 
 Topic 8: make, much, age, pod, see 
 Topic 9: tell, think, try, just, something 
 Topic 10: gt, comment, point, weird, scene 
 Topic 11: thank, hope, ryotaro, motomi, love 
 Topic 12: midori, wataru, friend, kaoru, misaki 
 Topic 13: good, think, look, find, agree 
 Topic 14: like, seem, feel, really, think 
 Topic 15: girl, remember, voice, call, forget 
 Topic 16: go, say, just, know, end 
 Topic 17: ask, hair, question, priya, answer 
 Topic 18: talk, speak, english, sound, thing 
 Topic 19: japanese, culture, japan, live, also 
 Topic 20: couple, lol, episode, together, happy 
 Topic 21: yes, mean, say, family, give 
 Topic 22: get, marry, know, maybe, right 
 Topic 23: business, mizuki, lie, think, plan 
 Topic 24: people, time, just, take, see 
 Topic 25: can, partner, able, relationship, work 
....................................................................................................
Completed E-Step (10 seconds). 
Completed M-Step. 
Completing Iteration 36 (approx. per word bound = -6.885, relative change = 4.923e-05) 
....................................................................................................
Completed E-Step (6 seconds). 
Completed M-Step. 
Completing Iteration 37 (approx. per word bound = -6.884, relative change = 4.968e-05) 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 38 (approx. per word bound = -6.884, relative change = 5.363e-05) 
....................................................................................................
Completed E-Step (11 seconds). 
Completed M-Step. 
Completing Iteration 39 (approx. per word bound = -6.884, relative change = 5.038e-05) 
....................................................................................................
Completed E-Step (13 seconds). 
Completed M-Step. 
Completing Iteration 40 (approx. per word bound = -6.883, relative change = 4.642e-05) 
Topic 1: use, say, word, translation, can 
 Topic 2: woman, man, old, year, big 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: want, mori, minami, say, career 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, people, physical, attraction, common 
 Topic 8: make, much, age, pod, see 
 Topic 9: tell, think, try, just, something 
 Topic 10: gt, comment, point, weird, scene 
 Topic 11: hope, thank, love, ryotaro, motomi 
 Topic 12: midori, wataru, friend, kaoru, misaki 
 Topic 13: good, think, look, find, agree 
 Topic 14: like, feel, seem, really, ayano 
 Topic 15: girl, remember, voice, forget, call 
 Topic 16: go, say, just, know, end 
 Topic 17: ask, hair, question, priya, answer 
 Topic 18: talk, speak, english, sound, thing 
 Topic 19: japanese, culture, japan, live, asian 
 Topic 20: couple, lol, episode, together, happy 
 Topic 21: yes, mean, say, family, give 
 Topic 22: get, marry, know, maybe, right 
 Topic 23: business, mizuki, lie, think, plan 
 Topic 24: people, time, just, see, take 
 Topic 25: can, partner, relationship, work, thing 
....................................................................................................
Completed E-Step (13 seconds). 
Completed M-Step. 
Completing Iteration 41 (approx. per word bound = -6.883, relative change = 4.319e-05) 
....................................................................................................
Completed E-Step (6 seconds). 
Completed M-Step. 
Completing Iteration 42 (approx. per word bound = -6.883, relative change = 4.417e-05) 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 43 (approx. per word bound = -6.882, relative change = 4.848e-05) 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 44 (approx. per word bound = -6.882, relative change = 4.685e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 45 (approx. per word bound = -6.882, relative change = 4.193e-05) 
Topic 1: use, say, word, translation, understand 
 Topic 2: woman, man, old, year, young 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: want, mori, minami, say, dream 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, people, attraction, common 
 Topic 8: make, much, pod, age, see 
 Topic 9: tell, think, try, just, something 
 Topic 10: gt, comment, point, weird, scene 
 Topic 11: love, hope, thank, ryotaro, motomi 
 Topic 12: midori, wataru, friend, kaoru, misaki 
 Topic 13: think, good, look, find, agree 
 Topic 14: like, feel, seem, really, ayano 
 Topic 15: girl, remember, voice, forget, notice 
 Topic 16: go, say, just, know, end 
 Topic 17: ask, hair, question, answer, mention 
 Topic 18: talk, speak, english, sound, thing 
 Topic 19: japanese, culture, japan, live, asian 
 Topic 20: couple, lol, episode, together, see 
 Topic 21: yes, mean, say, family, give 
 Topic 22: get, marry, know, maybe, right 
 Topic 23: business, mizuki, lie, priya, think 
 Topic 24: people, time, see, take, just 
 Topic 25: relationship, can, partner, work, thing 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 46 (approx. per word bound = -6.881, relative change = 4.013e-05) 
....................................................................................................
Completed E-Step (7 seconds). 
Completed M-Step. 
Completing Iteration 47 (approx. per word bound = -6.881, relative change = 4.279e-05) 
....................................................................................................
Completed E-Step (7 seconds). 
Completed M-Step. 
Completing Iteration 48 (approx. per word bound = -6.881, relative change = 4.420e-05) 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 49 (approx. per word bound = -6.880, relative change = 4.704e-05) 
....................................................................................................
Completed E-Step (7 seconds). 
Completed M-Step. 
Completing Iteration 50 (approx. per word bound = -6.880, relative change = 4.813e-05) 
Topic 1: use, say, word, translation, understand 
 Topic 2: woman, man, old, year, young 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: want, mori, minami, say, dream 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, people, attraction, common 
 Topic 8: make, much, pod, age, big 
 Topic 9: tell, think, try, just, something 
 Topic 10: comment, gt, point, weird, bite 
 Topic 11: love, hope, thank, ryotaro, motomi 
 Topic 12: midori, wataru, friend, kaoru, misaki 
 Topic 13: think, good, look, find, agree 
 Topic 14: like, feel, seem, really, ayano 
 Topic 15: girl, remember, voice, notice, forget 
 Topic 16: say, go, just, know, want 
 Topic 17: ask, hair, question, answer, mention 
 Topic 18: talk, speak, english, sound, thing 
 Topic 19: japanese, japan, culture, live, asian 
 Topic 20: couple, lol, episode, together, one 
 Topic 21: yes, mean, say, give, family 
 Topic 22: get, marry, know, maybe, right 
 Topic 23: priya, mizuki, business, lie, think 
 Topic 24: people, time, see, take, just 
 Topic 25: relationship, can, partner, will, work 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 51 (approx. per word bound = -6.880, relative change = 4.593e-05) 
....................................................................................................
Completed E-Step (7 seconds). 
Completed M-Step. 
Completing Iteration 52 (approx. per word bound = -6.880, relative change = 4.070e-05) 
....................................................................................................
Completed E-Step (10 seconds). 
Completed M-Step. 
Completing Iteration 53 (approx. per word bound = -6.879, relative change = 3.717e-05) 
....................................................................................................
Completed E-Step (16 seconds). 
Completed M-Step. 
Completing Iteration 54 (approx. per word bound = -6.879, relative change = 3.928e-05) 
....................................................................................................
Completed E-Step (13 seconds). 
Completed M-Step. 
Completing Iteration 55 (approx. per word bound = -6.879, relative change = 3.801e-05) 
Topic 1: use, say, word, translation, understand 
 Topic 2: woman, man, old, year, young 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: want, mori, minami, say, dream 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, people, attraction, common 
 Topic 8: make, much, pod, age, big 
 Topic 9: tell, think, try, just, bad 
 Topic 10: comment, gt, point, weird, bite 
 Topic 11: love, hope, thank, ryotaro, motomi 
 Topic 12: midori, wataru, friend, kaoru, great 
 Topic 13: think, good, look, find, agree 
 Topic 14: like, feel, seem, really, ayano 
 Topic 15: girl, remember, voice, notice, forget 
 Topic 16: say, go, just, know, want 
 Topic 17: ask, hair, question, mention, answer 
 Topic 18: talk, speak, english, sound, thing 
 Topic 19: japanese, japan, culture, live, asian 
 Topic 20: couple, lol, episode, together, one 
 Topic 21: yes, mean, say, give, little 
 Topic 22: get, marry, know, maybe, right 
 Topic 23: priya, mizuki, business, lie, think 
 Topic 24: people, time, see, take, just 
 Topic 25: relationship, can, partner, will, work 
....................................................................................................
Completed E-Step (18 seconds). 
Completed M-Step. 
Completing Iteration 56 (approx. per word bound = -6.879, relative change = 3.092e-05) 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 57 (approx. per word bound = -6.878, relative change = 2.789e-05) 
....................................................................................................
Completed E-Step (9 seconds). 
Completed M-Step. 
Completing Iteration 58 (approx. per word bound = -6.878, relative change = 2.460e-05) 
....................................................................................................
Completed E-Step (10 seconds). 
Completed M-Step. 
Completing Iteration 59 (approx. per word bound = -6.878, relative change = 2.197e-05) 
....................................................................................................
Completed E-Step (6 seconds). 
Completed M-Step. 
Completing Iteration 60 (approx. per word bound = -6.878, relative change = 2.242e-05) 
Topic 1: use, say, word, translation, understand 
 Topic 2: woman, man, old, year, young 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: want, mori, minami, say, dream 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, people, attraction, common 
 Topic 8: make, much, pod, age, big 
 Topic 9: tell, think, try, just, bad 
 Topic 10: comment, gt, point, weird, bite 
 Topic 11: love, hope, thank, ryotaro, motomi 
 Topic 12: midori, wataru, friend, great, kaoru 
 Topic 13: think, good, look, find, agree 
 Topic 14: like, feel, seem, really, ayano 
 Topic 15: girl, remember, voice, notice, forget 
 Topic 16: say, go, just, know, want 
 Topic 17: ask, hair, question, mention, answer 
 Topic 18: talk, speak, english, sound, make 
 Topic 19: japanese, japan, culture, live, american 
 Topic 20: couple, lol, together, episode, one 
 Topic 21: yes, mean, give, sure, little 
 Topic 22: get, marry, know, maybe, right 
 Topic 23: priya, mizuki, business, lie, plan 
 Topic 24: people, time, see, take, just 
 Topic 25: relationship, can, partner, will, work 
....................................................................................................
Completed E-Step (6 seconds). 
Completed M-Step. 
Completing Iteration 61 (approx. per word bound = -6.878, relative change = 2.310e-05) 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 62 (approx. per word bound = -6.878, relative change = 2.329e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 63 (approx. per word bound = -6.877, relative change = 2.562e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 64 (approx. per word bound = -6.877, relative change = 2.490e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 65 (approx. per word bound = -6.877, relative change = 2.071e-05) 
Topic 1: use, say, word, understand, read 
 Topic 2: woman, man, old, year, young 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: want, mori, minami, say, dream 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, people, attraction, common 
 Topic 8: make, much, pod, big, age 
 Topic 9: tell, think, try, bad, just 
 Topic 10: comment, gt, point, weird, bite 
 Topic 11: love, hope, thank, ryotaro, motomi 
 Topic 12: midori, wataru, friend, great, kaoru 
 Topic 13: think, good, look, find, agree 
 Topic 14: like, feel, seem, really, ayano 
 Topic 15: girl, remember, voice, notice, forget 
 Topic 16: say, go, just, want, know 
 Topic 17: ask, hair, question, mention, answer 
 Topic 18: talk, speak, english, sound, make 
 Topic 19: japanese, japan, culture, live, american 
 Topic 20: couple, lol, together, episode, one 
 Topic 21: yes, mean, sure, give, may 
 Topic 22: get, know, marry, maybe, right 
 Topic 23: priya, mizuki, business, lie, plan 
 Topic 24: people, time, see, take, just 
 Topic 25: relationship, can, partner, will, feeling 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 66 (approx. per word bound = -6.877, relative change = 1.894e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 67 (approx. per word bound = -6.877, relative change = 1.919e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 68 (approx. per word bound = -6.877, relative change = 1.919e-05) 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 69 (approx. per word bound = -6.877, relative change = 1.731e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 70 (approx. per word bound = -6.876, relative change = 1.608e-05) 
Topic 1: use, say, word, understand, read 
 Topic 2: woman, man, old, year, young 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: mori, want, minami, say, dream 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, attraction, people, common 
 Topic 8: make, much, pod, big, age 
 Topic 9: tell, think, try, bad, just 
 Topic 10: comment, gt, point, weird, bite 
 Topic 11: love, hope, thank, ryotaro, motomi 
 Topic 12: midori, wataru, friend, great, kaoru 
 Topic 13: think, good, look, find, agree 
 Topic 14: like, feel, really, seem, ayano 
 Topic 15: girl, remember, voice, notice, forget 
 Topic 16: say, go, just, want, know 
 Topic 17: ask, hair, question, mention, answer 
 Topic 18: talk, speak, english, sound, make 
 Topic 19: japanese, japan, culture, live, american 
 Topic 20: couple, lol, together, episode, one 
 Topic 21: yes, mean, sure, may, give 
 Topic 22: get, know, marry, maybe, right 
 Topic 23: priya, mizuki, business, lie, plan 
 Topic 24: people, time, see, take, lot 
 Topic 25: relationship, can, will, partner, feeling 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 71 (approx. per word bound = -6.876, relative change = 1.704e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 72 (approx. per word bound = -6.876, relative change = 1.729e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 73 (approx. per word bound = -6.876, relative change = 1.586e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 74 (approx. per word bound = -6.876, relative change = 1.436e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 75 (approx. per word bound = -6.876, relative change = 1.447e-05) 
Topic 1: use, say, word, understand, read 
 Topic 2: woman, man, old, year, young 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: mori, want, minami, say, dream 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, attraction, people, common 
 Topic 8: make, much, pod, big, age 
 Topic 9: tell, think, try, bad, just 
 Topic 10: comment, gt, point, bite, weird 
 Topic 11: love, hope, thank, ryotaro, motomi 
 Topic 12: midori, wataru, friend, great, kaoru 
 Topic 13: think, good, look, find, agree 
 Topic 14: like, feel, really, seem, ayano 
 Topic 15: girl, remember, voice, notice, forget 
 Topic 16: say, go, just, want, know 
 Topic 17: ask, hair, question, answer, mention 
 Topic 18: talk, speak, english, sound, make 
 Topic 19: japanese, japan, culture, live, american 
 Topic 20: couple, lol, together, episode, one 
 Topic 21: yes, mean, may, sure, give 
 Topic 22: get, know, marry, maybe, right 
 Topic 23: priya, mizuki, business, lie, plan 
 Topic 24: people, time, see, take, lot 
 Topic 25: relationship, can, will, partner, feeling 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 76 (approx. per word bound = -6.876, relative change = 1.632e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 77 (approx. per word bound = -6.876, relative change = 1.840e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 78 (approx. per word bound = -6.876, relative change = 2.061e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 79 (approx. per word bound = -6.875, relative change = 1.795e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 80 (approx. per word bound = -6.875, relative change = 2.038e-05) 
Topic 1: use, say, word, understand, read 
 Topic 2: woman, man, old, year, young 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: mori, want, minami, say, dream 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, attraction, people, common 
 Topic 8: make, much, pod, big, age 
 Topic 9: tell, think, bad, try, just 
 Topic 10: comment, gt, point, bite, weird 
 Topic 11: love, hope, thank, ryotaro, motomi 
 Topic 12: midori, wataru, friend, great, kaoru 
 Topic 13: think, good, look, find, guy 
 Topic 14: like, feel, really, seem, ayano 
 Topic 15: girl, remember, voice, notice, forget 
 Topic 16: say, just, go, want, even 
 Topic 17: ask, hair, question, answer, mention 
 Topic 18: talk, speak, english, sound, make 
 Topic 19: japanese, japan, culture, live, american 
 Topic 20: couple, lol, together, episode, one 
 Topic 21: yes, mean, may, sure, give 
 Topic 22: get, know, marry, maybe, right 
 Topic 23: priya, mizuki, business, lie, plan 
 Topic 24: people, time, see, take, lot 
 Topic 25: relationship, can, will, partner, feeling 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 81 (approx. per word bound = -6.875, relative change = 2.230e-05) 
....................................................................................................
Completed E-Step (10 seconds). 
Completed M-Step. 
Completing Iteration 82 (approx. per word bound = -6.875, relative change = 2.111e-05) 
....................................................................................................
Completed E-Step (29 seconds). 
Completed M-Step. 
Completing Iteration 83 (approx. per word bound = -6.875, relative change = 2.280e-05) 
....................................................................................................
Completed E-Step (8 seconds). 
Completed M-Step. 
Completing Iteration 84 (approx. per word bound = -6.875, relative change = 2.405e-05) 
....................................................................................................
Completed E-Step (7 seconds). 
Completed M-Step. 
Completing Iteration 85 (approx. per word bound = -6.874, relative change = 2.405e-05) 
Topic 1: use, say, word, understand, read 
 Topic 2: woman, man, old, year, young 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: mori, want, minami, say, dream 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, attraction, people, common 
 Topic 8: make, much, pod, big, age 
 Topic 9: tell, think, bad, try, just 
 Topic 10: comment, gt, point, bite, weird 
 Topic 11: love, hope, thank, ryotaro, motomi 
 Topic 12: midori, wataru, friend, great, kaoru 
 Topic 13: think, good, look, find, guy 
 Topic 14: like, feel, really, seem, ayano 
 Topic 15: girl, remember, voice, notice, forget 
 Topic 16: say, just, go, want, even 
 Topic 17: ask, hair, question, answer, mention 
 Topic 18: talk, speak, english, sound, make 
 Topic 19: japanese, japan, culture, live, american 
 Topic 20: couple, together, lol, episode, one 
 Topic 21: yes, may, mean, sure, give 
 Topic 22: get, know, marry, maybe, right 
 Topic 23: priya, mizuki, business, lie, plan 
 Topic 24: people, time, see, take, lot 
 Topic 25: relationship, can, will, partner, someone 
....................................................................................................
Completed E-Step (7 seconds). 
Completed M-Step. 
Completing Iteration 86 (approx. per word bound = -6.874, relative change = 2.284e-05) 
....................................................................................................
Completed E-Step (7 seconds). 
Completed M-Step. 
Completing Iteration 87 (approx. per word bound = -6.874, relative change = 2.163e-05) 
....................................................................................................
Completed E-Step (6 seconds). 
Completed M-Step. 
Completing Iteration 88 (approx. per word bound = -6.874, relative change = 2.014e-05) 
....................................................................................................
Completed E-Step (7 seconds). 
Completed M-Step. 
Completing Iteration 89 (approx. per word bound = -6.874, relative change = 2.097e-05) 
....................................................................................................
Completed E-Step (6 seconds). 
Completed M-Step. 
Completing Iteration 90 (approx. per word bound = -6.874, relative change = 1.991e-05) 
Topic 1: use, say, word, understand, read 
 Topic 2: woman, man, old, year, young 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: mori, want, minami, say, dream 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, attraction, people, common 
 Topic 8: make, much, pod, big, work 
 Topic 9: tell, think, bad, try, need 
 Topic 10: gt, comment, point, bite, weird 
 Topic 11: love, hope, ryotaro, motomi, thank 
 Topic 12: midori, wataru, friend, great, kaoru 
 Topic 13: think, good, look, find, guy 
 Topic 14: like, feel, really, seem, ayano 
 Topic 15: girl, remember, voice, notice, forget 
 Topic 16: say, just, go, want, even 
 Topic 17: ask, hair, question, answer, mention 
 Topic 18: talk, speak, english, sound, make 
 Topic 19: japanese, japan, culture, live, american 
 Topic 20: couple, together, lol, episode, one 
 Topic 21: yes, may, mean, sure, give 
 Topic 22: get, know, marry, maybe, right 
 Topic 23: priya, mizuki, business, lie, plan 
 Topic 24: people, time, see, take, lot 
 Topic 25: relationship, can, will, partner, someone 
....................................................................................................
Completed E-Step (7 seconds). 
Completed M-Step. 
Completing Iteration 91 (approx. per word bound = -6.874, relative change = 2.133e-05) 
....................................................................................................
Completed E-Step (6 seconds). 
Completed M-Step. 
Completing Iteration 92 (approx. per word bound = -6.873, relative change = 2.237e-05) 
....................................................................................................
Completed E-Step (7 seconds). 
Completed M-Step. 
Completing Iteration 93 (approx. per word bound = -6.873, relative change = 2.511e-05) 
....................................................................................................
Completed E-Step (11 seconds). 
Completed M-Step. 
Completing Iteration 94 (approx. per word bound = -6.873, relative change = 3.206e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 95 (approx. per word bound = -6.873, relative change = 3.355e-05) 
Topic 1: use, say, word, understand, read 
 Topic 2: woman, man, old, year, young 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: mori, want, minami, say, dream 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, attraction, people, common 
 Topic 8: make, much, pod, big, work 
 Topic 9: tell, think, bad, try, need 
 Topic 10: gt, comment, point, post, bite 
 Topic 11: love, hope, ryotaro, motomi, thank 
 Topic 12: midori, wataru, great, friend, kaoru 
 Topic 13: think, good, look, find, guy 
 Topic 14: like, feel, really, seem, ayano 
 Topic 15: girl, remember, voice, notice, forget 
 Topic 16: say, just, go, want, even 
 Topic 17: ask, hair, question, answer, mention 
 Topic 18: talk, speak, english, sound, make 
 Topic 19: japanese, japan, culture, live, american 
 Topic 20: couple, together, one, episode, lol 
 Topic 21: yes, may, mean, sure, give 
 Topic 22: get, know, marry, maybe, right 
 Topic 23: priya, mizuki, business, lie, plan 
 Topic 24: people, time, see, take, lot 
 Topic 25: relationship, will, can, partner, someone 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 96 (approx. per word bound = -6.873, relative change = 1.777e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 97 (approx. per word bound = -6.873, relative change = 1.389e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 98 (approx. per word bound = -6.873, relative change = 1.392e-05) 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 99 (approx. per word bound = -6.872, relative change = 1.578e-05) 
....................................................................................................
Completed E-Step (6 seconds). 
Completed M-Step. 
Completing Iteration 100 (approx. per word bound = -6.872, relative change = 1.844e-05) 
Topic 1: use, say, word, understand, read 
 Topic 2: woman, man, old, year, young 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: mori, want, minami, say, dream 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, attraction, people, common 
 Topic 8: make, much, pod, big, work 
 Topic 9: think, tell, bad, try, need 
 Topic 10: gt, comment, post, point, weird 
 Topic 11: love, hope, ryotaro, motomi, thank 
 Topic 12: midori, wataru, great, friend, kaoru 
 Topic 13: think, good, look, find, guy 
 Topic 14: like, feel, really, seem, ayano 
 Topic 15: girl, remember, voice, notice, forget 
 Topic 16: say, just, go, want, even 
 Topic 17: ask, hair, question, answer, mention 
 Topic 18: talk, speak, english, sound, make 
 Topic 19: japanese, japan, culture, live, american 
 Topic 20: couple, together, one, episode, lol 
 Topic 21: yes, may, mean, sure, give 
 Topic 22: get, know, marry, maybe, still 
 Topic 23: priya, mizuki, business, lie, plan 
 Topic 24: people, time, see, take, lot 
 Topic 25: relationship, will, can, partner, someone 
....................................................................................................
Completed E-Step (9 seconds). 
Completed M-Step. 
Completing Iteration 101 (approx. per word bound = -6.872, relative change = 1.959e-05) 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 102 (approx. per word bound = -6.872, relative change = 2.200e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 103 (approx. per word bound = -6.872, relative change = 2.013e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 104 (approx. per word bound = -6.872, relative change = 1.682e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 105 (approx. per word bound = -6.872, relative change = 1.440e-05) 
Topic 1: thank, use, say, word, understand 
 Topic 2: woman, man, old, year, young 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: mori, want, minami, say, dream 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, attraction, people, common 
 Topic 8: make, much, pod, big, work 
 Topic 9: think, tell, bad, try, need 
 Topic 10: gt, comment, post, point, weird 
 Topic 11: love, hope, ryotaro, motomi, cute 
 Topic 12: midori, wataru, great, friend, kaoru 
 Topic 13: think, good, look, find, guy 
 Topic 14: like, feel, really, seem, ayano 
 Topic 15: girl, remember, voice, notice, forget 
 Topic 16: say, just, go, want, even 
 Topic 17: ask, hair, question, answer, mention 
 Topic 18: talk, speak, english, sound, make 
 Topic 19: japanese, japan, culture, live, american 
 Topic 20: couple, one, together, episode, lol 
 Topic 21: yes, may, mean, give, sure 
 Topic 22: get, know, marry, maybe, still 
 Topic 23: priya, mizuki, business, lie, plan 
 Topic 24: people, time, see, take, lot 
 Topic 25: relationship, will, can, partner, someone 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 106 (approx. per word bound = -6.872, relative change = 1.328e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 107 (approx. per word bound = -6.871, relative change = 1.176e-05) 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 108 (approx. per word bound = -6.871, relative change = 1.083e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 109 (approx. per word bound = -6.871, relative change = 1.046e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 110 (approx. per word bound = -6.871, relative change = 1.207e-05) 
Topic 1: thank, use, say, word, understand 
 Topic 2: woman, man, old, year, young 
 Topic 3: show, reality, edit, tv, also 
 Topic 4: watch, us, love, version, lib 
 Topic 5: mori, want, minami, say, dream 
 Topic 6: wed, style, ring, wear, dress 
 Topic 7: japan, physical, attraction, people, common 
 Topic 8: make, much, pod, big, work 
 Topic 9: think, tell, bad, try, need 
 Topic 10: gt, comment, post, point, weird 
 Topic 11: love, hope, ryotaro, motomi, cute 
 Topic 12: midori, wataru, great, friend, kaoru 
 Topic 13: think, good, look, find, guy 
 Topic 14: like, feel, really, seem, ayano 
 Topic 15: girl, remember, voice, notice, forget 
 Topic 16: say, just, go, want, even 
 Topic 17: ask, hair, question, answer, mention 
 Topic 18: talk, speak, english, sound, language 
 Topic 19: japanese, japan, culture, live, american 
 Topic 20: couple, one, together, episode, lol 
 Topic 21: yes, may, mean, give, sure 
 Topic 22: get, know, marry, maybe, still 
 Topic 23: priya, mizuki, business, lie, plan 
 Topic 24: people, time, see, take, lot 
 Topic 25: relationship, will, can, partner, someone 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 111 (approx. per word bound = -6.871, relative change = 1.898e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 112 (approx. per word bound = -6.871, relative change = 1.651e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Model Converged </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb91"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co">#labelTopics(rModel)</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rModel, <span class="at">type =</span> <span class="st">&quot;summary&quot;</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/stm%20reddit-1.png" class="img-fluid" width="672" /></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb92"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get the words</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>rTopicNames <span class="ot">&lt;-</span> <span class="fu">labelTopics</span>(rModel, <span class="at">n=</span><span class="dv">4</span>)<span class="sc">$</span>frex</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="co"># set up an empty vector</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>rTopicLabels <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, k)</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a><span class="co"># set up a loop to go through the topics and collapse the words to a single name</span></span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>k){</span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>  rTopicLabels[i] <span class="ot">&lt;-</span> <span class="fu">paste</span>(rTopicNames[i,], <span class="at">collapse =</span> <span class="st">&quot;_&quot;</span>)</span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a><span class="co"># print the names</span></span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a>rTopicLabels</span></code></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] &quot;translation_translate_subtitle_translator&quot;
 [2] &quot;man_woman_aska_old&quot;                       
 [3] &quot;tv_show_staff_reality&quot;                    
 [4] &quot;version_lib_season_brazil&quot;                
 [5] &quot;mori_minami_minami&#39;s_mori&#39;s&quot;              
 [6] &quot;ring_wear_ceremony_brand&quot;                 
 [7] &quot;private_intimacy_taboo_divorce&quot;           
 [8] &quot;nana_gap_vibe_proposal&quot;                   
 [9] &quot;nanako_self_bad_odacchi&quot;                  
[10] &quot;delete_gt_photo_lt&quot;                       
[11] &quot;adorable_blond_sweet_hope&quot;                
[12] &quot;midori_wataru_misaki_lupin&quot;               
[13] &quot;look_good_agree_find&quot;                     
[14] &quot;ayano_shuntaro_feel_seem&quot;                 
[15] &quot;insta_の_です_た&quot;                         
[16] &quot;go_else_anything_whole&quot;                   
[17] &quot;greasy_wet_answer_oil&quot;                    
[18] &quot;sound_speak_speaker_english&quot;              
[19] &quot;surgery_indian_asian_plastic&quot;             
[20] &quot;couple_episode_wow_scene&quot;                 
[21] &quot;yes_practice_may_sure&quot;                    
[22] &quot;marry_get_totally_maybe&quot;                  
[23] &quot;mizuki_lie_restaurant_owner&quot;              
[24] &quot;screen_time_exactly_take&quot;                 
[25] &quot;relationship_feeling_respect_able&quot;        </code></pre>
</div>
</div>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/stm twitter_7454272fb3c04167ce55438963fc044a">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb94"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="dv">25</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="do">### TWITTER</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>tModel <span class="ot">&lt;-</span> <span class="fu">dfm</span>(twitter_lemmitized)</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(twitter_lemmitized) <span class="ot">&lt;-</span> tModel</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>tModel<span class="sc">$</span>polarity <span class="ot">&lt;-</span> tdf_nrc<span class="sc">$</span>polarity</span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>tModel <span class="ot">&lt;-</span> <span class="fu">stm</span>(tModel,</span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">K =</span> k,</span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">prevalence =</span> <span class="sc">~</span> polarity <span class="sc">+</span> date,</span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">max.em.its =</span> <span class="dv">1000</span>,</span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">seed =</span> <span class="dv">1234</span>,</span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">init.type =</span> <span class="st">&quot;Spectral&quot;</span>)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in dfm2stm(x, docvars, omit_empty = TRUE): Dropped empty document(s):
text2341, text3887, text3963, text4213, text4460, text4461, text4571, text4587,
text4608, text4621, text5803, text6822, text6833, text6835, text6842, text6862,
text6872, text6875, text6876, text6881, text7634</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Beginning Spectral Initialization 
     Calculating the gram matrix...
     Finding anchor words...
    .........................
     Recovering initialization...
    ......................................................................................
Initialization complete.
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 1 (approx. per word bound = -7.363) 
....................................................................................................
Completed E-Step (3 seconds). 
Completed M-Step. 
Completing Iteration 2 (approx. per word bound = -7.070, relative change = 3.978e-02) 
....................................................................................................
Completed E-Step (3 seconds). 
Completed M-Step. 
Completing Iteration 3 (approx. per word bound = -6.940, relative change = 1.833e-02) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 4 (approx. per word bound = -6.885, relative change = 8.015e-03) 
....................................................................................................
Completed E-Step (3 seconds). 
Completed M-Step. 
Completing Iteration 5 (approx. per word bound = -6.852, relative change = 4.690e-03) 
Topic 1: watch, version, people, first, season 
 Topic 2: just, know, want, already, season 
 Topic 3: ryotaro, cry, motomi, pretty, look 
 Topic 4: love, us, much, also, now 
 Topic 5: like, feel, make, genuine, good 
 Topic 6: couple, omg, heart, tv, first 
 Topic 7: start, watch, beautiful, everything, good 
 Topic 8: japan, brazil, wait, good, next 
 Topic 9: guy, think, really, shuntaro, different 
 Topic 10: wataru, end, like, ask, happy 
 Topic 11: good, make, take, can, say 
 Topic 12: finish, drama, japanese, feeling, people 
 Topic 13: one, old, try, get, watch 
 Topic 14: okay, pod, think, life, seem 
 Topic 15: get, marry, say, gt, good 
 Topic 16: see, cute, oh, odacchi, though 
 Topic 17: episode, get, good, make, new 
 Topic 18: sweet, need, still, midori, set 
 Topic 19: japanese, watch, many, episode, sad 
 Topic 20: watch, date, last, japan, kind 
 Topic 21: tell, im, girl, together, yudai 
 Topic 22: like, feel, priya, work, break 
 Topic 23: way, watch, two, hear, hard 
 Topic 24: man, woman, wholesome, really, say 
 Topic 25: get, something, say, make, amp 
....................................................................................................
Completed E-Step (3 seconds). 
Completed M-Step. 
Completing Iteration 6 (approx. per word bound = -6.832, relative change = 3.036e-03) 
....................................................................................................
Completed E-Step (3 seconds). 
Completed M-Step. 
Completing Iteration 7 (approx. per word bound = -6.818, relative change = 2.018e-03) 
....................................................................................................
Completed E-Step (3 seconds). 
Completed M-Step. 
Completing Iteration 8 (approx. per word bound = -6.808, relative change = 1.457e-03) 
....................................................................................................
Completed E-Step (10 seconds). 
Completed M-Step. 
Completing Iteration 9 (approx. per word bound = -6.801, relative change = 1.063e-03) 
....................................................................................................
Completed E-Step (18 seconds). 
Completed M-Step. 
Completing Iteration 10 (approx. per word bound = -6.796, relative change = 7.563e-04) 
Topic 1: watch, version, season, people, first 
 Topic 2: just, know, want, already, someone 
 Topic 3: cry, ryotaro, motomi, pretty, damn 
 Topic 4: love, us, now, much, also 
 Topic 5: like, hair, genuine, hate, blonde 
 Topic 6: couple, omg, heart, tv, every 
 Topic 7: start, beautiful, everything, watch, else 
 Topic 8: japan, brazil, wait, next, love 
 Topic 9: think, guy, really, shuntaro, different 
 Topic 10: end, wataru, happy, ask, look 
 Topic 11: good, make, can, take, much 
 Topic 12: finish, drama, people, nice, feeling 
 Topic 13: one, old, try, fuck, dude 
 Topic 14: pod, okay, life, lot, seem 
 Topic 15: get, marry, gt, say, ever 
 Topic 16: see, cute, odacchi, oh, nanako 
 Topic 17: episode, get, new, time, late 
 Topic 18: need, sweet, still, midori, set 
 Topic 19: japanese, many, watch, episode, just 
 Topic 20: date, show, last, reality, kind 
 Topic 21: tell, im, together, girl, day 
 Topic 22: like, feel, priya, work, really 
 Topic 23: way, two, house, hear, watch 
 Topic 24: man, woman, wholesome, say, really 
 Topic 25: something, even, will, say, amp 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 11 (approx. per word bound = -6.792, relative change = 5.151e-04) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 12 (approx. per word bound = -6.790, relative change = 3.679e-04) 
....................................................................................................
Completed E-Step (10 seconds). 
Completed M-Step. 
Completing Iteration 13 (approx. per word bound = -6.788, relative change = 2.685e-04) 
....................................................................................................
Completed E-Step (9 seconds). 
Completed M-Step. 
Completing Iteration 14 (approx. per word bound = -6.786, relative change = 2.050e-04) 
....................................................................................................
Completed E-Step (5 seconds). 
Completed M-Step. 
Completing Iteration 15 (approx. per word bound = -6.785, relative change = 1.676e-04) 
Topic 1: watch, version, season, first, people 
 Topic 2: just, want, know, someone, already 
 Topic 3: cry, ryotaro, motomi, pretty, damn 
 Topic 4: love, us, now, much, also 
 Topic 5: like, hair, genuine, hate, put 
 Topic 6: couple, omg, every, heart, tv 
 Topic 7: start, beautiful, everything, series, else 
 Topic 8: japan, brazil, wait, next, love 
 Topic 9: think, guy, really, different, shuntaro 
 Topic 10: end, wataru, look, happy, ask 
 Topic 11: good, make, can, take, much 
 Topic 12: finish, drama, people, nice, feeling 
 Topic 13: one, old, try, fuck, year 
 Topic 14: pod, okay, life, lot, seem 
 Topic 15: get, marry, gt, ever, literally 
 Topic 16: see, cute, odacchi, nanako, oh 
 Topic 17: episode, time, new, get, late 
 Topic 18: need, sweet, still, meet, set 
 Topic 19: japanese, many, watch, understand, mean 
 Topic 20: date, show, reality, last, kind 
 Topic 21: tell, together, girl, im, day 
 Topic 22: like, feel, priya, work, really 
 Topic 23: way, two, house, hear, hard 
 Topic 24: man, woman, say, wholesome, really 
 Topic 25: will, even, something, fall, actually 
....................................................................................................
Completed E-Step (3 seconds). 
Completed M-Step. 
Completing Iteration 16 (approx. per word bound = -6.784, relative change = 1.350e-04) 
....................................................................................................
Completed E-Step (3 seconds). 
Completed M-Step. 
Completing Iteration 17 (approx. per word bound = -6.784, relative change = 8.708e-05) 
....................................................................................................
Completed E-Step (4 seconds). 
Completed M-Step. 
Completing Iteration 18 (approx. per word bound = -6.783, relative change = 5.604e-05) 
....................................................................................................
Completed E-Step (11 seconds). 
Completed M-Step. 
Completing Iteration 19 (approx. per word bound = -6.783, relative change = 2.210e-05) 
....................................................................................................
Completed E-Step (9 seconds). 
Completed M-Step. 
Completing Iteration 20 (approx. per word bound = -6.783, relative change = 1.149e-05) 
Topic 1: watch, version, season, first, people 
 Topic 2: just, want, know, someone, already 
 Topic 3: cry, ryotaro, motomi, pretty, damn 
 Topic 4: love, us, now, much, also 
 Topic 5: like, hair, bad, genuine, hate 
 Topic 6: couple, omg, every, heart, tv 
 Topic 7: start, beautiful, everything, series, super 
 Topic 8: japan, brazil, wait, love, next 
 Topic 9: think, really, guy, different, shuntaro 
 Topic 10: midori, end, wataru, look, happy 
 Topic 11: good, make, can, take, go 
 Topic 12: finish, drama, people, real, nice 
 Topic 13: one, old, try, year, fuck 
 Topic 14: pod, okay, lot, life, seem 
 Topic 15: get, marry, gt, ever, literally 
 Topic 16: see, cute, odacchi, nanako, oh 
 Topic 17: episode, time, new, late, go 
 Topic 18: need, meet, sweet, still, amp 
 Topic 19: japanese, many, mean, understand, thing 
 Topic 20: date, show, reality, last, kind 
 Topic 21: tell, girl, together, im, gonna 
 Topic 22: like, feel, priya, work, mori 
 Topic 23: way, two, house, hear, never 
 Topic 24: man, say, woman, wholesome, girl 
 Topic 25: even, will, actually, something, fall 
....................................................................................................
Completed E-Step (11 seconds). 
Completed M-Step. 
Model Converged </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb97"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">labelTopics</span>(tModel)</span></code></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Topic 1 Top Words:
     Highest Prob: watch, version, season, first, people, ep, please 
     FREX: version, ep, season, first, watch, original, currently 
     Lift: @blackberniebabe, @kercoby, @metraux_julia, @mrgordian, @ph1boyyy, @san_dogukan, @tuneflix1 
     Score: watch, version, season, first, people, ep, please 
Topic 2 Top Words:
     Highest Prob: just, want, know, someone, already, everyone, find 
     FREX: know, want, already, someone, just, marriage, completely 
     Lift: @jeeyonshim, @jiualn, @scootercasterny, @vitamin_ashley, #poetry, #selfcare, 24th 
     Score: just, want, know, already, someone, marriage, find 
Topic 3 Top Words:
     Highest Prob: cry, ryotaro, motomi, pretty, damn, motomi&#39;s, parent 
     FREX: motomi, ryotaro, cry, adorable, motomi&#39;s, ryotaro&#39;s, pretty 
     Lift: 🙋🏻‍♀, @blike_dante, @brittanys, @catcohen, @chrissy__dee, @evankail, @jordanoloman 
     Score: ryotaro, motomi, cry, pretty, motomi&#39;s, parent, damn 
Topic 4 Top Words:
     Highest Prob: love, us, now, much, also, lol, netflix 
     FREX: us, lol, also, far, love, netflix, now 
     Lift: @adarkknightt, @tygasjaw69, dramaaa, @emilyamick, @kari_paul, graduate, hashtags 
     Score: love, us, much, now, also, netflix, lol 
Topic 5 Top Words:
     Highest Prob: like, hair, bad, genuine, hate, put, blonde 
     FREX: blonde, hair, hurt, dye, genuine, highly, put 
     Lift: @brightlyagain, @chelseacirruzzo, @dammy_eneli, @farrahfox_13, @joshinji, @mommycrat, @mrjerryoc 
     Score: hair, like, genuine, bad, dye, blonde, hate 
Topic 6 Top Words:
     Highest Prob: couple, omg, every, heart, tv, root, tear 
     FREX: omg, couple, heart, emotional, favorite, tear, 1x4 
     Lift: @dolamited, @doseofdiana__, @guru_stu, @heyyy_riri, @katethornley3, @oloni, @solohmx514 
     Score: couple, omg, every, heart, tv, root, tear 
Topic 7 Top Words:
     Highest Prob: start, beautiful, everything, series, super, else, week 
     FREX: start, everything, else, movie, bowl, week, beautiful 
     Lift: 🙏🏻, sia, warp, @alyricalsoul, @amxkiry, @andysignore, @bbteamnorth 
     Score: start, beautiful, everything, week, else, super, family 
Topic 8 Top Words:
     Highest Prob: japan, brazil, wait, love, next, s2, listen 
     FREX: brazil, lib, tomorrow, s2, game, wait, japan 
     Lift: tn, eastern, hollister, iraq, politic, price, russian 
     Score: japan, brazil, wait, next, love, s2, listen 
Topic 9 Top Words:
     Highest Prob: think, really, guy, different, shuntaro, ayano, whole 
     FREX: shuntaro, guy, ayano, usa, minute, kenya, culture 
     Lift: @bombedefleurs, @justingrayesq, @litto_fish, @ssshlyn, @uhnelly, #hissuitfitwasfirethou, 56y 
     Score: guy, think, really, shuntaro, ayano, different, culture 
Topic 10 Top Words:
     Highest Prob: midori, end, wataru, look, happy, ask, great 
     FREX: sorry, wataru, end, ask, question, check, happy 
     Lift: @cherry_coloured, @criterion, @evabennett3, @inaribriana, @jessica19197346, @kathymcrae9, @kismytiara 
     Score: wataru, end, midori, happy, ask, look, great 
Topic 11 Top Words:
     Highest Prob: good, make, can, take, go, much, hope 
     FREX: take, connection, good, make, appreciate, sooo, can 
     Lift: @ceoofmisaka, @danielleweisber, @eclecticmuses, @jorjorfrmdablk, @juleshortstuff, @mistressleora, @severlyawsome 
     Score: good, make, take, can, much, hope, work 
Topic 12 Top Words:
     Highest Prob: finish, people, drama, real, nice, feeling, definitely 
     FREX: finish, definitely, cameron, lauren, 👏🏾, favourite, switch 
     Lift: -1, @autist333, @clvtno, @hewobear, @hey_tyraashleyy, @hierohero1, @jackiew01461728 
     Score: finish, drama, feeling, nice, definitely, people, country 
Topic 13 Top Words:
     Highest Prob: one, old, try, year, fuck, dude, english 
     FREX: one, dude, misaki, hell, old, plan, kaoru 
     Lift: @lisacrosbie, @meganvwalker, @nategearysports, @yaeltygiel, #2, #dothatatthewedding, #gg 
     Score: one, old, try, year, dude, fuck, english 
Topic 14 Top Words:
     Highest Prob: pod, okay, lot, life, seem, think, mizuki 
     FREX: okay, pod, lie, life, reveal, future, business 
     Lift: -ryotaro&#39;s, @ayoolaaa, @bleunormann, @carmenbelcher_, @erinbrownwrites, @goldcaro, @loveashbelle 
     Score: okay, pod, life, lot, lie, seem, mizuki 
Topic 15 Top Words:
     Highest Prob: get, marry, gt, ever, literally, age, thing 
     FREX: gt, age, mom, marry, ever, tattoo, literally 
     Lift: bengali, -adults, -continuing, -people, -secrets, @bdentrek, @charnecolleen 
     Score: get, marry, gt, age, ever, literally, mom 
Topic 16 Top Words:
     Highest Prob: see, cute, odacchi, nanako, oh, though, shit 
     FREX: nanako, cute, lmao, see, oh, though, letter 
     Lift: @alexsheppard, @carameru_dani, @dianeeguerrero, @juicebinn, @katandcats17, @localpinkgurl, @malignedgod 
     Score: see, cute, nanako, oh, odacchi, though, shit 
Topic 17 Top Words:
     Highest Prob: episode, time, new, late, go, proposal, believe 
     FREX: final, personality, drop, late, job, proposal, release 
     Lift: gunma, @baseballkenya1, @helgemsanchez, @itsamandared, @mattt7000, @netflixke, @pstinny 
     Score: episode, new, time, drop, late, release, personality 
Topic 18 Top Words:
     Highest Prob: need, meet, sweet, amp, still, set, maybe 
     FREX: bridge, design, sweet, room, cool, amaze, set 
     Lift: captain, max, @ajenglish, @axel_hexed, @davechensky, @gretchemaben, @grxylie 
     Score: need, sweet, set, meet, still, bridge, amp 
Topic 19 Top Words:
     Highest Prob: japanese, many, mean, understand, thing, sad, just 
     FREX: #tvtime, s01, many, sad, u, understand, other 
     Lift: e02, e03, e04, e05, e09, @_benjvmins_, @drmnewcomb 
     Score: japanese, s01, #tvtime, many, sad, understand, u 
Topic 20 Top Words:
     Highest Prob: date, show, reality, last, kind, romantic, edition 
     FREX: inferno, kind, participant, reality, romantic, single&#39;s, mother 
     Lift: @___kennnyyy, @_alemiye, @agustdmentality, @allisonkfarrell, @androidauth, @arrowfilmsvideo, @callingu_home 
     Score: date, show, reality, last, kind, romantic, inferno 
Topic 21 Top Words:
     Highest Prob: tell, girl, together, im, gonna, day, give 
     FREX: yudai, im, tell, wed, nana, idk, rn 
     Lift: drain, sofa, @0xtracy, @camiinthisthang, @issprice, @meredithb104, @miladymaker 
     Score: im, tell, yudai, girl, together, wed, gonna 
Topic 22 Top Words:
     Highest Prob: like, feel, priya, mori, work, break, anyone 
     FREX: break, priya, anyone, genuinely, feel, toxic, none 
     Lift: @mnateshyamalan, @phynaz, @xandraellin, #loves, #moneytalks, #moneytwitter, arrive 
     Score: like, feel, priya, break, work, mori, anyone 
Topic 23 Top Words:
     Highest Prob: way, two, house, hear, never, speak, hard 
     FREX: terrace, hear, house, hard, way, journey, thoughtful 
     Lift: @aitrife, @bruuvv, @exoticrozayred, @itswalela, @jeon_bts321, @katskratchh, @moonlitballad 
     Score: way, house, hear, terrace, two, hard, america 
Topic 24 Top Words:
     Highest Prob: man, say, woman, wholesome, girl, choose, kitchen 
     FREX: kitchen, wholesome, woman, man, ugly, woman&#39;s, belong 
     Lift: @abroadinjapan, @dinamarei_, @sequoian, #anime, #flykah, #mafs, #misowitheverything 
     Score: man, woman, wholesome, say, kitchen, ugly, woman&#39;s 
Topic 25 Top Words:
     Highest Prob: even, will, actually, something, talk, fall, wow 
     FREX: something, will, even, fall, wow, another, actually 
     Lift: @quisteen, lesgoooo, yayyyy, givinggggggggg, @thedudeapproves, @madeline_gobbo, @needlesonnews 
     Score: even, will, something, actually, wow, fall, talk </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb99"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tModel, <span class="at">type =</span> <span class="st">&quot;summary&quot;</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<p><img src="BlogPost6_MollyHackbarth_files/figure-html/stm%20twitter-1.png" class="img-fluid" width="672" /></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb100"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get the words</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>tTopicNames <span class="ot">&lt;-</span> <span class="fu">labelTopics</span>(tModel, <span class="at">n=</span><span class="dv">4</span>)<span class="sc">$</span>frex</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="co"># set up an empty vector</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>tTopicLabels <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, k)</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a><span class="co"># set up a loop to go through the topics and collapse the words to a single name</span></span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>k){</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>  tTopicLabels[i] <span class="ot">&lt;-</span> <span class="fu">paste</span>(tTopicNames[i,], <span class="at">collapse =</span> <span class="st">&quot;_&quot;</span>)</span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a><span class="co"># print the names</span></span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a>tTopicLabels</span></code></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] &quot;version_ep_season_first&quot;          &quot;know_want_already_someone&quot;       
 [3] &quot;motomi_ryotaro_cry_adorable&quot;      &quot;us_lol_also_far&quot;                 
 [5] &quot;blonde_hair_hurt_dye&quot;             &quot;omg_couple_heart_emotional&quot;      
 [7] &quot;start_everything_else_movie&quot;      &quot;brazil_lib_tomorrow_s2&quot;          
 [9] &quot;shuntaro_guy_ayano_usa&quot;           &quot;sorry_wataru_end_ask&quot;            
[11] &quot;take_connection_good_make&quot;        &quot;finish_definitely_cameron_lauren&quot;
[13] &quot;one_dude_misaki_hell&quot;             &quot;okay_pod_lie_life&quot;               
[15] &quot;gt_age_mom_marry&quot;                 &quot;nanako_cute_lmao_see&quot;            
[17] &quot;final_personality_drop_late&quot;      &quot;bridge_design_sweet_room&quot;        
[19] &quot;#tvtime_s01_many_sad&quot;             &quot;inferno_kind_participant_reality&quot;
[21] &quot;yudai_im_tell_wed&quot;                &quot;break_priya_anyone_genuinely&quot;    
[23] &quot;terrace_hear_house_hard&quot;          &quot;kitchen_wholesome_woman_man&quot;     
[25] &quot;something_will_even_fall&quot;        </code></pre>
</div>
</div>
<p>Here I was able to see that even with two factors (polarity and dates) it seems that the topics stayed fairly similar.</p>
</section>
<section id="final-thoughts-tldr" class="level1">
<h1>Final Thoughts (TLDR)</h1>
<ul>
<li><p>Throughout my various blog post I feel like I was able to craft multiple graphs that I want to use in my Final Project.</p></li>
<li><p>It took a lot longer to figure out how to do sentiment by dates but it feels well worth it!</p></li>
<li><p>I think looking back it might have been a better idea to combine the Twitter and Reddit data together and done an analysis on that. This may have caused less trouble in rendering the blog and let me explore a bit more in depth.</p></li>
</ul>
<div class="cell" data-hash="BlogPost6_MollyHackbarth_cache/html/save image_4cae125cea5834d9e7073b27a3c648ef">
<details>
<summary>Code</summary>
<div class="sourceCode" id="cb102"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save.image</span>(<span class="at">file =</span> <span class="st">&quot;blogpost6.RData&quot;</span>)</span></code></pre></div>
</details>
</div>
<div id="quarto-navigation-envelope" class="hidden">
<p><span class="hidden" data-render-id="quarto-int-sidebar-title">Text-as-Data Fall 2022</span> <span class="hidden" data-render-id="quarto-int-navbar-title">Text-as-Data Fall 2022</span> <span class="hidden" data-render-id="quarto-int-navbar:Fall 2022">Fall 2022</span> <span class="hidden" data-render-id="quarto-int-navbar:Contributors">Contributors</span> <span class="hidden" data-render-id="quarto-int-navbar:DACSS">DACSS</span></p>
</div>
<div id="quarto-meta-markdown" class="hidden">
<p><span class="hidden" data-render-id="quarto-metatitle">Text-as-Data Fall 2022 - Blog Post Six: Working Towards the Final</span> <span class="hidden" data-render-id="quarto-metasitename">Text-as-Data Fall 2022</span> <span class="hidden" data-render-id="quarto-metadesc">Working with the data</span></p>
</div>
<!-- -->
<div class="quarto-embedded-source-code">
<div class="sourceCode" id="cb103" data-shortcodes="false"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> &quot;Blog Post Six: Working Towards the Final&quot;</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> &quot;Molly Hackbarth&quot;</span></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> &quot;Working with the data&quot;</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> &quot;12/9/2022&quot;</span></span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a><span class="an">output-file:</span><span class="co"> pdf_document</span></span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb103-11"><a href="#cb103-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb103-12"><a href="#cb103-12" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb103-13"><a href="#cb103-13" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span></span>
<span id="cb103-14"><a href="#cb103-14" aria-hidden="true" tabindex="-1"></a><span class="co">  - blog posts</span></span>
<span id="cb103-15"><a href="#cb103-15" aria-hidden="true" tabindex="-1"></a><span class="co">  - hw6</span></span>
<span id="cb103-16"><a href="#cb103-16" aria-hidden="true" tabindex="-1"></a><span class="co">  - Molly Hackbarth</span></span>
<span id="cb103-17"><a href="#cb103-17" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb103-18"><a href="#cb103-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-19"><a href="#cb103-19" aria-hidden="true" tabindex="-1"></a><span class="in">```{r libraries}</span></span>
<span id="cb103-20"><a href="#cb103-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb103-21"><a href="#cb103-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cld3)</span>
<span id="cb103-22"><a href="#cb103-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb103-23"><a href="#cb103-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb103-24"><a href="#cb103-24" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(devtools)</span>
<span id="cb103-25"><a href="#cb103-25" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb103-26"><a href="#cb103-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb103-27"><a href="#cb103-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textstats)</span>
<span id="cb103-28"><a href="#cb103-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textmodels)</span>
<span id="cb103-29"><a href="#cb103-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textplots)</span>
<span id="cb103-30"><a href="#cb103-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.dictionaries)</span>
<span id="cb103-31"><a href="#cb103-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.sentiment)</span>
<span id="cb103-32"><a href="#cb103-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb103-33"><a href="#cb103-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stm)</span>
<span id="cb103-34"><a href="#cb103-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm)</span>
<span id="cb103-35"><a href="#cb103-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-36"><a href="#cb103-36" aria-hidden="true" tabindex="-1"></a><span class="do">## new package </span></span>
<span id="cb103-37"><a href="#cb103-37" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sentimentr)</span>
<span id="cb103-38"><a href="#cb103-38" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(text2vec)</span>
<span id="cb103-39"><a href="#cb103-39" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(LDAvis)</span>
<span id="cb103-40"><a href="#cb103-40" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb103-41"><a href="#cb103-41" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb103-42"><a href="#cb103-42" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-43"><a href="#cb103-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-44"><a href="#cb103-44" aria-hidden="true" tabindex="-1"></a><span class="in">```{r load data}</span></span>
<span id="cb103-45"><a href="#cb103-45" aria-hidden="true" tabindex="-1"></a><span class="co">#load(&quot;blogpost6.RData&quot;)</span></span>
<span id="cb103-46"><a href="#cb103-46" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-47"><a href="#cb103-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-48"><a href="#cb103-48" aria-hidden="true" tabindex="-1"></a><span class="fu"># Research Question</span></span>
<span id="cb103-49"><a href="#cb103-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-50"><a href="#cb103-50" aria-hidden="true" tabindex="-1"></a>**My current research question:** How do Reddit and Twitter users sentiment differentiate about the show *Love is Blind Japan* over time?</span>
<span id="cb103-51"><a href="#cb103-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-52"><a href="#cb103-52" aria-hidden="true" tabindex="-1"></a>This blog post will be focused on completing the code that I want to use for my Final Poster. Anything that is new will be in the title as **New!**</span>
<span id="cb103-53"><a href="#cb103-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-54"><a href="#cb103-54" aria-hidden="true" tabindex="-1"></a><span class="fu"># Reading in the Data</span></span>
<span id="cb103-55"><a href="#cb103-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-56"><a href="#cb103-56" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reading data}</span></span>
<span id="cb103-57"><a href="#cb103-57" aria-hidden="true" tabindex="-1"></a><span class="co">#write csv has been commented out due to it continously trying to save an &quot;updated version&quot; in Git. </span></span>
<span id="cb103-58"><a href="#cb103-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-59"><a href="#cb103-59" aria-hidden="true" tabindex="-1"></a>reddit_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;posts&quot;</span>, <span class="st">&quot;_data&quot;</span>, <span class="st">&quot;loveisblindjapan.csv&quot;</span>))</span>
<span id="cb103-60"><a href="#cb103-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-61"><a href="#cb103-61" aria-hidden="true" tabindex="-1"></a>twitter1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;posts&quot;</span>, <span class="st">&quot;_data&quot;</span>, <span class="st">&quot;tweets.csv&quot;</span>))</span>
<span id="cb103-62"><a href="#cb103-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-63"><a href="#cb103-63" aria-hidden="true" tabindex="-1"></a>twitter2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;posts&quot;</span>, <span class="st">&quot;_data&quot;</span>, <span class="st">&quot;tweets#.csv&quot;</span>))</span>
<span id="cb103-64"><a href="#cb103-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-65"><a href="#cb103-65" aria-hidden="true" tabindex="-1"></a>reddit <span class="ot">&lt;-</span> <span class="fu">subset</span>(reddit_data, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;body&quot;</span>, <span class="st">&quot;created_utc&quot;</span>)) </span>
<span id="cb103-66"><a href="#cb103-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-67"><a href="#cb103-67" aria-hidden="true" tabindex="-1"></a>reddit<span class="sc">$</span>created_utc <span class="ot">&lt;-</span> <span class="fu">as.Date.POSIXct</span>(reddit<span class="sc">$</span>created_utc)</span>
<span id="cb103-68"><a href="#cb103-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-69"><a href="#cb103-69" aria-hidden="true" tabindex="-1"></a>reddit <span class="ot">&lt;-</span> reddit <span class="sc">%&gt;%</span> </span>
<span id="cb103-70"><a href="#cb103-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">text =</span> body, </span>
<span id="cb103-71"><a href="#cb103-71" aria-hidden="true" tabindex="-1"></a>            <span class="at">date =</span> created_utc)</span>
<span id="cb103-72"><a href="#cb103-72" aria-hidden="true" tabindex="-1"></a><span class="co"># remove deleted or removed comments by moderators of the subreddit (ones that only contain [deleted] or [removed])</span></span>
<span id="cb103-73"><a href="#cb103-73" aria-hidden="true" tabindex="-1"></a>reddit <span class="ot">&lt;-</span> reddit <span class="sc">%&gt;%</span> </span>
<span id="cb103-74"><a href="#cb103-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>text <span class="sc">==</span> <span class="st">&#39;[deleted]&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb103-75"><a href="#cb103-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>text <span class="sc">==</span> <span class="st">&#39;[removed]&#39;</span>)</span>
<span id="cb103-76"><a href="#cb103-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-77"><a href="#cb103-77" aria-hidden="true" tabindex="-1"></a><span class="co">#remove counting column</span></span>
<span id="cb103-78"><a href="#cb103-78" aria-hidden="true" tabindex="-1"></a>twitter1 <span class="ot">&lt;-</span> twitter1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(X, User))</span>
<span id="cb103-79"><a href="#cb103-79" aria-hidden="true" tabindex="-1"></a>twitter2 <span class="ot">&lt;-</span> twitter2 <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(X, User))</span>
<span id="cb103-80"><a href="#cb103-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-81"><a href="#cb103-81" aria-hidden="true" tabindex="-1"></a>twitter <span class="ot">&lt;-</span> <span class="fu">merge</span>(twitter1, twitter2, <span class="at">by=</span><span class="fu">c</span>(<span class="st">&#39;Tweet&#39;</span>,<span class="st">&#39;Tweet&#39;</span>, <span class="st">&#39;Date&#39;</span>, <span class="st">&#39;Date&#39;</span>),<span class="at">all=</span>T, <span class="at">ignore_case =</span>T)</span>
<span id="cb103-82"><a href="#cb103-82" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(twitter, here::here(&quot;posts&quot;, &quot;_data&quot;, &quot;twitter.csv&quot;) , all(T) )</span></span>
<span id="cb103-83"><a href="#cb103-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-84"><a href="#cb103-84" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(twitter) <span class="ot">&lt;-</span> <span class="fu">tolower</span>(<span class="fu">names</span>(twitter))</span>
<span id="cb103-85"><a href="#cb103-85" aria-hidden="true" tabindex="-1"></a>twitter <span class="ot">&lt;-</span> twitter <span class="sc">%&gt;%</span> </span>
<span id="cb103-86"><a href="#cb103-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_at</span>(<span class="st">&#39;tweet&#39;</span>, <span class="sc">~</span> <span class="st">&#39;text&#39;</span>, </span>
<span id="cb103-87"><a href="#cb103-87" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Date&#39;</span> <span class="sc">~</span> <span class="st">&#39;date&#39;</span>)</span>
<span id="cb103-88"><a href="#cb103-88" aria-hidden="true" tabindex="-1"></a>twitter<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">strftime</span>(twitter<span class="sc">$</span>date, <span class="at">format=</span><span class="st">&quot;%Y-%m-%d&quot;</span>))</span>
<span id="cb103-89"><a href="#cb103-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-90"><a href="#cb103-90" aria-hidden="true" tabindex="-1"></a><span class="co"># remove duplicate tweets</span></span>
<span id="cb103-91"><a href="#cb103-91" aria-hidden="true" tabindex="-1"></a>twitter <span class="ot">&lt;-</span> twitter <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(text, date, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb103-92"><a href="#cb103-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-93"><a href="#cb103-93" aria-hidden="true" tabindex="-1"></a><span class="co">#check for duplicate tweets</span></span>
<span id="cb103-94"><a href="#cb103-94" aria-hidden="true" tabindex="-1"></a>twitter <span class="sc">%in%</span> <span class="fu">unique</span>(twitter[ <span class="fu">duplicated</span>(twitter)]) </span>
<span id="cb103-95"><a href="#cb103-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-96"><a href="#cb103-96" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-97"><a href="#cb103-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-98"><a href="#cb103-98" aria-hidden="true" tabindex="-1"></a><span class="in">```{r lemmentizing the data}</span></span>
<span id="cb103-99"><a href="#cb103-99" aria-hidden="true" tabindex="-1"></a><span class="co"># Twiter Lemmitized</span></span>
<span id="cb103-100"><a href="#cb103-100" aria-hidden="true" tabindex="-1"></a>twitter_corpus <span class="ot">&lt;-</span> <span class="fu">subset</span>(twitter, <span class="fu">detect_language</span>(twitter) <span class="sc">==</span> <span class="st">&quot;en&quot;</span>)</span>
<span id="cb103-101"><a href="#cb103-101" aria-hidden="true" tabindex="-1"></a>twitter_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(twitter_corpus)</span>
<span id="cb103-102"><a href="#cb103-102" aria-hidden="true" tabindex="-1"></a>twitter_corpus <span class="ot">&lt;-</span> twitter_corpus[<span class="sc">!</span><span class="fu">is.na</span>(twitter_corpus)]</span>
<span id="cb103-103"><a href="#cb103-103" aria-hidden="true" tabindex="-1"></a>twittersummary <span class="ot">&lt;-</span> <span class="fu">summary</span>(twitter_corpus)</span>
<span id="cb103-104"><a href="#cb103-104" aria-hidden="true" tabindex="-1"></a>twitter_corpus <span class="ot">&lt;-</span> <span class="fu">trimws</span>(<span class="fu">gsub</span>(<span class="st">&quot;[[:digit:]]{1,4}-[[:digit:]]{1,4}-[[:digit:]]{1,4}&quot;</span>, <span class="st">&quot;&quot;</span>, twitter_corpus))</span>
<span id="cb103-105"><a href="#cb103-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-106"><a href="#cb103-106" aria-hidden="true" tabindex="-1"></a>mystopwords <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;love is blind japan&quot;</span>, <span class="st">&quot;#loveisbindjapan&quot;</span>, <span class="st">&quot;#LoveIsBlindJapan&quot;</span>,<span class="st">&quot;Love Is Blind Japan&quot;</span>,<span class="st">&quot;Love is Blind Japan&quot;</span>, <span class="st">&quot;Love Is Blind: Japan&quot;</span>, <span class="st">&quot;#loveisblind&quot;</span>, <span class="st">&quot;ラブイズブラインドjapan&quot;</span>, <span class="st">&quot;#ラブイズブラインドjapan&quot;</span>, <span class="st">&quot;loveisblind&quot;</span>, <span class="st">&quot;#loveisblind2&quot;</span>, <span class="st">&quot;blind:japan&quot;</span>, <span class="st">&quot;blind&quot;</span>, <span class="st">&quot;show&quot;</span>)</span>
<span id="cb103-107"><a href="#cb103-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-108"><a href="#cb103-108" aria-hidden="true" tabindex="-1"></a>twitter_corpus_tokens <span class="ot">&lt;-</span> <span class="fu">tokens</span>(twitter_corpus, </span>
<span id="cb103-109"><a href="#cb103-109" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_punct =</span> T,</span>
<span id="cb103-110"><a href="#cb103-110" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_numbers =</span> T,</span>
<span id="cb103-111"><a href="#cb103-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_symbols =</span> T,</span>
<span id="cb103-112"><a href="#cb103-112" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_url =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb103-113"><a href="#cb103-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_tolower</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-114"><a href="#cb103-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_remove</span>(<span class="at">pattern =</span> <span class="fu">phrase</span>(mystopwords), <span class="at">valuetype =</span> <span class="st">&#39;fixed&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb103-115"><a href="#cb103-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_select</span>(<span class="at">pattern =</span> <span class="fu">stopwords</span>(<span class="st">&quot;en&quot;</span>), <span class="at">selection =</span> <span class="st">&quot;remove&quot;</span>)</span>
<span id="cb103-116"><a href="#cb103-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-117"><a href="#cb103-117" aria-hidden="true" tabindex="-1"></a>twitter_lemmitized <span class="ot">&lt;-</span> <span class="fu">tokens_replace</span>(twitter_corpus_tokens, </span>
<span id="cb103-118"><a href="#cb103-118" aria-hidden="true" tabindex="-1"></a>                             <span class="at">pattern =</span> lexicon<span class="sc">::</span>hash_lemmas<span class="sc">$</span>token, </span>
<span id="cb103-119"><a href="#cb103-119" aria-hidden="true" tabindex="-1"></a>                             <span class="at">replacement =</span> lexicon<span class="sc">::</span>hash_lemmas<span class="sc">$</span>lemma)</span>
<span id="cb103-120"><a href="#cb103-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-121"><a href="#cb103-121" aria-hidden="true" tabindex="-1"></a><span class="co"># Reddit Lemmitized</span></span>
<span id="cb103-122"><a href="#cb103-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-123"><a href="#cb103-123" aria-hidden="true" tabindex="-1"></a>reddit_corpus <span class="ot">&lt;-</span> <span class="fu">subset</span>(reddit, <span class="fu">detect_language</span>(reddit) <span class="sc">==</span> <span class="st">&quot;en&quot;</span>)</span>
<span id="cb103-124"><a href="#cb103-124" aria-hidden="true" tabindex="-1"></a>reddit_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(reddit_corpus)</span>
<span id="cb103-125"><a href="#cb103-125" aria-hidden="true" tabindex="-1"></a>reddit_corpus <span class="ot">&lt;-</span> reddit_corpus[<span class="sc">!</span><span class="fu">is.na</span>(reddit_corpus)]</span>
<span id="cb103-126"><a href="#cb103-126" aria-hidden="true" tabindex="-1"></a>redditsummary <span class="ot">&lt;-</span> <span class="fu">summary</span>(reddit_corpus)</span>
<span id="cb103-127"><a href="#cb103-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-128"><a href="#cb103-128" aria-hidden="true" tabindex="-1"></a>reddit_corpus <span class="ot">&lt;-</span> <span class="fu">trimws</span>(<span class="fu">gsub</span>(<span class="st">&quot;[[:digit:]]{1,4}-[[:digit:]]{1,4}-[[:digit:]]{1,4}&quot;</span>, <span class="st">&quot;&quot;</span>, reddit_corpus))</span>
<span id="cb103-129"><a href="#cb103-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-130"><a href="#cb103-130" aria-hidden="true" tabindex="-1"></a>reddit_corpus_tokens <span class="ot">&lt;-</span> <span class="fu">tokens</span>(reddit_corpus, </span>
<span id="cb103-131"><a href="#cb103-131" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_punct =</span> T,</span>
<span id="cb103-132"><a href="#cb103-132" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_numbers =</span> T, </span>
<span id="cb103-133"><a href="#cb103-133" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_symbols =</span> T,</span>
<span id="cb103-134"><a href="#cb103-134" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_url =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb103-135"><a href="#cb103-135" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_tolower</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-136"><a href="#cb103-136" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_select</span>(<span class="at">pattern =</span> <span class="fu">stopwords</span>(<span class="st">&quot;en&quot;</span>), <span class="at">selection =</span> <span class="st">&quot;remove&quot;</span>)</span>
<span id="cb103-137"><a href="#cb103-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-138"><a href="#cb103-138" aria-hidden="true" tabindex="-1"></a>reddit_lemmitized <span class="ot">&lt;-</span> <span class="fu">tokens_replace</span>(reddit_corpus_tokens, </span>
<span id="cb103-139"><a href="#cb103-139" aria-hidden="true" tabindex="-1"></a>                             <span class="at">pattern =</span> lexicon<span class="sc">::</span>hash_lemmas<span class="sc">$</span>token, </span>
<span id="cb103-140"><a href="#cb103-140" aria-hidden="true" tabindex="-1"></a>                             <span class="at">replacement =</span> lexicon<span class="sc">::</span>hash_lemmas<span class="sc">$</span>lemma)</span>
<span id="cb103-141"><a href="#cb103-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-142"><a href="#cb103-142" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-143"><a href="#cb103-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-144"><a href="#cb103-144" aria-hidden="true" tabindex="-1"></a><span class="in">```{r creating nrc dictionary}</span></span>
<span id="cb103-145"><a href="#cb103-145" aria-hidden="true" tabindex="-1"></a><span class="co">#Twitter NRC</span></span>
<span id="cb103-146"><a href="#cb103-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-147"><a href="#cb103-147" aria-hidden="true" tabindex="-1"></a>twitterDfm_nrc <span class="ot">&lt;-</span> <span class="fu">dfm</span>(<span class="fu">tokens</span>(twitter_lemmitized,</span>
<span id="cb103-148"><a href="#cb103-148" aria-hidden="true" tabindex="-1"></a>                              <span class="at">remove_punct =</span> <span class="cn">TRUE</span>),</span>
<span id="cb103-149"><a href="#cb103-149" aria-hidden="true" tabindex="-1"></a>                       <span class="at">tolower =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb103-150"><a href="#cb103-150" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">dfm_lookup</span>(data_dictionary_NRC)</span>
<span id="cb103-151"><a href="#cb103-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-152"><a href="#cb103-152" aria-hidden="true" tabindex="-1"></a>tdf_nrc <span class="ot">&lt;-</span> <span class="fu">convert</span>(twitterDfm_nrc, <span class="at">to =</span> <span class="st">&quot;data.frame&quot;</span>)</span>
<span id="cb103-153"><a href="#cb103-153" aria-hidden="true" tabindex="-1"></a>tdf_nrc<span class="sc">$</span>polarity <span class="ot">&lt;-</span> (tdf_nrc<span class="sc">$</span>positive <span class="sc">-</span> tdf_nrc<span class="sc">$</span>negative)<span class="sc">/</span>(tdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> tdf_nrc<span class="sc">$</span>negative)</span>
<span id="cb103-154"><a href="#cb103-154" aria-hidden="true" tabindex="-1"></a>tdf_nrc<span class="sc">$</span>polarity[<span class="fu">which</span>((tdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> tdf_nrc<span class="sc">$</span>negative) <span class="sc">==</span> <span class="dv">0</span>)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb103-155"><a href="#cb103-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-156"><a href="#cb103-156" aria-hidden="true" tabindex="-1"></a>twitter_corpus_dfm <span class="ot">&lt;-</span> twitter_lemmitized <span class="sc">%&gt;%</span> </span>
<span id="cb103-157"><a href="#cb103-157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-158"><a href="#cb103-158" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_remove</span>(<span class="fu">stopwords</span>(<span class="st">&#39;english&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb103-159"><a href="#cb103-159" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_trim</span>(<span class="at">min_termfreq =</span> <span class="dv">30</span>, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb103-160"><a href="#cb103-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-161"><a href="#cb103-161" aria-hidden="true" tabindex="-1"></a><span class="co"># Reddit NRC</span></span>
<span id="cb103-162"><a href="#cb103-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-163"><a href="#cb103-163" aria-hidden="true" tabindex="-1"></a>redditDfm_nrc <span class="ot">&lt;-</span> <span class="fu">dfm</span>(<span class="fu">tokens</span>(reddit_lemmitized,</span>
<span id="cb103-164"><a href="#cb103-164" aria-hidden="true" tabindex="-1"></a>                              <span class="at">remove_punct =</span> <span class="cn">TRUE</span>),</span>
<span id="cb103-165"><a href="#cb103-165" aria-hidden="true" tabindex="-1"></a>                       <span class="at">tolower =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb103-166"><a href="#cb103-166" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">dfm_lookup</span>(data_dictionary_NRC)</span>
<span id="cb103-167"><a href="#cb103-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-168"><a href="#cb103-168" aria-hidden="true" tabindex="-1"></a>rdf_nrc <span class="ot">&lt;-</span> <span class="fu">convert</span>(redditDfm_nrc, <span class="at">to =</span> <span class="st">&quot;data.frame&quot;</span>)</span>
<span id="cb103-169"><a href="#cb103-169" aria-hidden="true" tabindex="-1"></a>rdf_nrc<span class="sc">$</span>polarity <span class="ot">&lt;-</span> (rdf_nrc<span class="sc">$</span>positive <span class="sc">-</span> rdf_nrc<span class="sc">$</span>negative)<span class="sc">/</span>(rdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> rdf_nrc<span class="sc">$</span>negative)</span>
<span id="cb103-170"><a href="#cb103-170" aria-hidden="true" tabindex="-1"></a>rdf_nrc<span class="sc">$</span>polarity[<span class="fu">which</span>((rdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> rdf_nrc<span class="sc">$</span>negative) <span class="sc">==</span> <span class="dv">0</span>)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb103-171"><a href="#cb103-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-172"><a href="#cb103-172" aria-hidden="true" tabindex="-1"></a>reddit_corpus_dfm <span class="ot">&lt;-</span> reddit_lemmitized <span class="sc">%&gt;%</span> </span>
<span id="cb103-173"><a href="#cb103-173" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-174"><a href="#cb103-174" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_remove</span>(<span class="fu">stopwords</span>(<span class="st">&#39;english&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb103-175"><a href="#cb103-175" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_trim</span>(<span class="at">min_termfreq =</span> <span class="dv">30</span>, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb103-176"><a href="#cb103-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-177"><a href="#cb103-177" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-178"><a href="#cb103-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-179"><a href="#cb103-179" aria-hidden="true" tabindex="-1"></a><span class="fu"># Sentiment by Dates</span></span>
<span id="cb103-180"><a href="#cb103-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-181"><a href="#cb103-181" aria-hidden="true" tabindex="-1"></a><span class="in">```{r emotions by percent}</span></span>
<span id="cb103-182"><a href="#cb103-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-183"><a href="#cb103-183" aria-hidden="true" tabindex="-1"></a>tdf_nrc <span class="ot">&lt;-</span> <span class="fu">convert</span>(twitterDfm_nrc, <span class="at">to =</span> <span class="st">&quot;data.frame&quot;</span>)</span>
<span id="cb103-184"><a href="#cb103-184" aria-hidden="true" tabindex="-1"></a>tdf_nrc<span class="sc">$</span>date <span class="ot">&lt;-</span> twitterDfm_nrc<span class="sc">@</span>docvars<span class="sc">$</span>date</span>
<span id="cb103-185"><a href="#cb103-185" aria-hidden="true" tabindex="-1"></a>tdf_nrc<span class="sc">$</span>polarity <span class="ot">&lt;-</span> (tdf_nrc<span class="sc">$</span>positive <span class="sc">-</span> tdf_nrc<span class="sc">$</span>negative)<span class="sc">/</span>(tdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> tdf_nrc<span class="sc">$</span>negative)</span>
<span id="cb103-186"><a href="#cb103-186" aria-hidden="true" tabindex="-1"></a>tdf_nrc<span class="sc">$</span>polarity[<span class="fu">which</span>((tdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> tdf_nrc<span class="sc">$</span>negative) <span class="sc">==</span> <span class="dv">0</span>)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb103-187"><a href="#cb103-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-188"><a href="#cb103-188" aria-hidden="true" tabindex="-1"></a>tdf_nrc <span class="ot">&lt;-</span> tdf_nrc <span class="sc">%&gt;%</span> <span class="fu">arrange</span>((date)) <span class="sc">%&gt;%</span> <span class="fu">rowid_to_column</span>(<span class="at">var=</span><span class="st">&#39;count&#39;</span>)</span>
<span id="cb103-189"><a href="#cb103-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-190"><a href="#cb103-190" aria-hidden="true" tabindex="-1"></a>rdf_nrc <span class="ot">&lt;-</span> <span class="fu">convert</span>(redditDfm_nrc, <span class="at">to =</span> <span class="st">&quot;data.frame&quot;</span>)</span>
<span id="cb103-191"><a href="#cb103-191" aria-hidden="true" tabindex="-1"></a>rdf_nrc<span class="sc">$</span>date <span class="ot">&lt;-</span> redditDfm_nrc<span class="sc">@</span>docvars<span class="sc">$</span>date</span>
<span id="cb103-192"><a href="#cb103-192" aria-hidden="true" tabindex="-1"></a>rdf_nrc<span class="sc">$</span>polarity <span class="ot">&lt;-</span> (rdf_nrc<span class="sc">$</span>positive <span class="sc">-</span> rdf_nrc<span class="sc">$</span>negative)<span class="sc">/</span>(rdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> rdf_nrc<span class="sc">$</span>negative)</span>
<span id="cb103-193"><a href="#cb103-193" aria-hidden="true" tabindex="-1"></a>rdf_nrc<span class="sc">$</span>polarity[<span class="fu">which</span>((rdf_nrc<span class="sc">$</span>positive <span class="sc">+</span> rdf_nrc<span class="sc">$</span>negative) <span class="sc">==</span> <span class="dv">0</span>)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb103-194"><a href="#cb103-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-195"><a href="#cb103-195" aria-hidden="true" tabindex="-1"></a>rdf_nrc <span class="ot">&lt;-</span> rdf_nrc <span class="sc">%&gt;%</span> <span class="fu">arrange</span>((date)) <span class="sc">%&gt;%</span> <span class="fu">rowid_to_column</span>(<span class="at">var=</span><span class="st">&#39;count&#39;</span>)</span>
<span id="cb103-196"><a href="#cb103-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-197"><a href="#cb103-197" aria-hidden="true" tabindex="-1"></a>reddit_emotions <span class="ot">&lt;-</span> rdf_nrc <span class="sc">%&gt;%</span> </span>
<span id="cb103-198"><a href="#cb103-198" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span> </span>
<span id="cb103-199"><a href="#cb103-199" aria-hidden="true" tabindex="-1"></a> <span class="fu">summarise</span>(<span class="at">polarity =</span> <span class="fu">mean</span>(polarity),</span>
<span id="cb103-200"><a href="#cb103-200" aria-hidden="true" tabindex="-1"></a>           <span class="at">anger =</span> <span class="fu">sum</span>(anger),</span>
<span id="cb103-201"><a href="#cb103-201" aria-hidden="true" tabindex="-1"></a>           <span class="at">anticipation =</span> <span class="fu">sum</span>(anticipation), </span>
<span id="cb103-202"><a href="#cb103-202" aria-hidden="true" tabindex="-1"></a>           <span class="at">disgust =</span> <span class="fu">sum</span>(disgust),</span>
<span id="cb103-203"><a href="#cb103-203" aria-hidden="true" tabindex="-1"></a>           <span class="at">fear =</span> <span class="fu">sum</span>(fear),</span>
<span id="cb103-204"><a href="#cb103-204" aria-hidden="true" tabindex="-1"></a>           <span class="at">joy =</span> <span class="fu">sum</span>(joy),</span>
<span id="cb103-205"><a href="#cb103-205" aria-hidden="true" tabindex="-1"></a>           <span class="at">negative =</span> <span class="fu">sum</span>(negative),</span>
<span id="cb103-206"><a href="#cb103-206" aria-hidden="true" tabindex="-1"></a>           <span class="at">positive =</span> <span class="fu">sum</span>(positive),</span>
<span id="cb103-207"><a href="#cb103-207" aria-hidden="true" tabindex="-1"></a>           <span class="at">sadness =</span> <span class="fu">sum</span>(sadness),</span>
<span id="cb103-208"><a href="#cb103-208" aria-hidden="true" tabindex="-1"></a>           <span class="at">surprise =</span> <span class="fu">sum</span>(surprise),</span>
<span id="cb103-209"><a href="#cb103-209" aria-hidden="true" tabindex="-1"></a>           <span class="at">trust =</span> <span class="fu">sum</span>(trust)) <span class="sc">%&gt;%</span> </span>
<span id="cb103-210"><a href="#cb103-210" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb103-211"><a href="#cb103-211" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word_count =</span> <span class="fu">sum</span>(<span class="fu">c_across</span>(anger<span class="sc">:</span>trust), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb103-212"><a href="#cb103-212" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">anger_percent =</span> <span class="fu">round</span>(anger <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-213"><a href="#cb103-213" aria-hidden="true" tabindex="-1"></a>          <span class="at">anticipation_percent =</span> <span class="fu">round</span>(anticipation <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-214"><a href="#cb103-214" aria-hidden="true" tabindex="-1"></a>          <span class="at">disgust_percent =</span> <span class="fu">round</span>(disgust<span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-215"><a href="#cb103-215" aria-hidden="true" tabindex="-1"></a>          <span class="at">fear_percent =</span> <span class="fu">round</span>(fear <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-216"><a href="#cb103-216" aria-hidden="true" tabindex="-1"></a>          <span class="at">joy_percent =</span> <span class="fu">round</span>(joy <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-217"><a href="#cb103-217" aria-hidden="true" tabindex="-1"></a>          <span class="at">negative_percent =</span> <span class="fu">round</span>(negative <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-218"><a href="#cb103-218" aria-hidden="true" tabindex="-1"></a>          <span class="at">positive_percent =</span> <span class="fu">round</span>(positive <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-219"><a href="#cb103-219" aria-hidden="true" tabindex="-1"></a>          <span class="at">sadness_percent =</span> <span class="fu">round</span>(sadness <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-220"><a href="#cb103-220" aria-hidden="true" tabindex="-1"></a>          <span class="at">surprise_percent =</span> <span class="fu">round</span>(surprise <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-221"><a href="#cb103-221" aria-hidden="true" tabindex="-1"></a>          <span class="at">trust_percent =</span> <span class="fu">round</span>(trust <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb103-222"><a href="#cb103-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-223"><a href="#cb103-223" aria-hidden="true" tabindex="-1"></a>twitter_emotions <span class="ot">&lt;-</span> tdf_nrc <span class="sc">%&gt;%</span> </span>
<span id="cb103-224"><a href="#cb103-224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span> </span>
<span id="cb103-225"><a href="#cb103-225" aria-hidden="true" tabindex="-1"></a> <span class="fu">summarise</span>(<span class="at">polarity =</span> <span class="fu">mean</span>(polarity),</span>
<span id="cb103-226"><a href="#cb103-226" aria-hidden="true" tabindex="-1"></a>           <span class="at">anger =</span> <span class="fu">sum</span>(anger),</span>
<span id="cb103-227"><a href="#cb103-227" aria-hidden="true" tabindex="-1"></a>           <span class="at">anticipation =</span> <span class="fu">sum</span>(anticipation), </span>
<span id="cb103-228"><a href="#cb103-228" aria-hidden="true" tabindex="-1"></a>           <span class="at">disgust =</span> <span class="fu">sum</span>(disgust),</span>
<span id="cb103-229"><a href="#cb103-229" aria-hidden="true" tabindex="-1"></a>           <span class="at">fear =</span> <span class="fu">sum</span>(fear),</span>
<span id="cb103-230"><a href="#cb103-230" aria-hidden="true" tabindex="-1"></a>           <span class="at">joy =</span> <span class="fu">sum</span>(joy),</span>
<span id="cb103-231"><a href="#cb103-231" aria-hidden="true" tabindex="-1"></a>           <span class="at">negative =</span> <span class="fu">sum</span>(negative),</span>
<span id="cb103-232"><a href="#cb103-232" aria-hidden="true" tabindex="-1"></a>           <span class="at">positive =</span> <span class="fu">sum</span>(positive),</span>
<span id="cb103-233"><a href="#cb103-233" aria-hidden="true" tabindex="-1"></a>           <span class="at">sadness =</span> <span class="fu">sum</span>(sadness),</span>
<span id="cb103-234"><a href="#cb103-234" aria-hidden="true" tabindex="-1"></a>           <span class="at">surprise =</span> <span class="fu">sum</span>(surprise),</span>
<span id="cb103-235"><a href="#cb103-235" aria-hidden="true" tabindex="-1"></a>           <span class="at">trust =</span> <span class="fu">sum</span>(trust)) <span class="sc">%&gt;%</span> </span>
<span id="cb103-236"><a href="#cb103-236" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb103-237"><a href="#cb103-237" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word_count =</span> <span class="fu">sum</span>(<span class="fu">c_across</span>(anger<span class="sc">:</span>trust), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb103-238"><a href="#cb103-238" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">anger_percent =</span> <span class="fu">round</span>(anger <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>)<span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-239"><a href="#cb103-239" aria-hidden="true" tabindex="-1"></a>          <span class="at">anticipation_percent =</span> <span class="fu">round</span>(anticipation <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-240"><a href="#cb103-240" aria-hidden="true" tabindex="-1"></a>          <span class="at">disgust_percent =</span> <span class="fu">round</span>(disgust<span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-241"><a href="#cb103-241" aria-hidden="true" tabindex="-1"></a>          <span class="at">fear_percent =</span> <span class="fu">round</span>(fear <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-242"><a href="#cb103-242" aria-hidden="true" tabindex="-1"></a>          <span class="at">joy_percent =</span> <span class="fu">round</span>(joy <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-243"><a href="#cb103-243" aria-hidden="true" tabindex="-1"></a>          <span class="at">negative_percent =</span> <span class="fu">round</span>(negative <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-244"><a href="#cb103-244" aria-hidden="true" tabindex="-1"></a>          <span class="at">positive_percent =</span> <span class="fu">round</span>(positive <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-245"><a href="#cb103-245" aria-hidden="true" tabindex="-1"></a>          <span class="at">sadness_percent =</span> <span class="fu">round</span>(sadness <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-246"><a href="#cb103-246" aria-hidden="true" tabindex="-1"></a>          <span class="at">surprise_percent =</span> <span class="fu">round</span>(surprise <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb103-247"><a href="#cb103-247" aria-hidden="true" tabindex="-1"></a>          <span class="at">trust_percent =</span> <span class="fu">round</span>(trust <span class="sc">/</span> <span class="fu">sum</span>(word_count), <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb103-248"><a href="#cb103-248" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb103-249"><a href="#cb103-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-250"><a href="#cb103-250" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-251"><a href="#cb103-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-252"><a href="#cb103-252" aria-hidden="true" tabindex="-1"></a><span class="in">```{r filter count}</span></span>
<span id="cb103-253"><a href="#cb103-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-254"><a href="#cb103-254" aria-hidden="true" tabindex="-1"></a>twitter_emotions <span class="ot">&lt;-</span> twitter_emotions <span class="sc">%&gt;%</span> </span>
<span id="cb103-255"><a href="#cb103-255" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(word_count <span class="sc">&gt;</span> <span class="dv">100</span>)</span>
<span id="cb103-256"><a href="#cb103-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-257"><a href="#cb103-257" aria-hidden="true" tabindex="-1"></a>reddit_emotions <span class="ot">&lt;-</span> reddit_emotions <span class="sc">%&gt;%</span> </span>
<span id="cb103-258"><a href="#cb103-258" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(word_count <span class="sc">&gt;</span> <span class="dv">100</span>)</span>
<span id="cb103-259"><a href="#cb103-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-260"><a href="#cb103-260" aria-hidden="true" tabindex="-1"></a>anger <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-261"><a href="#cb103-261" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> anger_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> anger_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-262"><a href="#cb103-262" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-263"><a href="#cb103-263" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb103-264"><a href="#cb103-264" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-265"><a href="#cb103-265" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit anger percentage by date&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;anger percent&quot;</span>)</span>
<span id="cb103-266"><a href="#cb103-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-267"><a href="#cb103-267" aria-hidden="true" tabindex="-1"></a>anticipation <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-268"><a href="#cb103-268" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> anticipation_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> anticipation_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-269"><a href="#cb103-269" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-270"><a href="#cb103-270" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb103-271"><a href="#cb103-271" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-272"><a href="#cb103-272" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit anticipation percentage by date&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;anticipation percent&quot;</span>)</span>
<span id="cb103-273"><a href="#cb103-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-274"><a href="#cb103-274" aria-hidden="true" tabindex="-1"></a>disgust <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-275"><a href="#cb103-275" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> disgust_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> disgust_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-276"><a href="#cb103-276" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-277"><a href="#cb103-277" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb103-278"><a href="#cb103-278" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-279"><a href="#cb103-279" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit disgust percentage by date&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;disgust percent&quot;</span>)</span>
<span id="cb103-280"><a href="#cb103-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-281"><a href="#cb103-281" aria-hidden="true" tabindex="-1"></a>fear <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-282"><a href="#cb103-282" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> fear_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> fear_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-283"><a href="#cb103-283" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-284"><a href="#cb103-284" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb103-285"><a href="#cb103-285" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-286"><a href="#cb103-286" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit fear percentage by date&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;fear percent&quot;</span>)</span>
<span id="cb103-287"><a href="#cb103-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-288"><a href="#cb103-288" aria-hidden="true" tabindex="-1"></a>joy <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-289"><a href="#cb103-289" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> joy_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> joy_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-290"><a href="#cb103-290" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-291"><a href="#cb103-291" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb103-292"><a href="#cb103-292" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-293"><a href="#cb103-293" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit joy percentage by date&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;joy percent&quot;</span>)</span>
<span id="cb103-294"><a href="#cb103-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-295"><a href="#cb103-295" aria-hidden="true" tabindex="-1"></a>sadness <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-296"><a href="#cb103-296" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sadness_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sadness_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-297"><a href="#cb103-297" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-298"><a href="#cb103-298" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb103-299"><a href="#cb103-299" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-300"><a href="#cb103-300" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit sadness percentage by date&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;sadness percent&quot;</span>)</span>
<span id="cb103-301"><a href="#cb103-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-302"><a href="#cb103-302" aria-hidden="true" tabindex="-1"></a>surprise <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-303"><a href="#cb103-303" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> surprise_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> surprise_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-304"><a href="#cb103-304" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-305"><a href="#cb103-305" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb103-306"><a href="#cb103-306" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-307"><a href="#cb103-307" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit surprise percentage by date&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;surprise percent&quot;</span>)</span>
<span id="cb103-308"><a href="#cb103-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-309"><a href="#cb103-309" aria-hidden="true" tabindex="-1"></a>trust <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-310"><a href="#cb103-310" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> trust_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> trust_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-311"><a href="#cb103-311" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-312"><a href="#cb103-312" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb103-313"><a href="#cb103-313" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-314"><a href="#cb103-314" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit trust percentage by date&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;trust percent&quot;</span>)</span>
<span id="cb103-315"><a href="#cb103-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-316"><a href="#cb103-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-317"><a href="#cb103-317" aria-hidden="true" tabindex="-1"></a>negative <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-318"><a href="#cb103-318" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> negative_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> negative_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-319"><a href="#cb103-319" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-320"><a href="#cb103-320" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb103-321"><a href="#cb103-321" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-322"><a href="#cb103-322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit negativeness percentage by date&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;negative percent&quot;</span>)</span>
<span id="cb103-323"><a href="#cb103-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-324"><a href="#cb103-324" aria-hidden="true" tabindex="-1"></a>positive <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-325"><a href="#cb103-325" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> positive_percent, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> positive_percent, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-326"><a href="#cb103-326" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-327"><a href="#cb103-327" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb103-328"><a href="#cb103-328" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-329"><a href="#cb103-329" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit positveness percentage by date&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;positive percent&quot;</span>)</span>
<span id="cb103-330"><a href="#cb103-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-331"><a href="#cb103-331" aria-hidden="true" tabindex="-1"></a>anger </span>
<span id="cb103-332"><a href="#cb103-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-333"><a href="#cb103-333" aria-hidden="true" tabindex="-1"></a>disgust </span>
<span id="cb103-334"><a href="#cb103-334" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb103-335"><a href="#cb103-335" aria-hidden="true" tabindex="-1"></a>fear</span>
<span id="cb103-336"><a href="#cb103-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-337"><a href="#cb103-337" aria-hidden="true" tabindex="-1"></a>sadness </span>
<span id="cb103-338"><a href="#cb103-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-339"><a href="#cb103-339" aria-hidden="true" tabindex="-1"></a>anticipation</span>
<span id="cb103-340"><a href="#cb103-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-341"><a href="#cb103-341" aria-hidden="true" tabindex="-1"></a>joy </span>
<span id="cb103-342"><a href="#cb103-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-343"><a href="#cb103-343" aria-hidden="true" tabindex="-1"></a>surprise</span>
<span id="cb103-344"><a href="#cb103-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-345"><a href="#cb103-345" aria-hidden="true" tabindex="-1"></a>trust</span>
<span id="cb103-346"><a href="#cb103-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-347"><a href="#cb103-347" aria-hidden="true" tabindex="-1"></a>positive</span>
<span id="cb103-348"><a href="#cb103-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-349"><a href="#cb103-349" aria-hidden="true" tabindex="-1"></a>negative</span>
<span id="cb103-350"><a href="#cb103-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-351"><a href="#cb103-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-352"><a href="#cb103-352" aria-hidden="true" tabindex="-1"></a>twitter_reddit_sentiment <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-353"><a href="#cb103-353" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> polarity, <span class="at">color=</span><span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> polarity, <span class="at">color =</span> <span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb103-354"><a href="#cb103-354" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-355"><a href="#cb103-355" aria-hidden="true" tabindex="-1"></a>                  <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb103-356"><a href="#cb103-356" aria-hidden="true" tabindex="-1"></a>                  <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;blue&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-357"><a href="#cb103-357" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit average dictionary sentiment&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;sentiment&quot;</span>)</span>
<span id="cb103-358"><a href="#cb103-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-359"><a href="#cb103-359" aria-hidden="true" tabindex="-1"></a>twitter_reddit_sentiment</span>
<span id="cb103-360"><a href="#cb103-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-361"><a href="#cb103-361" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-362"><a href="#cb103-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-363"><a href="#cb103-363" aria-hidden="true" tabindex="-1"></a>Since we have it in a line graph, lets go ahead and try to do a comparison in a bar chart for all emotions together.</span>
<span id="cb103-364"><a href="#cb103-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-365"><a href="#cb103-365" aria-hidden="true" tabindex="-1"></a><span class="fu">## Graphs New!</span></span>
<span id="cb103-366"><a href="#cb103-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-367"><a href="#cb103-367" aria-hidden="true" tabindex="-1"></a><span class="in">```{r bar chart graph}</span></span>
<span id="cb103-368"><a href="#cb103-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-369"><a href="#cb103-369" aria-hidden="true" tabindex="-1"></a>twitter_emotions_pivot <span class="ot">&lt;-</span> twitter_emotions <span class="sc">%&gt;%</span> </span>
<span id="cb103-370"><a href="#cb103-370" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">c</span>(anger, disgust, fear, sadness, anticipation, joy, surprise, trust), <span class="at">names_to =</span> <span class="st">&quot;words&quot;</span>)</span>
<span id="cb103-371"><a href="#cb103-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-372"><a href="#cb103-372" aria-hidden="true" tabindex="-1"></a>t_emotions <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb103-373"><a href="#cb103-373" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data =</span> twitter_emotions_pivot, <span class="fu">aes</span>(<span class="at">x =</span> words, <span class="at">weight =</span> value, <span class="at">fill =</span> words)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Twitter sentiments&quot;</span>)</span>
<span id="cb103-374"><a href="#cb103-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-375"><a href="#cb103-375" aria-hidden="true" tabindex="-1"></a>reddit_emotions_pivot <span class="ot">&lt;-</span> reddit_emotions <span class="sc">%&gt;%</span> </span>
<span id="cb103-376"><a href="#cb103-376" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">c</span>(anger, disgust, fear, sadness, anticipation, joy, surprise, trust), <span class="at">names_to =</span> <span class="st">&quot;words&quot;</span>)</span>
<span id="cb103-377"><a href="#cb103-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-378"><a href="#cb103-378" aria-hidden="true" tabindex="-1"></a>r_emotions <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb103-379"><a href="#cb103-379" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data =</span> reddit_emotions_pivot, <span class="fu">aes</span>(<span class="at">x =</span> words, <span class="at">weight =</span> value, <span class="at">fill =</span> words)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Reddit sentiments&quot;</span>)</span>
<span id="cb103-380"><a href="#cb103-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-381"><a href="#cb103-381" aria-hidden="true" tabindex="-1"></a>t_emotions </span>
<span id="cb103-382"><a href="#cb103-382" aria-hidden="true" tabindex="-1"></a>r_emotions</span>
<span id="cb103-383"><a href="#cb103-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-384"><a href="#cb103-384" aria-hidden="true" tabindex="-1"></a>twitter_emotions_pivot_2 <span class="ot">&lt;-</span> twitter_emotions <span class="sc">%&gt;%</span> </span>
<span id="cb103-385"><a href="#cb103-385" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">c</span>(positive, negative), <span class="at">names_to =</span> <span class="st">&quot;words&quot;</span>)</span>
<span id="cb103-386"><a href="#cb103-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-387"><a href="#cb103-387" aria-hidden="true" tabindex="-1"></a>t_np <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb103-388"><a href="#cb103-388" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data =</span> twitter_emotions_pivot_2, <span class="fu">aes</span>(<span class="at">x =</span> words, <span class="at">weight =</span> value, <span class="at">fill =</span> words)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Twitter sentiments&quot;</span>)</span>
<span id="cb103-389"><a href="#cb103-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-390"><a href="#cb103-390" aria-hidden="true" tabindex="-1"></a>reddit_emotions_pivot_2 <span class="ot">&lt;-</span> reddit_emotions <span class="sc">%&gt;%</span> </span>
<span id="cb103-391"><a href="#cb103-391" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">c</span>(positive, negative), <span class="at">names_to =</span> <span class="st">&quot;words&quot;</span>)</span>
<span id="cb103-392"><a href="#cb103-392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-393"><a href="#cb103-393" aria-hidden="true" tabindex="-1"></a>r_np <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb103-394"><a href="#cb103-394" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data =</span> reddit_emotions_pivot_2, <span class="fu">aes</span>(<span class="at">x =</span> words, <span class="at">weight =</span> value, <span class="at">fill =</span> words)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Reddit sentiments&quot;</span>)</span>
<span id="cb103-395"><a href="#cb103-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-396"><a href="#cb103-396" aria-hidden="true" tabindex="-1"></a>t_np</span>
<span id="cb103-397"><a href="#cb103-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-398"><a href="#cb103-398" aria-hidden="true" tabindex="-1"></a>r_np</span>
<span id="cb103-399"><a href="#cb103-399" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-400"><a href="#cb103-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-401"><a href="#cb103-401" aria-hidden="true" tabindex="-1"></a>Overall we&#39;re able to see that for Twitter the top three sentiments are: anticipation, joy and trust. For Reddit the top three sentiments are: trust, anticipation, and joy. This is interesting as it seems Reddit and Twitter share similar feelings about the show from a pure word count standpoint.</span>
<span id="cb103-402"><a href="#cb103-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-403"><a href="#cb103-403" aria-hidden="true" tabindex="-1"></a>Additionally we can see there is a much higher word count for positive words for Reddit and Twitter.</span>
<span id="cb103-404"><a href="#cb103-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-405"><a href="#cb103-405" aria-hidden="true" tabindex="-1"></a><span class="in">```{r sentiments by social media}</span></span>
<span id="cb103-406"><a href="#cb103-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-407"><a href="#cb103-407" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-408"><a href="#cb103-408" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> anger_percent, <span class="at">color =</span> <span class="st">&quot;anger&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> anticipation_percent, <span class="at">color =</span> <span class="st">&quot;anticipation&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> disgust_percent, <span class="at">color =</span> <span class="st">&quot;disgust&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> fear_percent, <span class="at">color =</span> <span class="st">&quot;fear&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> joy_percent, <span class="at">color =</span> <span class="st">&quot;joy&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sadness_percent, <span class="at">color =</span> <span class="st">&quot;sadness&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> surprise_percent, <span class="at">color =</span> <span class="st">&quot;surprise&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> trust_percent, <span class="at">color =</span> <span class="st">&quot;trust&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb103-409"><a href="#cb103-409" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Sentiments&#39;</span>,</span>
<span id="cb103-410"><a href="#cb103-410" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;anger&#39;</span>, <span class="st">&#39;anticipation&#39;</span>, <span class="st">&#39;disgust&#39;</span>, <span class="st">&#39;fear&#39;</span>, <span class="st">&#39;joy&#39;</span>, <span class="st">&#39;sadness&#39;</span>, <span class="st">&#39;surprise&#39;</span>, <span class="st">&#39;trust&#39;</span>),</span>
<span id="cb103-411"><a href="#cb103-411" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;anger&#39;</span><span class="ot">=</span><span class="st">&#39;#4E79A7&#39;</span>, <span class="st">&#39;anticipation&#39;</span><span class="ot">=</span><span class="st">&#39;#F28E2B&#39;</span>, <span class="st">&#39;disgust&#39;</span> <span class="ot">=</span> <span class="st">&#39;#E15759&#39;</span>, <span class="st">&#39;fear&#39;</span> <span class="ot">=</span> <span class="st">&#39;#76B7B2&#39;</span>, <span class="st">&#39;joy&#39;</span> <span class="ot">=</span> <span class="st">&#39;#59A14F&#39;</span>, <span class="st">&#39;sadness&#39;</span> <span class="ot">=</span> <span class="st">&#39;#EDC948&#39;</span>, <span class="st">&#39;surprise&#39;</span> <span class="ot">=</span> <span class="st">&#39;#B07AA1&#39;</span>, <span class="st">&#39;trust&#39;</span> <span class="ot">=</span> <span class="st">&#39;#FF9DA7&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-412"><a href="#cb103-412" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Reddit sentiment percentages by date&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;percent&quot;</span>)</span>
<span id="cb103-413"><a href="#cb103-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-414"><a href="#cb103-414" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-415"><a href="#cb103-415" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> anger_percent, <span class="at">color =</span> <span class="st">&quot;anger&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> anticipation_percent, <span class="at">color =</span> <span class="st">&quot;anticipation&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> disgust_percent, <span class="at">color =</span> <span class="st">&quot;disgust&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> fear_percent, <span class="at">color =</span> <span class="st">&quot;fear&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> joy_percent, <span class="at">color =</span> <span class="st">&quot;joy&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sadness_percent, <span class="at">color =</span> <span class="st">&quot;sadness&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> surprise_percent, <span class="at">color =</span> <span class="st">&quot;surprise&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> trust_percent, <span class="at">color =</span> <span class="st">&quot;trust&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb103-416"><a href="#cb103-416" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Sentiments&#39;</span>,</span>
<span id="cb103-417"><a href="#cb103-417" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;anger&#39;</span>, <span class="st">&#39;anticipation&#39;</span>, <span class="st">&#39;disgust&#39;</span>, <span class="st">&#39;fear&#39;</span>, <span class="st">&#39;joy&#39;</span>, <span class="st">&#39;sadness&#39;</span>, <span class="st">&#39;surprise&#39;</span>, <span class="st">&#39;trust&#39;</span>),</span>
<span id="cb103-418"><a href="#cb103-418" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;anger&#39;</span><span class="ot">=</span><span class="st">&#39;#4E79A7&#39;</span>, <span class="st">&#39;anticipation&#39;</span><span class="ot">=</span><span class="st">&#39;#F28E2B&#39;</span>, <span class="st">&#39;disgust&#39;</span> <span class="ot">=</span> <span class="st">&#39;#E15759&#39;</span>, <span class="st">&#39;fear&#39;</span> <span class="ot">=</span> <span class="st">&#39;#76B7B2&#39;</span>, <span class="st">&#39;joy&#39;</span> <span class="ot">=</span> <span class="st">&#39;#59A14F&#39;</span>, <span class="st">&#39;sadness&#39;</span> <span class="ot">=</span> <span class="st">&#39;#EDC948&#39;</span>, <span class="st">&#39;surprise&#39;</span> <span class="ot">=</span> <span class="st">&#39;#B07AA1&#39;</span>, <span class="st">&#39;trust&#39;</span> <span class="ot">=</span> <span class="st">&#39;#FF9DA7&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-419"><a href="#cb103-419" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter sentiment percentages by date&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;percent&quot;</span>)</span>
<span id="cb103-420"><a href="#cb103-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-421"><a href="#cb103-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-422"><a href="#cb103-422" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-423"><a href="#cb103-423" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> positive_percent, <span class="at">color =</span> <span class="st">&quot;positive&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> negative_percent, <span class="at">color =</span> <span class="st">&quot;negative&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb103-424"><a href="#cb103-424" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Sentiments&#39;</span>,</span>
<span id="cb103-425"><a href="#cb103-425" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;positive&#39;</span>, <span class="st">&#39;negative&#39;</span>),</span>
<span id="cb103-426"><a href="#cb103-426" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;positive&#39;</span><span class="ot">=</span><span class="st">&#39;#E28394&#39;</span>, <span class="st">&#39;negative&#39;</span><span class="ot">=</span><span class="st">&#39;#77A2BB&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-427"><a href="#cb103-427" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter positive and negative sentiment percentages by date&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;percent&quot;</span>)</span>
<span id="cb103-428"><a href="#cb103-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-429"><a href="#cb103-429" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-430"><a href="#cb103-430" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> positive_percent, <span class="at">color =</span> <span class="st">&quot;positive&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> negative_percent, <span class="at">color =</span> <span class="st">&quot;negative&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb103-431"><a href="#cb103-431" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Sentiments&#39;</span>,</span>
<span id="cb103-432"><a href="#cb103-432" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;positive&#39;</span>, <span class="st">&#39;negative&#39;</span>),</span>
<span id="cb103-433"><a href="#cb103-433" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;positive&#39;</span><span class="ot">=</span><span class="st">&#39;#E28394&#39;</span>, <span class="st">&#39;negative&#39;</span><span class="ot">=</span><span class="st">&#39;#77A2BB&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-434"><a href="#cb103-434" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Reddit positive and negative sentiment percentages by date&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;percent&quot;</span>)</span>
<span id="cb103-435"><a href="#cb103-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-436"><a href="#cb103-436" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-437"><a href="#cb103-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-438"><a href="#cb103-438" aria-hidden="true" tabindex="-1"></a>I have also added a few more graphs that I am unsure if I will use them in the final project. I think they&#39;re all very interesting, but would need to figure out what the best ones would be to include.</span>
<span id="cb103-439"><a href="#cb103-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-440"><a href="#cb103-440" aria-hidden="true" tabindex="-1"></a><span class="fu">## Sentiment New!</span></span>
<span id="cb103-441"><a href="#cb103-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-442"><a href="#cb103-442" aria-hidden="true" tabindex="-1"></a>I also want to try another way of doing sentiment analysis. This is a packaged called sentimentR</span>
<span id="cb103-443"><a href="#cb103-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-444"><a href="#cb103-444" aria-hidden="true" tabindex="-1"></a><span class="in">```{r twitter sentiment r}</span></span>
<span id="cb103-445"><a href="#cb103-445" aria-hidden="true" tabindex="-1"></a><span class="co"># create named array of equal lengths</span></span>
<span id="cb103-446"><a href="#cb103-446" aria-hidden="true" tabindex="-1"></a>twitter_sen <span class="ot">&lt;-</span> <span class="fu">sapply</span>(twitter_lemmitized, <span class="st">&#39;[&#39;</span>, <span class="fu">seq</span>(<span class="fu">max</span>(<span class="fu">lengths</span>(twitter_lemmitized))))</span>
<span id="cb103-447"><a href="#cb103-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-448"><a href="#cb103-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-449"><a href="#cb103-449" aria-hidden="true" tabindex="-1"></a>tout <span class="ot">&lt;-</span> twitter_sen <span class="sc">%&gt;%</span></span>
<span id="cb103-450"><a href="#cb103-450" aria-hidden="true" tabindex="-1"></a>   <span class="fu">as_tibble</span>()  <span class="sc">%&gt;%</span></span>
<span id="cb103-451"><a href="#cb103-451" aria-hidden="true" tabindex="-1"></a>   <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">&quot;text&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;tokens&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb103-452"><a href="#cb103-452" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb103-453"><a href="#cb103-453" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb103-454"><a href="#cb103-454" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">tokens =</span> <span class="fu">paste</span>(tokens, <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>))</span>
<span id="cb103-455"><a href="#cb103-455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-456"><a href="#cb103-456" aria-hidden="true" tabindex="-1"></a>tout<span class="sc">$</span>date <span class="ot">&lt;-</span> tdf_nrc<span class="sc">$</span>date</span>
<span id="cb103-457"><a href="#cb103-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-458"><a href="#cb103-458" aria-hidden="true" tabindex="-1"></a>tout <span class="ot">&lt;-</span> tout <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(tokens)) </span>
<span id="cb103-459"><a href="#cb103-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-460"><a href="#cb103-460" aria-hidden="true" tabindex="-1"></a>tout<span class="sc">$</span>tokens <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&#39;NA&#39;</span>, <span class="st">&#39;&#39;</span>, tout<span class="sc">$</span>tokens)</span>
<span id="cb103-461"><a href="#cb103-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-462"><a href="#cb103-462" aria-hidden="true" tabindex="-1"></a>twitter_sent <span class="ot">&lt;-</span> tout <span class="sc">%&gt;%</span> </span>
<span id="cb103-463"><a href="#cb103-463" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-464"><a href="#cb103-464" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-465"><a href="#cb103-465" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">polarity_level =</span> <span class="fu">ifelse</span>(sentiment <span class="sc">&lt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Negative&quot;</span>,</span>
<span id="cb103-466"><a href="#cb103-466" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">ifelse</span>(sentiment <span class="sc">&gt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Positive&quot;</span>,<span class="st">&quot;Neutral&quot;</span>)))  <span class="sc">%&gt;%</span> </span>
<span id="cb103-467"><a href="#cb103-467" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(word_count <span class="sc">&gt;</span> <span class="dv">10</span>)</span>
<span id="cb103-468"><a href="#cb103-468" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb103-469"><a href="#cb103-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-470"><a href="#cb103-470" aria-hidden="true" tabindex="-1"></a>twitter_sent<span class="sc">$</span>tokens <span class="sc">%&gt;%</span> </span>
<span id="cb103-471"><a href="#cb103-471" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>(<span class="at">by =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb103-472"><a href="#cb103-472" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>() <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb103-473"><a href="#cb103-473" aria-hidden="true" tabindex="-1"></a>  <span class="fu">highlight</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-474"><a href="#cb103-474" aria-hidden="true" tabindex="-1"></a>  <span class="fu">view</span>()</span>
<span id="cb103-475"><a href="#cb103-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-476"><a href="#cb103-476" aria-hidden="true" tabindex="-1"></a>twitter_sent<span class="sc">$</span>tokens <span class="sc">%&gt;%</span> </span>
<span id="cb103-477"><a href="#cb103-477" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-478"><a href="#cb103-478" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>(<span class="at">by =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb103-479"><a href="#cb103-479" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="fu">aes</span>(ave_sentiment))</span>
<span id="cb103-480"><a href="#cb103-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-481"><a href="#cb103-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-482"><a href="#cb103-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-483"><a href="#cb103-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-484"><a href="#cb103-484" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-485"><a href="#cb103-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-486"><a href="#cb103-486" aria-hidden="true" tabindex="-1"></a><span class="in">```{r new sentinment reddit r}</span></span>
<span id="cb103-487"><a href="#cb103-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-488"><a href="#cb103-488" aria-hidden="true" tabindex="-1"></a><span class="co"># create named array of equal lengths</span></span>
<span id="cb103-489"><a href="#cb103-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-490"><a href="#cb103-490" aria-hidden="true" tabindex="-1"></a>reddit_lemmitized<span class="sc">$</span>date <span class="ot">&lt;-</span> reddit_lemmitized<span class="sc">$</span>date</span>
<span id="cb103-491"><a href="#cb103-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-492"><a href="#cb103-492" aria-hidden="true" tabindex="-1"></a>reddit_sen <span class="ot">&lt;-</span> <span class="fu">sapply</span>(reddit_lemmitized, <span class="st">&#39;[&#39;</span>, <span class="fu">seq</span>(<span class="fu">max</span>(<span class="fu">lengths</span>(reddit_lemmitized))))</span>
<span id="cb103-493"><a href="#cb103-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-494"><a href="#cb103-494" aria-hidden="true" tabindex="-1"></a>rout <span class="ot">&lt;-</span> reddit_sen <span class="sc">%&gt;%</span></span>
<span id="cb103-495"><a href="#cb103-495" aria-hidden="true" tabindex="-1"></a>   <span class="fu">as_tibble</span>()  <span class="sc">%&gt;%</span></span>
<span id="cb103-496"><a href="#cb103-496" aria-hidden="true" tabindex="-1"></a>   <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">&quot;text&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;tokens&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb103-497"><a href="#cb103-497" aria-hidden="true" tabindex="-1"></a>   <span class="fu">arrange</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb103-498"><a href="#cb103-498" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(text) <span class="sc">%&gt;%</span> </span>
<span id="cb103-499"><a href="#cb103-499" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">tokens =</span> <span class="fu">paste</span>(tokens, <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>))</span>
<span id="cb103-500"><a href="#cb103-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-501"><a href="#cb103-501" aria-hidden="true" tabindex="-1"></a>rout<span class="sc">$</span>date <span class="ot">&lt;-</span> rdf_nrc<span class="sc">$</span>date</span>
<span id="cb103-502"><a href="#cb103-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-503"><a href="#cb103-503" aria-hidden="true" tabindex="-1"></a>rout <span class="ot">&lt;-</span> rout <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(tokens))  <span class="co"># remove NA values of each text</span></span>
<span id="cb103-504"><a href="#cb103-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-505"><a href="#cb103-505" aria-hidden="true" tabindex="-1"></a>rout<span class="sc">$</span>tokens <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&#39;NA&#39;</span>, <span class="st">&#39;&#39;</span>, rout<span class="sc">$</span>tokens)</span>
<span id="cb103-506"><a href="#cb103-506" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb103-507"><a href="#cb103-507" aria-hidden="true" tabindex="-1"></a>reddit_sent <span class="ot">&lt;-</span> rout <span class="sc">%&gt;%</span> </span>
<span id="cb103-508"><a href="#cb103-508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-509"><a href="#cb103-509" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-510"><a href="#cb103-510" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">polarity_level =</span> <span class="fu">ifelse</span>(sentiment <span class="sc">&lt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Negative&quot;</span>,</span>
<span id="cb103-511"><a href="#cb103-511" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">ifelse</span>(sentiment <span class="sc">&gt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Positive&quot;</span>,<span class="st">&quot;Neutral&quot;</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb103-512"><a href="#cb103-512" aria-hidden="true" tabindex="-1"></a> <span class="fu">filter</span>(word_count <span class="sc">&gt;</span> <span class="dv">10</span>)</span>
<span id="cb103-513"><a href="#cb103-513" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb103-514"><a href="#cb103-514" aria-hidden="true" tabindex="-1"></a>reddit_sent<span class="sc">$</span>tokens <span class="sc">%&gt;%</span> </span>
<span id="cb103-515"><a href="#cb103-515" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>(<span class="at">by =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb103-516"><a href="#cb103-516" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>() <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb103-517"><a href="#cb103-517" aria-hidden="true" tabindex="-1"></a>  <span class="fu">highlight</span>() </span>
<span id="cb103-518"><a href="#cb103-518" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb103-519"><a href="#cb103-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-520"><a href="#cb103-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-521"><a href="#cb103-521" aria-hidden="true" tabindex="-1"></a>reddit_sent<span class="sc">$</span>tokens <span class="sc">%&gt;%</span> </span>
<span id="cb103-522"><a href="#cb103-522" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-523"><a href="#cb103-523" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>() <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb103-524"><a href="#cb103-524" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="fu">aes</span>(ave_sentiment))</span>
<span id="cb103-525"><a href="#cb103-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-526"><a href="#cb103-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-527"><a href="#cb103-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-528"><a href="#cb103-528" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-529"><a href="#cb103-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-530"><a href="#cb103-530" aria-hidden="true" tabindex="-1"></a>Here we&#39;re able to see what the tokens cleaned up into sentences look like to sentimentr. I had tried it originally with the full database (no changing of the words at all) and it was interesting to see the sentence_id actually count the amount of sentences! What I like about this one is it shows you the positive, negative, and neutral by highlighting it and popping up. It allows you to read the sentences to see if you agree with them or not.</span>
<span id="cb103-531"><a href="#cb103-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-532"><a href="#cb103-532" aria-hidden="true" tabindex="-1"></a>Interestingly the overall sentiment according to this package is a bit positive but also fairly neutral by the density.</span>
<span id="cb103-533"><a href="#cb103-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-534"><a href="#cb103-534" aria-hidden="true" tabindex="-1"></a>Unfortunately for word count in a sentence I couldn&#39;t really filter out too many due to Twitter having a character limit. To deal with this I made a filter of at least 10 words.</span>
<span id="cb103-535"><a href="#cb103-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-536"><a href="#cb103-536" aria-hidden="true" tabindex="-1"></a>Below you will find the non-edited data.</span>
<span id="cb103-537"><a href="#cb103-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-538"><a href="#cb103-538" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reddit full}</span></span>
<span id="cb103-539"><a href="#cb103-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-540"><a href="#cb103-540" aria-hidden="true" tabindex="-1"></a>reddit_full <span class="ot">&lt;-</span> reddit <span class="sc">%&gt;%</span> </span>
<span id="cb103-541"><a href="#cb103-541" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-542"><a href="#cb103-542" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-543"><a href="#cb103-543" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">polarity_level =</span> <span class="fu">ifelse</span>(sentiment <span class="sc">&lt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Negative&quot;</span>,</span>
<span id="cb103-544"><a href="#cb103-544" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">ifelse</span>(sentiment <span class="sc">&gt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Positive&quot;</span>,<span class="st">&quot;Neutral&quot;</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb103-545"><a href="#cb103-545" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(word_count <span class="sc">&gt;</span> <span class="dv">10</span>)</span>
<span id="cb103-546"><a href="#cb103-546" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb103-547"><a href="#cb103-547" aria-hidden="true" tabindex="-1"></a>reddit_full<span class="sc">$</span>text <span class="sc">%&gt;%</span> </span>
<span id="cb103-548"><a href="#cb103-548" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>(<span class="at">by =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb103-549"><a href="#cb103-549" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>() <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb103-550"><a href="#cb103-550" aria-hidden="true" tabindex="-1"></a>  <span class="fu">highlight</span>() </span>
<span id="cb103-551"><a href="#cb103-551" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb103-552"><a href="#cb103-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-553"><a href="#cb103-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-554"><a href="#cb103-554" aria-hidden="true" tabindex="-1"></a>reddit_full<span class="sc">$</span>text <span class="sc">%&gt;%</span> </span>
<span id="cb103-555"><a href="#cb103-555" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-556"><a href="#cb103-556" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>() <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb103-557"><a href="#cb103-557" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="fu">aes</span>(ave_sentiment))</span>
<span id="cb103-558"><a href="#cb103-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-559"><a href="#cb103-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-560"><a href="#cb103-560" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-561"><a href="#cb103-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-562"><a href="#cb103-562" aria-hidden="true" tabindex="-1"></a><span class="in">```{r twitter full}</span></span>
<span id="cb103-563"><a href="#cb103-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-564"><a href="#cb103-564" aria-hidden="true" tabindex="-1"></a>twitter_full <span class="ot">&lt;-</span> twitter <span class="sc">%&gt;%</span> </span>
<span id="cb103-565"><a href="#cb103-565" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-566"><a href="#cb103-566" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-567"><a href="#cb103-567" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">polarity_level =</span> <span class="fu">ifelse</span>(sentiment <span class="sc">&lt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Negative&quot;</span>,</span>
<span id="cb103-568"><a href="#cb103-568" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">ifelse</span>(sentiment <span class="sc">&gt;</span> <span class="fl">0.2</span>, <span class="st">&quot;Positive&quot;</span>,<span class="st">&quot;Neutral&quot;</span>)))  <span class="sc">%&gt;%</span> </span>
<span id="cb103-569"><a href="#cb103-569" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(word_count <span class="sc">&gt;</span> <span class="dv">10</span>)</span>
<span id="cb103-570"><a href="#cb103-570" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb103-571"><a href="#cb103-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-572"><a href="#cb103-572" aria-hidden="true" tabindex="-1"></a>twitter_full<span class="sc">$</span>text <span class="sc">%&gt;%</span> </span>
<span id="cb103-573"><a href="#cb103-573" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>(<span class="at">by =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb103-574"><a href="#cb103-574" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>() <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb103-575"><a href="#cb103-575" aria-hidden="true" tabindex="-1"></a>  <span class="fu">highlight</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-576"><a href="#cb103-576" aria-hidden="true" tabindex="-1"></a>  <span class="fu">view</span>()</span>
<span id="cb103-577"><a href="#cb103-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-578"><a href="#cb103-578" aria-hidden="true" tabindex="-1"></a>twitter_full<span class="sc">$</span>text <span class="sc">%&gt;%</span> </span>
<span id="cb103-579"><a href="#cb103-579" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sentences</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb103-580"><a href="#cb103-580" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sentiment_by</span>(<span class="at">by =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> <span class="co">#View()</span></span>
<span id="cb103-581"><a href="#cb103-581" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="fu">aes</span>(ave_sentiment))</span>
<span id="cb103-582"><a href="#cb103-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-583"><a href="#cb103-583" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-584"><a href="#cb103-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-585"><a href="#cb103-585" aria-hidden="true" tabindex="-1"></a><span class="in">```{r comparision}</span></span>
<span id="cb103-586"><a href="#cb103-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-587"><a href="#cb103-587" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> twitter_full <span class="sc">%&gt;%</span> </span>
<span id="cb103-588"><a href="#cb103-588" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span> </span>
<span id="cb103-589"><a href="#cb103-589" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sentiment =</span> <span class="fu">mean</span>(sentiment),</span>
<span id="cb103-590"><a href="#cb103-590" aria-hidden="true" tabindex="-1"></a>         <span class="at">word_count =</span> <span class="fu">sum</span>(word_count)) </span>
<span id="cb103-591"><a href="#cb103-591" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-592"><a href="#cb103-592" aria-hidden="true" tabindex="-1"></a>test2 <span class="ot">&lt;-</span> reddit_full <span class="sc">%&gt;%</span> </span>
<span id="cb103-593"><a href="#cb103-593" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span> </span>
<span id="cb103-594"><a href="#cb103-594" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sentiment =</span> <span class="fu">mean</span>(sentiment),</span>
<span id="cb103-595"><a href="#cb103-595" aria-hidden="true" tabindex="-1"></a>         <span class="at">word_count =</span> <span class="fu">sum</span>(word_count)) </span>
<span id="cb103-596"><a href="#cb103-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-597"><a href="#cb103-597" aria-hidden="true" tabindex="-1"></a>test3 <span class="ot">&lt;-</span> twitter_sent <span class="sc">%&gt;%</span> </span>
<span id="cb103-598"><a href="#cb103-598" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span> </span>
<span id="cb103-599"><a href="#cb103-599" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sentiment =</span> <span class="fu">mean</span>(sentiment),</span>
<span id="cb103-600"><a href="#cb103-600" aria-hidden="true" tabindex="-1"></a>         <span class="at">word_count =</span> <span class="fu">sum</span>(word_count)) </span>
<span id="cb103-601"><a href="#cb103-601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-602"><a href="#cb103-602" aria-hidden="true" tabindex="-1"></a>test4 <span class="ot">&lt;-</span> reddit_sent <span class="sc">%&gt;%</span> </span>
<span id="cb103-603"><a href="#cb103-603" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span> </span>
<span id="cb103-604"><a href="#cb103-604" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sentiment =</span> <span class="fu">mean</span>(sentiment),</span>
<span id="cb103-605"><a href="#cb103-605" aria-hidden="true" tabindex="-1"></a>         <span class="at">word_count =</span> <span class="fu">sum</span>(word_count)) </span>
<span id="cb103-606"><a href="#cb103-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-607"><a href="#cb103-607" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-608"><a href="#cb103-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-609"><a href="#cb103-609" aria-hidden="true" tabindex="-1"></a><span class="in">```{r testing graphs}</span></span>
<span id="cb103-610"><a href="#cb103-610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-611"><a href="#cb103-611" aria-hidden="true" tabindex="-1"></a>         <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-612"><a href="#cb103-612" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> test, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color=</span><span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test2, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-613"><a href="#cb103-613" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-614"><a href="#cb103-614" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb103-615"><a href="#cb103-615" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;#EEA2AD&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;#00B2EE&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-616"><a href="#cb103-616" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit average sentiment of uncleaned data&quot;</span>)</span>
<span id="cb103-617"><a href="#cb103-617" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb103-618"><a href="#cb103-618" aria-hidden="true" tabindex="-1"></a>         <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb103-619"><a href="#cb103-619" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">data =</span> test3, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color=</span><span class="st">&quot;Twitter&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test4, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-620"><a href="#cb103-620" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-621"><a href="#cb103-621" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span>, <span class="st">&#39;Twitter&#39;</span>),</span>
<span id="cb103-622"><a href="#cb103-622" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit&#39;</span><span class="ot">=</span><span class="st">&#39;#B22222&#39;</span>, <span class="st">&#39;Twitter&#39;</span><span class="ot">=</span><span class="st">&#39;#8DEEEE&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-623"><a href="#cb103-623" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit average sentiment of tokens&quot;</span>)         </span>
<span id="cb103-624"><a href="#cb103-624" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb103-625"><a href="#cb103-625" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb103-626"><a href="#cb103-626" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test4, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit Tokens SentimentR&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test3, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Twitter Tokens SentimentR&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test2, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit Uncleaned Data&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Twitter Uncleaned Data&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> polarity, <span class="at">color=</span><span class="st">&quot;Reddit Tokens NRC Dictionary&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> polarity, <span class="at">color =</span> <span class="st">&quot;Twitter Tokens NRC Dictionary&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-627"><a href="#cb103-627" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-628"><a href="#cb103-628" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">c</span>(<span class="st">&#39;Reddit Tokens SentimentR&#39;</span>, <span class="st">&#39;Twitter Tokens SentimentR&#39;</span>, <span class="st">&#39;Reddit Uncleaned Data&#39;</span>, <span class="st">&#39;Twitter Uncleaned Data&#39;</span>, <span class="st">&#39;Reddit Tokens NRC Dictionary&#39;</span>,<span class="st">&#39;Twitter Tokenized NRC Dictionary&#39;</span>),</span>
<span id="cb103-629"><a href="#cb103-629" aria-hidden="true" tabindex="-1"></a>                  <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit Tokens SentimentR&#39;</span><span class="ot">=</span><span class="st">&#39;#B22222&#39;</span>, <span class="st">&#39;Twitter Tokens SentimentR&#39;</span><span class="ot">=</span><span class="st">&#39;#8DEEEE&#39;</span>, <span class="st">&#39;Reddit Uncleaned Data&#39;</span> <span class="ot">=</span> <span class="st">&#39;#EEA2AD&#39;</span>, <span class="st">&#39;Twitter Uncleaned Data&#39;</span> <span class="ot">=</span> <span class="st">&#39;#00B2EE&#39;</span>, <span class="st">&#39;Reddit Tokens NRC Dictionary&#39;</span> <span class="ot">=</span> <span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter Tokens NRC Dictionary&#39;</span> <span class="ot">=</span> <span class="st">&#39;blue&#39;</span>))<span class="sc">+</span></span>
<span id="cb103-630"><a href="#cb103-630" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit average sentiment&quot;</span>)</span>
<span id="cb103-631"><a href="#cb103-631" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb103-632"><a href="#cb103-632" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb103-633"><a href="#cb103-633" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test4, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit Tokens&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test3, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Twitter Tokens&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test2, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit Uncleaned Data&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Twitter Uncleaned Data&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-634"><a href="#cb103-634" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-635"><a href="#cb103-635" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">c</span>(<span class="st">&#39;Reddit Tokens&#39;</span>, <span class="st">&#39;Twitter Tokens&#39;</span>, <span class="st">&#39;Reddit Uncleaned Data&#39;</span>, <span class="st">&#39;Twitter Uncleaned Data&#39;</span>),</span>
<span id="cb103-636"><a href="#cb103-636" aria-hidden="true" tabindex="-1"></a>                  <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit Tokens&#39;</span><span class="ot">=</span><span class="st">&#39;#B22222&#39;</span>, <span class="st">&#39;Twitter Tokens&#39;</span><span class="ot">=</span><span class="st">&#39;#8DEEEE&#39;</span>, <span class="st">&#39;Reddit Uncleaned Data&#39;</span> <span class="ot">=</span> <span class="st">&#39;#EEA2AD&#39;</span>, <span class="st">&#39;Twitter Uncleaned Data&#39;</span> <span class="ot">=</span> <span class="st">&#39;#00B2EE&#39;</span>))<span class="sc">+</span></span>
<span id="cb103-637"><a href="#cb103-637" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit average sentiment&quot;</span>)</span>
<span id="cb103-638"><a href="#cb103-638" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb103-639"><a href="#cb103-639" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb103-640"><a href="#cb103-640" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test4, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit Tokens SentimentR&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test3, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Twitter Tokens SentimentR&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> polarity, <span class="at">color=</span><span class="st">&quot;Reddit Tokens NRC Dictionary&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> polarity, <span class="at">color =</span> <span class="st">&quot;Twitter Tokens NRC Dictionary&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-641"><a href="#cb103-641" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-642"><a href="#cb103-642" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">c</span>(<span class="st">&#39;Reddit Tokens SentimentR&#39;</span>, <span class="st">&#39;Twitter Tokens SentimentR&#39;</span>, <span class="st">&#39;Reddit Tokens NRC Dictionary&#39;</span>,<span class="st">&#39;Twitter Tokens NRC Dictionary&#39;</span>),</span>
<span id="cb103-643"><a href="#cb103-643" aria-hidden="true" tabindex="-1"></a>                  <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit Tokens SentimentR&#39;</span><span class="ot">=</span><span class="st">&#39;#B22222&#39;</span>, <span class="st">&#39;Twitter Tokens SentimentR&#39;</span><span class="ot">=</span><span class="st">&#39;#8DEEEE&#39;</span>, <span class="st">&#39;Reddit Tokens NRC Dictionary&#39;</span> <span class="ot">=</span> <span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter Tokens NRC Dictionary&#39;</span> <span class="ot">=</span> <span class="st">&#39;blue&#39;</span>))<span class="sc">+</span></span>
<span id="cb103-644"><a href="#cb103-644" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit average sentiment&quot;</span>)</span>
<span id="cb103-645"><a href="#cb103-645" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb103-646"><a href="#cb103-646" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb103-647"><a href="#cb103-647" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test2, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit Uncleaned Data&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> test, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> sentiment, <span class="at">color =</span> <span class="st">&quot;Twitter Uncleaned Data&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> reddit_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> polarity, <span class="at">color=</span><span class="st">&quot;Reddit Tokens NRC Dictionary&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">data =</span> twitter_emotions, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> polarity, <span class="at">color =</span> <span class="st">&quot;Twitter Tokens NRC Dictionary&quot;</span>)) <span class="sc">+</span></span>
<span id="cb103-648"><a href="#cb103-648" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-649"><a href="#cb103-649" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">c</span>(<span class="st">&#39;Reddit Uncleaned Data&#39;</span>, <span class="st">&#39;Twitter Uncleaned Data&#39;</span>, <span class="st">&#39;Reddit Tokens NRC Dictionary&#39;</span>,<span class="st">&#39;Twitter Tokenized NRC Dictionary&#39;</span>),</span>
<span id="cb103-650"><a href="#cb103-650" aria-hidden="true" tabindex="-1"></a>                  <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit Uncleaned Data&#39;</span> <span class="ot">=</span> <span class="st">&#39;#EEA2AD&#39;</span>, <span class="st">&#39;Twitter Uncleaned Data&#39;</span> <span class="ot">=</span> <span class="st">&#39;#00B2EE&#39;</span>, <span class="st">&#39;Reddit Tokens NRC Dictionary&#39;</span> <span class="ot">=</span> <span class="st">&#39;red&#39;</span>, <span class="st">&#39;Twitter Tokens NRC Dictionary&#39;</span> <span class="ot">=</span> <span class="st">&#39;blue&#39;</span>))<span class="sc">+</span></span>
<span id="cb103-651"><a href="#cb103-651" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit average sentiment&quot;</span>)</span>
<span id="cb103-652"><a href="#cb103-652" aria-hidden="true" tabindex="-1"></a>                 </span>
<span id="cb103-653"><a href="#cb103-653" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb103-654"><a href="#cb103-654" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">data =</span> test4, <span class="fu">aes</span>(sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit Tokens&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">data =</span> test3, <span class="fu">aes</span>(sentiment, <span class="at">color =</span> <span class="st">&quot;Twitter Tokens&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">data =</span> test2, <span class="fu">aes</span>(sentiment, <span class="at">color =</span> <span class="st">&quot;Reddit Uncleaned Data&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">data =</span> test, <span class="fu">aes</span>(sentiment, <span class="at">color =</span> <span class="st">&quot;Twitter Uncleaned Data&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb103-655"><a href="#cb103-655" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">&#39;Social Medias&#39;</span>,</span>
<span id="cb103-656"><a href="#cb103-656" aria-hidden="true" tabindex="-1"></a>                  <span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Reddit Tokens&#39;</span>, <span class="st">&#39;Twitter Tokens&#39;</span>, <span class="st">&#39;Reddit Uncleaned Data&#39;</span>, <span class="st">&#39;Twitter Uncleaned Data&#39;</span>),</span>
<span id="cb103-657"><a href="#cb103-657" aria-hidden="true" tabindex="-1"></a>                  <span class="at">values=</span><span class="fu">c</span>(<span class="st">&#39;Reddit Tokens&#39;</span><span class="ot">=</span><span class="st">&#39;#B22222&#39;</span>, <span class="st">&#39;Twitter Tokens&#39;</span><span class="ot">=</span><span class="st">&#39;#8DEEEE&#39;</span>, <span class="st">&#39;Reddit Uncleaned Data&#39;</span> <span class="ot">=</span> <span class="st">&#39;#EEA2AD&#39;</span>, <span class="st">&#39;Twitter Uncleaned Data&#39;</span> <span class="ot">=</span> <span class="st">&#39;#00B2EE&#39;</span>)) <span class="sc">+</span></span>
<span id="cb103-658"><a href="#cb103-658" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Twitter vs Reddit average sentiment&quot;</span>)</span>
<span id="cb103-659"><a href="#cb103-659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-660"><a href="#cb103-660" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-661"><a href="#cb103-661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-662"><a href="#cb103-662" aria-hidden="true" tabindex="-1"></a>Here I tested a few more graphs that seemed like interesting ideas to go onto the final project. Although all of them could be good I think the most interesting one is comparing the graphs of uncleaned data to the tokenized version. This shows us the importance of tokenizing and making sure our data is showing an actual sentiment with less filler words.</span>
<span id="cb103-663"><a href="#cb103-663" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-664"><a href="#cb103-664" aria-hidden="true" tabindex="-1"></a><span class="fu"># Word Cloud</span></span>
<span id="cb103-665"><a href="#cb103-665" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-666"><a href="#cb103-666" aria-hidden="true" tabindex="-1"></a><span class="in">```{r wordclouds}</span></span>
<span id="cb103-667"><a href="#cb103-667" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(twitter_corpus_dfm, <span class="at">max_words=</span><span class="dv">200</span>, <span class="at">color=</span><span class="st">&quot;blue&quot;</span>)</span>
<span id="cb103-668"><a href="#cb103-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-669"><a href="#cb103-669" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(reddit_corpus_dfm, <span class="at">max_words=</span><span class="dv">200</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>)</span>
<span id="cb103-670"><a href="#cb103-670" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-671"><a href="#cb103-671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-672"><a href="#cb103-672" aria-hidden="true" tabindex="-1"></a><span class="fu"># LDA New!</span></span>
<span id="cb103-673"><a href="#cb103-673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-674"><a href="#cb103-674" aria-hidden="true" tabindex="-1"></a>Below I will try testing the LDA.</span>
<span id="cb103-675"><a href="#cb103-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-676"><a href="#cb103-676" aria-hidden="true" tabindex="-1"></a><span class="in">```{r lda}</span></span>
<span id="cb103-677"><a href="#cb103-677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-678"><a href="#cb103-678" aria-hidden="true" tabindex="-1"></a>rlda <span class="ot">&lt;-</span> <span class="fu">dfm</span>(reddit_lemmitized)</span>
<span id="cb103-679"><a href="#cb103-679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-680"><a href="#cb103-680" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(reddit_lemmitized) <span class="ot">&lt;-</span> rlda</span>
<span id="cb103-681"><a href="#cb103-681" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-682"><a href="#cb103-682" aria-hidden="true" tabindex="-1"></a>rlda<span class="sc">$</span>polarity <span class="ot">&lt;-</span> rdf_nrc<span class="sc">$</span>polarity</span>
<span id="cb103-683"><a href="#cb103-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-684"><a href="#cb103-684" aria-hidden="true" tabindex="-1"></a>rlda<span class="sc">$</span>date <span class="ot">&lt;-</span> rdf_nrc<span class="sc">$</span>date</span>
<span id="cb103-685"><a href="#cb103-685" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-686"><a href="#cb103-686" aria-hidden="true" tabindex="-1"></a>rlda_model <span class="ot">&lt;-</span> LDA<span class="sc">$</span><span class="fu">new</span>(<span class="at">n_topics =</span> <span class="dv">25</span>, <span class="at">doc_topic_prior =</span> <span class="fl">0.1</span>,</span>
<span id="cb103-687"><a href="#cb103-687" aria-hidden="true" tabindex="-1"></a>                     <span class="at">topic_word_prior =</span> <span class="fl">0.01</span>)</span>
<span id="cb103-688"><a href="#cb103-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-689"><a href="#cb103-689" aria-hidden="true" tabindex="-1"></a>rdoc_topic_distr <span class="ot">&lt;-</span> </span>
<span id="cb103-690"><a href="#cb103-690" aria-hidden="true" tabindex="-1"></a>  rlda_model<span class="sc">$</span><span class="fu">fit_transform</span>(<span class="at">x =</span> rlda, <span class="at">n_iter =</span> <span class="dv">1000</span>,</span>
<span id="cb103-691"><a href="#cb103-691" aria-hidden="true" tabindex="-1"></a>                          <span class="at">convergence_tol =</span> <span class="fl">0.001</span>, <span class="at">n_check_convergence =</span> <span class="dv">25</span>,</span>
<span id="cb103-692"><a href="#cb103-692" aria-hidden="true" tabindex="-1"></a>                          <span class="at">progressbar =</span> <span class="cn">FALSE</span>)</span>
<span id="cb103-693"><a href="#cb103-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-694"><a href="#cb103-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-695"><a href="#cb103-695" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-696"><a href="#cb103-696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-697"><a href="#cb103-697" aria-hidden="true" tabindex="-1"></a><span class="in">```{r t lda}</span></span>
<span id="cb103-698"><a href="#cb103-698" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-699"><a href="#cb103-699" aria-hidden="true" tabindex="-1"></a>tlda <span class="ot">&lt;-</span> <span class="fu">dfm</span>(twitter_lemmitized)</span>
<span id="cb103-700"><a href="#cb103-700" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-701"><a href="#cb103-701" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(twitter_lemmitized) <span class="ot">&lt;-</span> tlda</span>
<span id="cb103-702"><a href="#cb103-702" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-703"><a href="#cb103-703" aria-hidden="true" tabindex="-1"></a>tlda<span class="sc">$</span>polarity <span class="ot">&lt;-</span> tdf_nrc<span class="sc">$</span>polarity</span>
<span id="cb103-704"><a href="#cb103-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-705"><a href="#cb103-705" aria-hidden="true" tabindex="-1"></a>tlda<span class="sc">$</span>date <span class="ot">&lt;-</span> tdf_nrc<span class="sc">$</span>date</span>
<span id="cb103-706"><a href="#cb103-706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-707"><a href="#cb103-707" aria-hidden="true" tabindex="-1"></a>tlda_model <span class="ot">&lt;-</span> LDA<span class="sc">$</span><span class="fu">new</span>(<span class="at">n_topics =</span> <span class="dv">25</span>, <span class="at">doc_topic_prior =</span> <span class="fl">0.1</span>,</span>
<span id="cb103-708"><a href="#cb103-708" aria-hidden="true" tabindex="-1"></a>                     <span class="at">topic_word_prior =</span> <span class="fl">0.01</span>)</span>
<span id="cb103-709"><a href="#cb103-709" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-710"><a href="#cb103-710" aria-hidden="true" tabindex="-1"></a>tdoc_topic_distr <span class="ot">&lt;-</span> </span>
<span id="cb103-711"><a href="#cb103-711" aria-hidden="true" tabindex="-1"></a>  tlda_model<span class="sc">$</span><span class="fu">fit_transform</span>(<span class="at">x =</span> tlda, <span class="at">n_iter =</span> <span class="dv">1000</span>,</span>
<span id="cb103-712"><a href="#cb103-712" aria-hidden="true" tabindex="-1"></a>                          <span class="at">convergence_tol =</span> <span class="fl">0.001</span>, <span class="at">n_check_convergence =</span> <span class="dv">25</span>,</span>
<span id="cb103-713"><a href="#cb103-713" aria-hidden="true" tabindex="-1"></a>                          <span class="at">progressbar =</span> <span class="cn">FALSE</span>)</span>
<span id="cb103-714"><a href="#cb103-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-715"><a href="#cb103-715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-716"><a href="#cb103-716" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-717"><a href="#cb103-717" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-718"><a href="#cb103-718" aria-hidden="true" tabindex="-1"></a><span class="in">```{r charting r}</span></span>
<span id="cb103-719"><a href="#cb103-719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-720"><a href="#cb103-720" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(rdoc_topic_distr[<span class="dv">1</span>, ], <span class="at">xlab =</span> <span class="st">&quot;topic&quot;</span>,</span>
<span id="cb103-721"><a href="#cb103-721" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;proportion&quot;</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb103-722"><a href="#cb103-722" aria-hidden="true" tabindex="-1"></a>        <span class="at">names.arg =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(rdoc_topic_distr))</span>
<span id="cb103-723"><a href="#cb103-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-724"><a href="#cb103-724" aria-hidden="true" tabindex="-1"></a>rlda_model<span class="sc">$</span><span class="fu">get_top_words</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">topic_number =</span> <span class="fu">c</span>(1L, 5L, 10L),</span>
<span id="cb103-725"><a href="#cb103-725" aria-hidden="true" tabindex="-1"></a>                        <span class="at">lambda =</span> <span class="dv">1</span>)</span>
<span id="cb103-726"><a href="#cb103-726" aria-hidden="true" tabindex="-1"></a>rlda_model<span class="sc">$</span><span class="fu">get_top_words</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">topic_number =</span> <span class="fu">c</span>(1L, 5L, 10L),</span>
<span id="cb103-727"><a href="#cb103-727" aria-hidden="true" tabindex="-1"></a>                        <span class="at">lambda =</span> <span class="fl">0.2</span>)</span>
<span id="cb103-728"><a href="#cb103-728" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-729"><a href="#cb103-729" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-730"><a href="#cb103-730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-731"><a href="#cb103-731" aria-hidden="true" tabindex="-1"></a><span class="in">```{r charting t}</span></span>
<span id="cb103-732"><a href="#cb103-732" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-733"><a href="#cb103-733" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(tdoc_topic_distr[<span class="dv">1</span>, ], <span class="at">xlab =</span> <span class="st">&quot;topic&quot;</span>,</span>
<span id="cb103-734"><a href="#cb103-734" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;proportion&quot;</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb103-735"><a href="#cb103-735" aria-hidden="true" tabindex="-1"></a>        <span class="at">names.arg =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(tdoc_topic_distr))</span>
<span id="cb103-736"><a href="#cb103-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-737"><a href="#cb103-737" aria-hidden="true" tabindex="-1"></a>tlda_model<span class="sc">$</span><span class="fu">get_top_words</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">topic_number =</span> <span class="fu">c</span>(1L, 5L, 10L),</span>
<span id="cb103-738"><a href="#cb103-738" aria-hidden="true" tabindex="-1"></a>                        <span class="at">lambda =</span> <span class="dv">1</span>)</span>
<span id="cb103-739"><a href="#cb103-739" aria-hidden="true" tabindex="-1"></a>tlda_model<span class="sc">$</span><span class="fu">get_top_words</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">topic_number =</span> <span class="fu">c</span>(1L, 5L, 10L),</span>
<span id="cb103-740"><a href="#cb103-740" aria-hidden="true" tabindex="-1"></a>                        <span class="at">lambda =</span> <span class="fl">0.2</span>)</span>
<span id="cb103-741"><a href="#cb103-741" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-742"><a href="#cb103-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-743"><a href="#cb103-743" aria-hidden="true" tabindex="-1"></a><span class="in">```{r testing visuals}</span></span>
<span id="cb103-744"><a href="#cb103-744" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-745"><a href="#cb103-745" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(LDAvis)</span>
<span id="cb103-746"><a href="#cb103-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-747"><a href="#cb103-747" aria-hidden="true" tabindex="-1"></a>rlda_model<span class="sc">$</span><span class="fu">plot</span>()</span>
<span id="cb103-748"><a href="#cb103-748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-749"><a href="#cb103-749" aria-hidden="true" tabindex="-1"></a>tlda_model<span class="sc">$</span><span class="fu">plot</span>()</span>
<span id="cb103-750"><a href="#cb103-750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-751"><a href="#cb103-751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-752"><a href="#cb103-752" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-753"><a href="#cb103-753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-754"><a href="#cb103-754" aria-hidden="true" tabindex="-1"></a>Here we&#39;re able to see some interesting things! For Reddit especially, Twitter and Reddit topics seem to have topics that overlap significantly. This was something I hadn&#39;t seen before with my STM models.</span>
<span id="cb103-755"><a href="#cb103-755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-756"><a href="#cb103-756" aria-hidden="true" tabindex="-1"></a>We&#39;re also able to see with a lambda of 1 and .2 there&#39;s quite a difference in topic names.</span>
<span id="cb103-757"><a href="#cb103-757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-758"><a href="#cb103-758" aria-hidden="true" tabindex="-1"></a>Additionally we&#39;re able to see that some bar topics stand out quite a lot more than other topics. This made me decide to try a smaller amount of topics.</span>
<span id="cb103-759"><a href="#cb103-759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-760"><a href="#cb103-760" aria-hidden="true" tabindex="-1"></a><span class="in">```{r 2nd test}</span></span>
<span id="cb103-761"><a href="#cb103-761" aria-hidden="true" tabindex="-1"></a>rlda_model <span class="ot">&lt;-</span> LDA<span class="sc">$</span><span class="fu">new</span>(<span class="at">n_topics =</span> <span class="dv">5</span>, <span class="at">doc_topic_prior =</span> <span class="fl">0.1</span>,</span>
<span id="cb103-762"><a href="#cb103-762" aria-hidden="true" tabindex="-1"></a>                     <span class="at">topic_word_prior =</span> <span class="fl">0.01</span>)</span>
<span id="cb103-763"><a href="#cb103-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-764"><a href="#cb103-764" aria-hidden="true" tabindex="-1"></a>rdoc_topic_distr <span class="ot">&lt;-</span> </span>
<span id="cb103-765"><a href="#cb103-765" aria-hidden="true" tabindex="-1"></a>  rlda_model<span class="sc">$</span><span class="fu">fit_transform</span>(<span class="at">x =</span> rlda, <span class="at">n_iter =</span> <span class="dv">1000</span>,</span>
<span id="cb103-766"><a href="#cb103-766" aria-hidden="true" tabindex="-1"></a>                          <span class="at">convergence_tol =</span> <span class="fl">0.001</span>, <span class="at">n_check_convergence =</span> <span class="dv">25</span>,</span>
<span id="cb103-767"><a href="#cb103-767" aria-hidden="true" tabindex="-1"></a>                          <span class="at">progressbar =</span> <span class="cn">FALSE</span>)</span>
<span id="cb103-768"><a href="#cb103-768" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-769"><a href="#cb103-769" aria-hidden="true" tabindex="-1"></a>tlda_model <span class="ot">&lt;-</span> LDA<span class="sc">$</span><span class="fu">new</span>(<span class="at">n_topics =</span> <span class="dv">5</span>, <span class="at">doc_topic_prior =</span> <span class="fl">0.1</span>,</span>
<span id="cb103-770"><a href="#cb103-770" aria-hidden="true" tabindex="-1"></a>                     <span class="at">topic_word_prior =</span> <span class="fl">0.01</span>)</span>
<span id="cb103-771"><a href="#cb103-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-772"><a href="#cb103-772" aria-hidden="true" tabindex="-1"></a>tdoc_topic_distr <span class="ot">&lt;-</span> </span>
<span id="cb103-773"><a href="#cb103-773" aria-hidden="true" tabindex="-1"></a>  tlda_model<span class="sc">$</span><span class="fu">fit_transform</span>(<span class="at">x =</span> tlda, <span class="at">n_iter =</span> <span class="dv">1000</span>,</span>
<span id="cb103-774"><a href="#cb103-774" aria-hidden="true" tabindex="-1"></a>                          <span class="at">convergence_tol =</span> <span class="fl">0.001</span>, <span class="at">n_check_convergence =</span> <span class="dv">25</span>,</span>
<span id="cb103-775"><a href="#cb103-775" aria-hidden="true" tabindex="-1"></a>                          <span class="at">progressbar =</span> <span class="cn">FALSE</span>)</span>
<span id="cb103-776"><a href="#cb103-776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-777"><a href="#cb103-777" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(rdoc_topic_distr[<span class="dv">1</span>, ], <span class="at">xlab =</span> <span class="st">&quot;topic&quot;</span>,</span>
<span id="cb103-778"><a href="#cb103-778" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;proportion&quot;</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb103-779"><a href="#cb103-779" aria-hidden="true" tabindex="-1"></a>        <span class="at">names.arg =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(rdoc_topic_distr))</span>
<span id="cb103-780"><a href="#cb103-780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-781"><a href="#cb103-781" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(tdoc_topic_distr[<span class="dv">1</span>, ], <span class="at">xlab =</span> <span class="st">&quot;topic&quot;</span>,</span>
<span id="cb103-782"><a href="#cb103-782" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;proportion&quot;</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb103-783"><a href="#cb103-783" aria-hidden="true" tabindex="-1"></a>        <span class="at">names.arg =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(tdoc_topic_distr))</span>
<span id="cb103-784"><a href="#cb103-784" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-785"><a href="#cb103-785" aria-hidden="true" tabindex="-1"></a>rlda_model<span class="sc">$</span><span class="fu">plot</span>()</span>
<span id="cb103-786"><a href="#cb103-786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-787"><a href="#cb103-787" aria-hidden="true" tabindex="-1"></a>tlda_model<span class="sc">$</span><span class="fu">plot</span>()</span>
<span id="cb103-788"><a href="#cb103-788" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-789"><a href="#cb103-789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-790"><a href="#cb103-790" aria-hidden="true" tabindex="-1"></a>Hmm looking at the charts while it seems to work alright, none of the topics touch each other that much. Additionally there seems to be a lot more interacting that&#39;s realistic when it was broken out into more categories. Since in my previous blog post I did find the best k-means to be 25 I&#39;ll stick with that.</span>
<span id="cb103-791"><a href="#cb103-791" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-792"><a href="#cb103-792" aria-hidden="true" tabindex="-1"></a><span class="in">```{r full lda code}</span></span>
<span id="cb103-793"><a href="#cb103-793" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-794"><a href="#cb103-794" aria-hidden="true" tabindex="-1"></a>rlda_model <span class="ot">&lt;-</span> LDA<span class="sc">$</span><span class="fu">new</span>(<span class="at">n_topics =</span> <span class="dv">25</span>, <span class="at">doc_topic_prior =</span> <span class="fl">0.1</span>,</span>
<span id="cb103-795"><a href="#cb103-795" aria-hidden="true" tabindex="-1"></a>                     <span class="at">topic_word_prior =</span> <span class="fl">0.01</span>)</span>
<span id="cb103-796"><a href="#cb103-796" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-797"><a href="#cb103-797" aria-hidden="true" tabindex="-1"></a>rdoc_topic_distr <span class="ot">&lt;-</span> </span>
<span id="cb103-798"><a href="#cb103-798" aria-hidden="true" tabindex="-1"></a>  rlda_model<span class="sc">$</span><span class="fu">fit_transform</span>(<span class="at">x =</span> rlda, <span class="at">n_iter =</span> <span class="dv">1000</span>,</span>
<span id="cb103-799"><a href="#cb103-799" aria-hidden="true" tabindex="-1"></a>                          <span class="at">convergence_tol =</span> <span class="fl">0.001</span>, <span class="at">n_check_convergence =</span> <span class="dv">25</span>,</span>
<span id="cb103-800"><a href="#cb103-800" aria-hidden="true" tabindex="-1"></a>                          <span class="at">progressbar =</span> <span class="cn">FALSE</span>)</span>
<span id="cb103-801"><a href="#cb103-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-802"><a href="#cb103-802" aria-hidden="true" tabindex="-1"></a>tlda_model <span class="ot">&lt;-</span> LDA<span class="sc">$</span><span class="fu">new</span>(<span class="at">n_topics =</span> <span class="dv">25</span>, <span class="at">doc_topic_prior =</span> <span class="fl">0.1</span>,</span>
<span id="cb103-803"><a href="#cb103-803" aria-hidden="true" tabindex="-1"></a>                     <span class="at">topic_word_prior =</span> <span class="fl">0.01</span>)</span>
<span id="cb103-804"><a href="#cb103-804" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-805"><a href="#cb103-805" aria-hidden="true" tabindex="-1"></a>tdoc_topic_distr <span class="ot">&lt;-</span> </span>
<span id="cb103-806"><a href="#cb103-806" aria-hidden="true" tabindex="-1"></a>  tlda_model<span class="sc">$</span><span class="fu">fit_transform</span>(<span class="at">x =</span> tlda, <span class="at">n_iter =</span> <span class="dv">1000</span>,</span>
<span id="cb103-807"><a href="#cb103-807" aria-hidden="true" tabindex="-1"></a>                          <span class="at">convergence_tol =</span> <span class="fl">0.001</span>, <span class="at">n_check_convergence =</span> <span class="dv">25</span>,</span>
<span id="cb103-808"><a href="#cb103-808" aria-hidden="true" tabindex="-1"></a>                          <span class="at">progressbar =</span> <span class="cn">FALSE</span>)</span>
<span id="cb103-809"><a href="#cb103-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-810"><a href="#cb103-810" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(rdoc_topic_distr[<span class="dv">1</span>, ], <span class="at">xlab =</span> <span class="st">&quot;topic&quot;</span>,</span>
<span id="cb103-811"><a href="#cb103-811" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;proportion&quot;</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb103-812"><a href="#cb103-812" aria-hidden="true" tabindex="-1"></a>        <span class="at">names.arg =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(rdoc_topic_distr))</span>
<span id="cb103-813"><a href="#cb103-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-814"><a href="#cb103-814" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(tdoc_topic_distr[<span class="dv">1</span>, ], <span class="at">xlab =</span> <span class="st">&quot;topic&quot;</span>,</span>
<span id="cb103-815"><a href="#cb103-815" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;proportion&quot;</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb103-816"><a href="#cb103-816" aria-hidden="true" tabindex="-1"></a>        <span class="at">names.arg =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(tdoc_topic_distr))</span>
<span id="cb103-817"><a href="#cb103-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-818"><a href="#cb103-818" aria-hidden="true" tabindex="-1"></a>rlda_model<span class="sc">$</span><span class="fu">plot</span>()</span>
<span id="cb103-819"><a href="#cb103-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-820"><a href="#cb103-820" aria-hidden="true" tabindex="-1"></a>tlda_model<span class="sc">$</span><span class="fu">plot</span>()</span>
<span id="cb103-821"><a href="#cb103-821" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-822"><a href="#cb103-822" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-823"><a href="#cb103-823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-824"><a href="#cb103-824" aria-hidden="true" tabindex="-1"></a><span class="fu"># STM New!</span></span>
<span id="cb103-825"><a href="#cb103-825" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-826"><a href="#cb103-826" aria-hidden="true" tabindex="-1"></a>Below I will have the STM for both reddit and twitter. This time I have added two prevalence items, polarity and dates. To get a count of days I used the arrange() function to arrange the dates correctly and then the rowid_to_column(var=&#39;count&#39;) function to gather a count by row.</span>
<span id="cb103-827"><a href="#cb103-827" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-828"><a href="#cb103-828" aria-hidden="true" tabindex="-1"></a><span class="in">```{r stm reddit}</span></span>
<span id="cb103-829"><a href="#cb103-829" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="dv">25</span></span>
<span id="cb103-830"><a href="#cb103-830" aria-hidden="true" tabindex="-1"></a>rModel <span class="ot">&lt;-</span> <span class="fu">dfm</span>(reddit_lemmitized)</span>
<span id="cb103-831"><a href="#cb103-831" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-832"><a href="#cb103-832" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(reddit_lemmitized) <span class="ot">&lt;-</span> rModel</span>
<span id="cb103-833"><a href="#cb103-833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-834"><a href="#cb103-834" aria-hidden="true" tabindex="-1"></a>rModel<span class="sc">$</span>polarity <span class="ot">&lt;-</span> rdf_nrc<span class="sc">$</span>polarity</span>
<span id="cb103-835"><a href="#cb103-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-836"><a href="#cb103-836" aria-hidden="true" tabindex="-1"></a>rModel<span class="sc">$</span>count <span class="ot">&lt;-</span> rdf_nrc<span class="sc">$</span>count</span>
<span id="cb103-837"><a href="#cb103-837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-838"><a href="#cb103-838" aria-hidden="true" tabindex="-1"></a>rModel <span class="ot">&lt;-</span> <span class="fu">stm</span>(rModel,</span>
<span id="cb103-839"><a href="#cb103-839" aria-hidden="true" tabindex="-1"></a>                <span class="at">K =</span> k,</span>
<span id="cb103-840"><a href="#cb103-840" aria-hidden="true" tabindex="-1"></a>              <span class="at">prevalence =</span> <span class="sc">~</span> polarity <span class="sc">+</span> <span class="fu">s</span>(count),</span>
<span id="cb103-841"><a href="#cb103-841" aria-hidden="true" tabindex="-1"></a>               <span class="at">max.em.its =</span> <span class="dv">1000</span>,</span>
<span id="cb103-842"><a href="#cb103-842" aria-hidden="true" tabindex="-1"></a>               <span class="at">seed =</span> <span class="dv">1234</span>,</span>
<span id="cb103-843"><a href="#cb103-843" aria-hidden="true" tabindex="-1"></a>               <span class="at">init.type =</span> <span class="st">&quot;Spectral&quot;</span>)</span>
<span id="cb103-844"><a href="#cb103-844" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-845"><a href="#cb103-845" aria-hidden="true" tabindex="-1"></a><span class="co">#labelTopics(rModel)</span></span>
<span id="cb103-846"><a href="#cb103-846" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rModel, <span class="at">type =</span> <span class="st">&quot;summary&quot;</span>, <span class="at">main=</span><span class="st">&quot;Reddit top topics by sentiment and date&quot;</span>)</span>
<span id="cb103-847"><a href="#cb103-847" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-848"><a href="#cb103-848" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-849"><a href="#cb103-849" aria-hidden="true" tabindex="-1"></a><span class="in">```{r stm twitter}</span></span>
<span id="cb103-850"><a href="#cb103-850" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="dv">25</span></span>
<span id="cb103-851"><a href="#cb103-851" aria-hidden="true" tabindex="-1"></a><span class="do">### TWITTER</span></span>
<span id="cb103-852"><a href="#cb103-852" aria-hidden="true" tabindex="-1"></a>tModel <span class="ot">&lt;-</span> <span class="fu">dfm</span>(twitter_lemmitized)</span>
<span id="cb103-853"><a href="#cb103-853" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-854"><a href="#cb103-854" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(twitter_lemmitized) <span class="ot">&lt;-</span> tModel</span>
<span id="cb103-855"><a href="#cb103-855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-856"><a href="#cb103-856" aria-hidden="true" tabindex="-1"></a>tModel<span class="sc">$</span>polarity <span class="ot">&lt;-</span> tdf_nrc<span class="sc">$</span>polarity</span>
<span id="cb103-857"><a href="#cb103-857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-858"><a href="#cb103-858" aria-hidden="true" tabindex="-1"></a>tModel<span class="sc">$</span>count <span class="ot">&lt;-</span> tdf_nrc<span class="sc">$</span>count</span>
<span id="cb103-859"><a href="#cb103-859" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-860"><a href="#cb103-860" aria-hidden="true" tabindex="-1"></a>tModel <span class="ot">&lt;-</span> <span class="fu">stm</span>(tModel,</span>
<span id="cb103-861"><a href="#cb103-861" aria-hidden="true" tabindex="-1"></a>                <span class="at">K =</span> k,</span>
<span id="cb103-862"><a href="#cb103-862" aria-hidden="true" tabindex="-1"></a>              <span class="at">prevalence =</span> <span class="sc">~</span> polarity <span class="sc">+</span> <span class="fu">s</span>(count),</span>
<span id="cb103-863"><a href="#cb103-863" aria-hidden="true" tabindex="-1"></a>               <span class="at">max.em.its =</span> <span class="dv">1000</span>,</span>
<span id="cb103-864"><a href="#cb103-864" aria-hidden="true" tabindex="-1"></a>               <span class="at">seed =</span> <span class="dv">1234</span>,</span>
<span id="cb103-865"><a href="#cb103-865" aria-hidden="true" tabindex="-1"></a>               <span class="at">init.type =</span> <span class="st">&quot;Spectral&quot;</span>)</span>
<span id="cb103-866"><a href="#cb103-866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-867"><a href="#cb103-867" aria-hidden="true" tabindex="-1"></a><span class="fu">labelTopics</span>(tModel)</span>
<span id="cb103-868"><a href="#cb103-868" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tModel, <span class="at">type =</span> <span class="st">&quot;summary&quot;</span>, <span class="at">main=</span><span class="st">&quot;Twitter top topics by sentiment and date&quot;</span>)</span>
<span id="cb103-869"><a href="#cb103-869" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb103-870"><a href="#cb103-870" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-871"><a href="#cb103-871" aria-hidden="true" tabindex="-1"></a>Here I was able to see that even with two factors (polarity and dates) it seems that the topics stayed fairly similar. However when I used count instead of date it did turn into a somewhat different STM model! This may be because the function s() is working properly on a continuous variable.</span>
<span id="cb103-872"><a href="#cb103-872" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-873"><a href="#cb103-873" aria-hidden="true" tabindex="-1"></a><span class="fu"># Final Thoughts (TLDR)</span></span>
<span id="cb103-874"><a href="#cb103-874" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-875"><a href="#cb103-875" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Throughout my various blog post I feel like I was able to craft multiple graphs that I want to use in my Final Project.</span>
<span id="cb103-876"><a href="#cb103-876" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-877"><a href="#cb103-877" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>It took a lot longer to figure out how to do sentiment by dates but it feels well worth it!</span>
<span id="cb103-878"><a href="#cb103-878" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-879"><a href="#cb103-879" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>I think looking back it might have been a better idea to combine the Twitter and Reddit data together and done an analysis on that. This may have caused less trouble in rendering the blog and let me explore a bit more in depth.</span>
<span id="cb103-880"><a href="#cb103-880" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-881"><a href="#cb103-881" aria-hidden="true" tabindex="-1"></a><span class="in">```{r save image}</span></span>
<span id="cb103-882"><a href="#cb103-882" aria-hidden="true" tabindex="-1"></a><span class="fu">save.image</span>(<span class="at">file =</span> <span class="st">&quot;blogpost6.RData&quot;</span>)</span>
<span id="cb103-883"><a href="#cb103-883" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
</div>
</section>

</main> <!-- /main -->
<script id = "quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<script src="https://giscus.app/client.js"
        data-repo="DACSS/Text_as_Data_Fall_2022"
        data-repo-id="R_kgDOH5675w"
        data-category="Announcements"
        data-category-id=""
        data-mapping="title"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
</div> <!-- /content -->

</body>

</html>